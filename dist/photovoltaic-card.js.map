{"version":3,"file":"photovoltaic-card.js","sources":["../node_modules/tslib/tslib.es6.js","../node_modules/@lit/reactive-element/css-tag.js","../node_modules/@lit/reactive-element/reactive-element.js","../node_modules/lit-html/lit-html.js","../node_modules/lit-element/lit-element.js","../node_modules/@lit/reactive-element/decorators/custom-element.js","../node_modules/@lit/reactive-element/decorators/property.js","../node_modules/suncalc/suncalc.js","../src/icons.ts","../src/tiles.ts","../src/styles.ts","../src/photovoltaic-card.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nvar ownKeys = function(o) {\r\n    ownKeys = Object.getOwnPropertyNames || function (o) {\r\n        var ar = [];\r\n        for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\r\n        return ar;\r\n    };\r\n    return ownKeys(o);\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\r\n    if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\r\n        return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\r\n            return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\r\n        });\r\n    }\r\n    return path;\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __esDecorate: __esDecorate,\r\n    __runInitializers: __runInitializers,\r\n    __propKey: __propKey,\r\n    __setFunctionName: __setFunctionName,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n    __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,\r\n};\r\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1]),t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,adoptStyles,css,getCompatibleStyle,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:r,getOwnPropertyNames:h,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),y={attribute:!0,type:String,converter:u,reflect:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class b extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=y){if(s.state&&(s.attribute=!1),this._$Ei(),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),r=this.getPropertyDescriptor(t,i,s);void 0!==r&&e(this.prototype,t,r)}}static getPropertyDescriptor(t,s,i){const{get:e,set:h}=r(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get(){return e?.call(this)},set(s){const r=e?.call(this);h.call(this,s),this.requestUpdate(t,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??y}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...h(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$EC(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const r=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==r?this.removeAttribute(e):this.setAttribute(e,r),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),r=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e,this[e]=r.fromAttribute(s,t.type),this._$Em=null}}requestUpdate(t,s,i){if(void 0!==t){if(i??=this.constructor.getPropertyOptions(t),!(i.hasChanged??f)(this[t],s))return;this.P(t,s,i)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(t,s,i){this._$AL.has(t)||this._$AL.set(t,s),!0===i.reflect&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t)!0!==i.wrapped||this._$AL.has(s)||void 0===this[s]||this.P(s,this[s],i)}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EU()}catch(s){throw t=!1,this._$EU(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach((t=>this._$EC(t,this[t]))),this._$EU()}updated(t){}firstUpdated(t){}}b.elementStyles=[],b.shadowRootOptions={mode:\"open\"},b[d(\"elementProperties\")]=new Map,b[d(\"finalized\")]=new Map,p?.({ReactiveElement:b}),(a.reactiveElementVersions??=[]).push(\"2.0.4\");export{b as ReactiveElement,u as defaultConverter,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=y(3),T=Symbol.for(\"lit-noChange\"),E=Symbol.for(\"lit-nothing\"),A=new WeakMap,C=r.createTreeWalker(r,129);function P(t,i){if(!a(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":3===i?\"<math>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[P(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":3===i?\"</math>\":\"\")),o]};class N{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=V(t,s);if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?H:\"?\"===e[1]?I:\"@\"===e[1]?L:k}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),C.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){if(i===T)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);C.currentNode=e;let h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new R(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new z(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=C.nextNode(),o++)}return C.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),c(t)?t===E||null==t||\"\"===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new M(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class k{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=S(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=S(this,e[s+n],i,n),r===T&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===E?t=E:t!==E&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E?void 0:t}}class I extends k{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E)}}class L extends k{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=S(this,t,i,0)??E)===T)return;const s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const Z={M:e,P:h,A:o,C:1,L:V,R:M,D:u,V:S,I:R,H:k,N:I,U:L,B:H,F:z},j=t.litHtmlPolyfillSupport;j?.(N,R),(t.litHtmlVersions??=[]).push(\"3.2.1\");const B=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new R(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{Z as _$LH,x as html,w as mathml,T as noChange,E as nothing,B as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as s}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class r extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const s=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(s,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return s}}r._$litElement$=!0,r[\"finalized\"]=!0,globalThis.litElementHydrateSupport?.({LitElement:r});const i=globalThis.litElementPolyfillSupport;i?.({LitElement:r});const o={_$AK:(t,e,s)=>{t._$AK(e,s)},_$AL:t=>t._$AL};(globalThis.litElementVersions??=[]).push(\"4.1.1\");export{r as LitElement,o as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=t=>(e,o)=>{void 0!==o?o.addInitializer((()=>{customElements.define(t,e)})):customElements.define(t,e)};export{t as customElement};\n//# sourceMappingURL=custom-element.js.map\n","import{defaultConverter as t,notEqual as e}from\"../reactive-element.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const o={attribute:!0,type:String,converter:t,reflect:!1,hasChanged:e},r=(t=o,e,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(void 0===s&&globalThis.litPropertyMetadata.set(i,s=new Map),s.set(r.name,t),\"accessor\"===n){const{name:o}=r;return{set(r){const n=e.get.call(this);e.set.call(this,r),this.requestUpdate(o,n,t)},init(e){return void 0!==e&&this.P(o,void 0,t),e}}}if(\"setter\"===n){const{name:o}=r;return function(r){const n=this[o];e.call(this,r),this.requestUpdate(o,n,t)}}throw Error(\"Unsupported decorator location: \"+n)};function n(t){return(e,o)=>\"object\"==typeof o?r(t,e,o):((t,e,o)=>{const r=e.hasOwnProperty(o);return e.constructor.createProperty(o,r?{...t,wrapped:!0}:t),r?Object.getOwnPropertyDescriptor(e,o):void 0})(t,e,o)}export{n as property,r as standardProperty};\n//# sourceMappingURL=property.js.map\n","/*\n (c) 2011-2015, Vladimir Agafonkin\n SunCalc is a JavaScript library for calculating sun/moon position and light phases.\n https://github.com/mourner/suncalc\n*/\n\n(function () { 'use strict';\n\n// shortcuts for easier to read formulas\n\nvar PI   = Math.PI,\n    sin  = Math.sin,\n    cos  = Math.cos,\n    tan  = Math.tan,\n    asin = Math.asin,\n    atan = Math.atan2,\n    acos = Math.acos,\n    rad  = PI / 180;\n\n// sun calculations are based on http://aa.quae.nl/en/reken/zonpositie.html formulas\n\n\n// date/time constants and conversions\n\nvar dayMs = 1000 * 60 * 60 * 24,\n    J1970 = 2440588,\n    J2000 = 2451545;\n\nfunction toJulian(date) { return date.valueOf() / dayMs - 0.5 + J1970; }\nfunction fromJulian(j)  { return new Date((j + 0.5 - J1970) * dayMs); }\nfunction toDays(date)   { return toJulian(date) - J2000; }\n\n\n// general calculations for position\n\nvar e = rad * 23.4397; // obliquity of the Earth\n\nfunction rightAscension(l, b) { return atan(sin(l) * cos(e) - tan(b) * sin(e), cos(l)); }\nfunction declination(l, b)    { return asin(sin(b) * cos(e) + cos(b) * sin(e) * sin(l)); }\n\nfunction azimuth(H, phi, dec)  { return atan(sin(H), cos(H) * sin(phi) - tan(dec) * cos(phi)); }\nfunction altitude(H, phi, dec) { return asin(sin(phi) * sin(dec) + cos(phi) * cos(dec) * cos(H)); }\n\nfunction siderealTime(d, lw) { return rad * (280.16 + 360.9856235 * d) - lw; }\n\nfunction astroRefraction(h) {\n    if (h < 0) // the following formula works for positive altitudes only.\n        h = 0; // if h = -0.08901179 a div/0 would occur.\n\n    // formula 16.4 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\n    // 1.02 / tan(h + 10.26 / (h + 5.10)) h in degrees, result in arc minutes -> converted to rad:\n    return 0.0002967 / Math.tan(h + 0.00312536 / (h + 0.08901179));\n}\n\n// general sun calculations\n\nfunction solarMeanAnomaly(d) { return rad * (357.5291 + 0.98560028 * d); }\n\nfunction eclipticLongitude(M) {\n\n    var C = rad * (1.9148 * sin(M) + 0.02 * sin(2 * M) + 0.0003 * sin(3 * M)), // equation of center\n        P = rad * 102.9372; // perihelion of the Earth\n\n    return M + C + P + PI;\n}\n\nfunction sunCoords(d) {\n\n    var M = solarMeanAnomaly(d),\n        L = eclipticLongitude(M);\n\n    return {\n        dec: declination(L, 0),\n        ra: rightAscension(L, 0)\n    };\n}\n\n\nvar SunCalc = {};\n\n\n// calculates sun position for a given date and latitude/longitude\n\nSunCalc.getPosition = function (date, lat, lng) {\n\n    var lw  = rad * -lng,\n        phi = rad * lat,\n        d   = toDays(date),\n\n        c  = sunCoords(d),\n        H  = siderealTime(d, lw) - c.ra;\n\n    return {\n        azimuth: azimuth(H, phi, c.dec),\n        altitude: altitude(H, phi, c.dec)\n    };\n};\n\n\n// sun times configuration (angle, morning name, evening name)\n\nvar times = SunCalc.times = [\n    [-0.833, 'sunrise',       'sunset'      ],\n    [  -0.3, 'sunriseEnd',    'sunsetStart' ],\n    [    -6, 'dawn',          'dusk'        ],\n    [   -12, 'nauticalDawn',  'nauticalDusk'],\n    [   -18, 'nightEnd',      'night'       ],\n    [     6, 'goldenHourEnd', 'goldenHour'  ]\n];\n\n// adds a custom time to the times config\n\nSunCalc.addTime = function (angle, riseName, setName) {\n    times.push([angle, riseName, setName]);\n};\n\n\n// calculations for sun times\n\nvar J0 = 0.0009;\n\nfunction julianCycle(d, lw) { return Math.round(d - J0 - lw / (2 * PI)); }\n\nfunction approxTransit(Ht, lw, n) { return J0 + (Ht + lw) / (2 * PI) + n; }\nfunction solarTransitJ(ds, M, L)  { return J2000 + ds + 0.0053 * sin(M) - 0.0069 * sin(2 * L); }\n\nfunction hourAngle(h, phi, d) { return acos((sin(h) - sin(phi) * sin(d)) / (cos(phi) * cos(d))); }\nfunction observerAngle(height) { return -2.076 * Math.sqrt(height) / 60; }\n\n// returns set time for the given sun altitude\nfunction getSetJ(h, lw, phi, dec, n, M, L) {\n\n    var w = hourAngle(h, phi, dec),\n        a = approxTransit(w, lw, n);\n    return solarTransitJ(a, M, L);\n}\n\n\n// calculates sun times for a given date, latitude/longitude, and, optionally,\n// the observer height (in meters) relative to the horizon\n\nSunCalc.getTimes = function (date, lat, lng, height) {\n\n    height = height || 0;\n\n    var lw = rad * -lng,\n        phi = rad * lat,\n\n        dh = observerAngle(height),\n\n        d = toDays(date),\n        n = julianCycle(d, lw),\n        ds = approxTransit(0, lw, n),\n\n        M = solarMeanAnomaly(ds),\n        L = eclipticLongitude(M),\n        dec = declination(L, 0),\n\n        Jnoon = solarTransitJ(ds, M, L),\n\n        i, len, time, h0, Jset, Jrise;\n\n\n    var result = {\n        solarNoon: fromJulian(Jnoon),\n        nadir: fromJulian(Jnoon - 0.5)\n    };\n\n    for (i = 0, len = times.length; i < len; i += 1) {\n        time = times[i];\n        h0 = (time[0] + dh) * rad;\n\n        Jset = getSetJ(h0, lw, phi, dec, n, M, L);\n        Jrise = Jnoon - (Jset - Jnoon);\n\n        result[time[1]] = fromJulian(Jrise);\n        result[time[2]] = fromJulian(Jset);\n    }\n\n    return result;\n};\n\n\n// moon calculations, based on http://aa.quae.nl/en/reken/hemelpositie.html formulas\n\nfunction moonCoords(d) { // geocentric ecliptic coordinates of the moon\n\n    var L = rad * (218.316 + 13.176396 * d), // ecliptic longitude\n        M = rad * (134.963 + 13.064993 * d), // mean anomaly\n        F = rad * (93.272 + 13.229350 * d),  // mean distance\n\n        l  = L + rad * 6.289 * sin(M), // longitude\n        b  = rad * 5.128 * sin(F),     // latitude\n        dt = 385001 - 20905 * cos(M);  // distance to the moon in km\n\n    return {\n        ra: rightAscension(l, b),\n        dec: declination(l, b),\n        dist: dt\n    };\n}\n\nSunCalc.getMoonPosition = function (date, lat, lng) {\n\n    var lw  = rad * -lng,\n        phi = rad * lat,\n        d   = toDays(date),\n\n        c = moonCoords(d),\n        H = siderealTime(d, lw) - c.ra,\n        h = altitude(H, phi, c.dec),\n        // formula 14.1 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\n        pa = atan(sin(H), tan(phi) * cos(c.dec) - sin(c.dec) * cos(H));\n\n    h = h + astroRefraction(h); // altitude correction for refraction\n\n    return {\n        azimuth: azimuth(H, phi, c.dec),\n        altitude: h,\n        distance: c.dist,\n        parallacticAngle: pa\n    };\n};\n\n\n// calculations for illumination parameters of the moon,\n// based on http://idlastro.gsfc.nasa.gov/ftp/pro/astro/mphase.pro formulas and\n// Chapter 48 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\n\nSunCalc.getMoonIllumination = function (date) {\n\n    var d = toDays(date || new Date()),\n        s = sunCoords(d),\n        m = moonCoords(d),\n\n        sdist = 149598000, // distance from Earth to Sun in km\n\n        phi = acos(sin(s.dec) * sin(m.dec) + cos(s.dec) * cos(m.dec) * cos(s.ra - m.ra)),\n        inc = atan(sdist * sin(phi), m.dist - sdist * cos(phi)),\n        angle = atan(cos(s.dec) * sin(s.ra - m.ra), sin(s.dec) * cos(m.dec) -\n                cos(s.dec) * sin(m.dec) * cos(s.ra - m.ra));\n\n    return {\n        fraction: (1 + cos(inc)) / 2,\n        phase: 0.5 + 0.5 * inc * (angle < 0 ? -1 : 1) / Math.PI,\n        angle: angle\n    };\n};\n\n\nfunction hoursLater(date, h) {\n    return new Date(date.valueOf() + h * dayMs / 24);\n}\n\n// calculations for moon rise/set times are based on http://www.stargazing.net/kepler/moonrise.html article\n\nSunCalc.getMoonTimes = function (date, lat, lng, inUTC) {\n    var t = new Date(date);\n    if (inUTC) t.setUTCHours(0, 0, 0, 0);\n    else t.setHours(0, 0, 0, 0);\n\n    var hc = 0.133 * rad,\n        h0 = SunCalc.getMoonPosition(t, lat, lng).altitude - hc,\n        h1, h2, rise, set, a, b, xe, ye, d, roots, x1, x2, dx;\n\n    // go in 2-hour chunks, each time seeing if a 3-point quadratic curve crosses zero (which means rise or set)\n    for (var i = 1; i <= 24; i += 2) {\n        h1 = SunCalc.getMoonPosition(hoursLater(t, i), lat, lng).altitude - hc;\n        h2 = SunCalc.getMoonPosition(hoursLater(t, i + 1), lat, lng).altitude - hc;\n\n        a = (h0 + h2) / 2 - h1;\n        b = (h2 - h0) / 2;\n        xe = -b / (2 * a);\n        ye = (a * xe + b) * xe + h1;\n        d = b * b - 4 * a * h1;\n        roots = 0;\n\n        if (d >= 0) {\n            dx = Math.sqrt(d) / (Math.abs(a) * 2);\n            x1 = xe - dx;\n            x2 = xe + dx;\n            if (Math.abs(x1) <= 1) roots++;\n            if (Math.abs(x2) <= 1) roots++;\n            if (x1 < -1) x1 = x2;\n        }\n\n        if (roots === 1) {\n            if (h0 < 0) rise = i + x1;\n            else set = i + x1;\n\n        } else if (roots === 2) {\n            rise = i + (ye < 0 ? x2 : x1);\n            set = i + (ye < 0 ? x1 : x2);\n        }\n\n        if (rise && set) break;\n\n        h0 = h2;\n    }\n\n    var result = {};\n\n    if (rise) result.rise = hoursLater(t, rise);\n    if (set) result.set = hoursLater(t, set);\n\n    if (!rise && !set) result[ye > 0 ? 'alwaysUp' : 'alwaysDown'] = true;\n\n    return result;\n};\n\n\n// export as Node module / AMD module / browser variable\nif (typeof exports === 'object' && typeof module !== 'undefined') module.exports = SunCalc;\nelse if (typeof define === 'function' && define.amd) define(SunCalc);\nelse window.SunCalc = SunCalc;\n\n}());\n","import { html } from \"lit\";\r\n\r\nexport function loader() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 140 139.11\">\r\n                    <defs>\r\n                        <style>\r\n                        .loader-cls-1 {\r\n                            fill: #898989;\r\n                        }\r\n\r\n                        .loader-cls-2 {\r\n                            fill: #141414;\r\n                        }\r\n\r\n                        .loader-cls-3 {\r\n                            fill: #b1b1b1;\r\n                        }\r\n\r\n                        .loader-cls-4 {\r\n                            fill: #4e4e4e;\r\n                        }\r\n\r\n                        .loader-cls-5 {\r\n                            fill: #767676;\r\n                        }\r\n\r\n                        .loader-cls-6 {\r\n                            fill: #272727;\r\n                        }\r\n\r\n                        .loader-cls-7 {\r\n                            fill: #626262;\r\n                        }\r\n\r\n                        .loader-cls-8 {\r\n                            fill: #fff;\r\n                        }\r\n\r\n                        .loader-cls-9 {\r\n                            fill: #3b3b3b;\r\n                        }\r\n\r\n                        .loader-cls-10 {\r\n                            fill: #d8d8d8;\r\n                        }\r\n\r\n                        .loader-cls-11 {\r\n                            fill: #c4c4c4;\r\n                        }\r\n\r\n                        .loader-cls-12 {\r\n                            fill: #ebebeb;\r\n                        }\r\n\r\n                        .loader-cls-13 {\r\n                            fill: #9d9d9d;\r\n                        }\r\n                        </style>\r\n                    </defs>\r\n                    <g id=\"Layer\">\r\n                        <g>\r\n                        <circle class=\"loader-cls-8\" cx=\"70\" cy=\"11.04\" r=\"11.04\" />\r\n                        <circle class=\"loader-cls-12\" cx=\"97.94\" cy=\"18\" r=\"11.04\" />\r\n                        <circle class=\"loader-cls-10\" cx=\"118.78\" cy=\"36.51\" r=\"11.04\" transform=\"translate(-4.93 48.23) rotate(-22.5)\" />\r\n                        <circle class=\"loader-cls-11\" cx=\"128.96\" cy=\"63.01\" r=\"11.04\" />\r\n                        <circle class=\"loader-cls-3\" cx=\"125.43\" cy=\"91.94\" r=\"11.04\" />\r\n                        <circle class=\"loader-cls-13\" cx=\"109.47\" cy=\"114.89\" r=\"11.04\" />\r\n                        <circle class=\"loader-cls-1\" cx=\"84.63\" cy=\"128.07\" r=\"11.04\" transform=\"translate(-55.35 191.1) rotate(-80.78)\" />\r\n                        <circle class=\"loader-cls-5\" cx=\"55.37\" cy=\"128.07\" r=\"11.04\" transform=\"translate(-74.35 76.66) rotate(-45)\" />\r\n                        <circle class=\"loader-cls-7\" cx=\"30.53\" cy=\"114.89\" r=\"11.04\" />\r\n                        <circle class=\"loader-cls-4\" cx=\"14.57\" cy=\"91.94\" r=\"11.04\" />\r\n                        <circle class=\"loader-cls-9\" cx=\"11.04\" cy=\"63.01\" r=\"11.04\" />\r\n                        <circle class=\"loader-cls-6\" cx=\"21.22\" cy=\"36.51\" r=\"11.04\" transform=\"translate(-19.6 25.7) rotate(-45)\" />\r\n                        <circle class=\"loader-cls-2\" cx=\"42.06\" cy=\"18\" r=\"11.04\" />\r\n                        <circle cx=\"70\" cy=\"11.04\" r=\"11.04\" />\r\n                        </g>\r\n                        <animateTransform\r\n                        attributeName=\"transform\"\r\n                        type=\"rotate\"\r\n                        from=\"0 70 70\"\r\n                        to=\"360 70 70\"\r\n                        dur=\"1s\"\r\n                        repeatCount=\"indefinite\"\r\n                        />\r\n                    </g>\r\n                    </svg>\r\n          `;\r\n  }\r\n\r\n\r\nexport function rainy() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 380.22 370.91\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"meteo-icon-svg\" d=\"M141.41,251.36l-32.02,55.87M172.51,286.52l-44.07,76.88M243.91,251.36l-32.02,55.87M167.63,216.29c134.94,0,103.8,0,123.38,0,45.13,0,81.7-33.46,81.7-74.74s-36.58-74.75-81.7-74.75c-5.66,0-11.2.53-16.54,1.53-15.18-35.6-53.02-60.83-97.32-60.83-57.67,0-104.42,42.77-104.42,95.53v1.38c-1.32-.08-2.66-.13-4.02-.13-33.81,0-61.22,25.08-61.22,56.01s27.41,56,61.22,56h98.91Z\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function cloudeCoverage() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 358.91 295.78\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"meteo-icon-svg\" d=\"M163.15,120.82c5.05-27.28,27.53-49.16,56.53-52.19,35.3-3.69,66.91,21.94,70.61,57.24,1.97,18.83-4.41,36.61-16.14,49.66M216.64,31.76l-2.53-24.26,2.53,24.26h0ZM167.55,50.12l-14.33-19.74,14.33,19.74h0ZM134.22,90.57l-22.28-9.93,22.28,9.93h0ZM318.5,174.53l22.28,9.94-22.28-9.94h0ZM327.14,122.84l24.26-2.54-24.26,2.54h0ZM308.79,73.74l19.74-14.33-19.74,14.33h0ZM268.34,40.41l9.93-22.28-9.93,22.28h0ZM133.38,288.28c106.07,0,81.59,0,96.99,0,35.47,0,64.22-26.31,64.22-58.76s-28.75-58.76-64.22-58.76c-4.45,0-8.8.42-13,1.21-11.93-27.99-41.68-47.82-76.5-47.82-45.33,0-82.08,33.62-82.08,75.09v1.08c-1.04-.06-2.09-.1-3.16-.1-26.58,0-48.12,19.71-48.12,44.02s21.54,44.02,48.12,44.02h77.76Z\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function uvIndex() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 361.09 361.09\">\r\n                <defs>\r\n                    <style>\r\n                    .cls-2 {\r\n                        fill: #fff;\r\n                        font-family: MyriadPro-Regular, 'Myriad Pro';\r\n                        font-size: 100px;\r\n                    }\r\n                    </style>\r\n                </defs>\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"meteo-icon-svg\" d=\"M180.54,83.01c53.87,0,97.54,43.67,97.54,97.54s-43.67,97.54-97.54,97.54-97.54-43.67-97.54-97.54,43.67-97.54,97.54-97.54h0Z\"/>\r\n                    <polyline class=\"meteo-icon-svg\" points=\"181.67 7.5 181.67 41.1 181.67 41.1 181.67 7.5\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"111.8 59.22 95 30.12 111.8 59.22 111.8 59.22\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"60.34 109.84 31.25 93.04 60.34 109.84 60.34 109.84\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"41.1 179.41 7.5 179.41 41.1 179.41 41.1 179.41\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"59.21 249.29 30.11 266.09 59.21 249.29 59.21 249.29\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"109.84 300.75 93.04 329.84 109.84 300.75 109.84 300.75\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"179.41 319.99 179.41 353.59 179.41 319.99 179.41 319.99\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"249.29 301.87 266.09 330.97 249.29 301.87 249.29 301.87\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"300.74 251.25 329.84 268.05 300.74 251.25 300.74 251.25\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"319.99 181.68 353.59 181.68 319.99 181.68 319.99 181.68\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"301.88 111.8 330.97 95 301.88 111.8 301.88 111.8\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"251.25 60.35 268.04 31.25 251.25 60.35 251.25 60.35\"/>\r\n                    <text class=\"meteo-icon-svg-cl2\" transform=\"translate(120.14 209.9)\"><tspan x=\"0\" y=\"0\">UV</tspan></text>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n  \r\n  export function temperature() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 243.22 384.87\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"meteo-icon-svg\" d=\"M92.84,7.5h.69c20.38,0,37.06,16.67,37.06,37.06v170.03c28.58,13.89,48.28,43.19,48.28,77.1,0,47.32-38.36,85.68-85.68,85.68S7.5,339.01,7.5,291.69c0-33.91,19.7-63.21,48.28-77.1V44.56c0-20.38,16.67-37.06,37.06-37.06h0ZM93.18,256.31c19.54,0,35.38,15.84,35.38,35.38s-15.84,35.38-35.38,35.38-35.38-15.84-35.38-35.38,15.84-35.38,35.38-35.38h0ZM93.18,252.69V99.36M235.72,45.34h-61.85M209.66,82.48h-35.79M235.72,119.62h-61.85M209.66,156.77h-35.79M235.72,193.91h-61.85\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function clearnight() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 339.7 364.5\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"meteo-icon-svg\" d=\"M332.2,277.32c-25.62,38.87-66.15,67.05-113.46,76.35-11.1,2.18-22.59,3.33-34.33,3.33-84.49,0-155.15-59.24-172.71-138.43-2.74-12.39-4.2-25.26-4.2-38.47C7.5,95.77,66.5,25.24,145.48,7.5c-18.39,27.9-29.11,61.31-29.11,97.23,0,97.7,79.21,176.9,176.9,176.9,13.38,0,26.4-1.49,38.93-4.31h0Z\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function cloudy() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 378.11 295.31\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"meteo-icon-svg\" d=\"M185.9,287.81c72.89,0,52.49,0,68.8,0,37.58,0,68.04-27.87,68.04-62.24s-30.46-62.24-68.04-62.24c-4.72,0-9.32.44-13.77,1.28-12.64-29.65-44.16-50.66-81.04-50.66-48.03,0-86.96,35.62-86.96,79.55v1.15c-1.1-.07-2.22-.1-3.35-.1-28.16,0-50.98,20.88-50.98,46.64s22.82,46.64,50.98,46.64h116.32ZM33.03,194.86c-15.71-13.55-25.53-32.77-25.53-54.09,0-41.05,36.37-74.31,81.23-74.31,5.63,0,11.13.53,16.44,1.52,15.09-35.4,52.72-60.48,96.76-60.48,57.34,0,103.82,42.52,103.82,94.98l-.02,1.37c1.33-.08,2.67-.12,4.02-.12,33.61,0,60.86,24.93,60.86,55.68,0,23.95-16.53,44.36-39.71,52.22\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function day() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 361.09 361.09\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"meteo-icon-svg\" d=\"M180.54,83.01c53.87,0,97.54,43.67,97.54,97.54s-43.67,97.54-97.54,97.54-97.54-43.67-97.54-97.54,43.67-97.54,97.54-97.54h0ZM181.67,41.1V7.5v33.6h0ZM111.8,59.22l-16.8-29.1,16.8,29.1h0ZM60.34,109.84l-29.1-16.8,29.1,16.8h0ZM41.1,179.41H7.5h33.6ZM59.21,249.29l-29.1,16.8,29.1-16.8h0ZM109.84,300.75l-16.8,29.1,16.8-29.1h0ZM179.41,319.99v33.6-33.6h0ZM249.29,301.87l16.8,29.1-16.8-29.1h0ZM300.74,251.25l29.1,16.8-29.1-16.8h0ZM319.99,181.68h33.6-33.6ZM301.88,111.8l29.09-16.8-29.09,16.8h0ZM251.25,60.35l16.8-29.1-16.8,29.1h0Z\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function partlycloudy() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 388.11 361.09\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"meteo-icon-svg\" d=\"M267.64,224.5c-16.07,31.79-49.04,53.59-87.1,53.59-53.87,0-97.53-43.67-97.53-97.54s43.67-97.54,97.53-97.54c22.11,0,39.94,5.3,56,17.46M181.67,41.1V7.5v33.6h0ZM111.8,59.22l-16.8-29.1,16.8,29.1h0ZM60.34,109.84l-29.1-16.8,29.1,16.8h0ZM41.1,179.42H7.5h33.6ZM59.21,249.29l-29.1,16.8,29.1-16.8h0ZM109.84,300.75l-16.8,29.1,16.8-29.1h0ZM179.41,319.99v33.6-33.6h0ZM249.29,301.87l16.8,29.1-16.8-29.1h0ZM300.75,251.25l29.1,16.8-29.1-16.8h0ZM251.25,60.35l16.8-29.1-16.8,29.1h0ZM279.72,224.41c53.74,0,38.7,0,50.72,0,27.7,0,50.16-20.54,50.16-45.89s-22.46-45.89-50.16-45.89c-3.48,0-6.88.33-10.16.94-9.32-21.86-32.56-37.35-59.75-37.35-35.41,0-64.12,26.26-64.12,58.66v.84c-.81-.05-1.63-.07-2.47-.07-20.76,0-37.59,15.39-37.59,34.39s16.83,34.39,37.59,34.39h85.77Z\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function hail() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 380.21 320.89\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"meteo-icon-svg\" d=\"M291.02,216.29c45.12,0,81.7-33.46,81.7-74.74s-36.58-74.75-81.7-74.75c-5.67,0-11.2.53-16.54,1.53-15.18-35.6-53.02-60.83-97.32-60.83-57.67,0-104.42,42.77-104.42,95.53l.02,1.38c-1.33-.08-2.68-.12-4.04-.12-33.81,0-61.22,25.07-61.22,56s27.41,56,61.22,56h38.15\"/>\r\n                    <circle class=\"meteo-icon-svg\" cx=\"158.23\" cy=\"156.15\" r=\"30.79\"/>\r\n                    <circle class=\"meteo-icon-svg\" cx=\"216.54\" cy=\"234.77\" r=\"17.04\"/>\r\n                    <circle class=\"meteo-icon-svg\" cx=\"131.36\" cy=\"292.43\" r=\"20.97\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function lightningrainy() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 380.22 370.9\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"meteo-icon-svg\" d=\"M204.32,251.37l-32.02,55.86M235.41,286.53l-44.07,76.88M306.81,251.37l-32.02,55.86M218.99,216.29c87.52,0,52.44,0,72.02,0,45.12,0,81.7-33.46,81.7-74.75s-36.58-74.74-81.7-74.74c-5.67,0-11.2.53-16.54,1.53-15.18-35.6-53.02-60.83-97.32-60.83-57.67,0-104.42,42.77-104.42,95.53l.02,1.38c-1.34-.08-2.68-.12-4.04-.12-33.81,0-61.22,25.07-61.22,56,0,22.03,13.9,41.08,34.11,50.23M70.8,337.51l39.72-93.62-39.07.59,44.38-100.99,57.21-.15-49.62,73.39,48.82.22-101.43,120.57h0Z\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function lightning() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 380.22 345\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"cls-1\" d=\"M219,216.29c87.52,0,52.44,0,72.02,0,45.12,0,81.7-33.46,81.7-74.74s-36.58-74.75-81.7-74.75c-5.67,0-11.2.53-16.54,1.53-15.18-35.6-53.02-60.83-97.32-60.83-57.67,0-104.42,42.77-104.42,95.53v1.38c-1.32-.08-2.66-.13-4.02-.13-33.81,0-61.22,25.07-61.22,56.01,0,22.02,13.9,41.08,34.11,50.23M70.81,337.5l39.71-93.63-39.06.59,44.38-100.99,57.2-.15-49.62,73.4,48.81.21-101.43,120.57h0Z\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function partlycloudynight() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 367.62 364.5\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"cls-1\" d=\"M188.35,247.17c29.35,21.65,65.64,34.46,104.93,34.46,13.38,0,26.4-1.49,38.93-4.31-25.62,38.87-66.16,67.05-113.46,76.35-11.1,2.18-22.59,3.33-34.33,3.33-84.49,0-155.15-59.24-172.71-138.43-2.74-12.39-4.2-25.26-4.2-38.47C7.5,95.77,66.5,25.24,145.47,7.5c-18.39,27.9-29.11,61.31-29.11,97.23,0,17.42,2.52,34.26,7.21,50.15M230.96,245.51c68.8,0,49.54,0,64.94,0,35.47,0,64.22-26.3,64.22-58.75s-28.75-58.76-64.22-58.76c-4.45,0-8.8.42-13,1.21-11.93-27.99-41.68-47.82-76.5-47.82-45.33,0-82.08,33.62-82.08,75.09l.02,1.08c-1.05-.06-2.11-.1-3.18-.1-26.58,0-48.12,19.71-48.12,44.02s21.54,44.02,48.12,44.02h109.8Z\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function pouring() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 380.22 341.95\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"cls-1\" d=\"M101.38,253.02l-46.68,81.44M167.63,216.29c134.94,0,103.8,0,123.38,0,45.12,0,81.7-33.46,81.7-74.74s-36.58-74.74-81.7-74.74c-5.67,0-11.2.53-16.54,1.53-15.18-35.61-53.03-60.84-97.32-60.84-57.67,0-104.42,42.77-104.42,95.53l.02,1.38c-1.34-.08-2.68-.12-4.04-.12-33.81,0-61.22,25.07-61.22,56.01s27.4,56,61.22,56h98.91ZM157.19,255.12l-45.09,78.66M213,255.12l-45.1,78.66M268.8,255.12l-45.1,78.66\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function snowyrainy() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 380.21 351.11\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"cls-1\" d=\"M291.02,216.29c45.12,0,81.7-33.46,81.7-74.74s-36.58-74.75-81.7-74.75c-5.67,0-11.2.53-16.54,1.53-15.18-35.6-53.02-60.83-97.32-60.83-57.67,0-104.42,42.77-104.42,95.53l.02,1.38c-1.33-.08-2.68-.12-4.04-.12-33.81,0-61.22,25.07-61.22,56s27.41,56,61.22,56h38.15\"/>\r\n                    <line class=\"cls-1\" x1=\"230.73\" y1=\"188.11\" x2=\"230.73\" y2=\"262.38\"/>\r\n                    <line class=\"cls-1\" x1=\"262.89\" y1=\"243.81\" x2=\"198.57\" y2=\"206.68\"/>\r\n                    <line class=\"cls-1\" x1=\"198.57\" y1=\"243.81\" x2=\"262.89\" y2=\"206.68\"/>\r\n                    <line class=\"cls-1\" x1=\"87.02\" y1=\"248.3\" x2=\"42.95\" y2=\"325.17\"/>\r\n                    <line class=\"cls-1\" x1=\"158.42\" y1=\"213.14\" x2=\"126.4\" y2=\"269\"/>\r\n                    <line class=\"cls-1\" x1=\"180.4\" y1=\"292.11\" x2=\"180.4\" y2=\"343.61\"/>\r\n                    <line class=\"cls-1\" x1=\"202.7\" y1=\"330.74\" x2=\"158.1\" y2=\"304.99\"/>\r\n                    <line class=\"cls-1\" x1=\"158.1\" y1=\"330.74\" x2=\"202.7\" y2=\"304.99\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function windyvariant() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 356.02 280.76\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"cls-1\" d=\"M291.02,66.8c-5.67,0-11.2.53-16.54,1.53-15.18-35.6-53.02-60.83-97.32-60.83-57.67,0-104.42,42.77-104.42,95.53l.02,1.38c-1.34-.08-2.68-.12-4.04-.12-33.81,0-61.22,25.07-61.22,56.01s27.41,56,61.22,56h51.5\"/>\r\n                    <g>\r\n                    <path class=\"cls-1\" d=\"M348.22,184.2h-192.03c-20.45,0-37.03-16.58-37.03-37.03s16.58-37.03,37.03-37.03c10.23,0,19.49,4.15,26.19,10.85,6.7,6.7,10.85,15.96,10.85,26.18\"/>\r\n                    <path class=\"cls-1\" d=\"M309.75,211.05h-118.17c-17.18,0-31.1,13.93-31.1,31.1s13.93,31.1,31.1,31.1,31.1-13.93,31.1-31.1\"/>\r\n                    <path class=\"cls-1\" d=\"M348.52,157.27h-107.28c-14.65,0-26.53-11.88-26.53-26.53,0-14.65,11.88-26.53,26.53-26.53,7.33,0,13.96,2.97,18.76,7.77,4.8,4.8,7.77,11.43,7.77,18.76\"/>\r\n                    </g>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function windy() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 423.96 316.44\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <g>\r\n                    <path class=\"cls-1\" d=\"M284.4,84.11c0-18.24,7.39-34.74,19.34-46.69,11.95-11.95,28.46-19.35,46.69-19.35,36.47,0,66.03,29.56,66.03,66.03s-29.56,66.03-66.03,66.03H8.03\"/>\r\n                    <path class=\"cls-1\" d=\"M231.88,253.48c0,30.63,24.83,55.46,55.46,55.46s55.46-24.83,55.46-55.46-24.83-55.46-55.46-55.46H76.63\"/>\r\n                    <path class=\"cls-1\" d=\"M151.47,54.81c0-13.06,5.29-24.89,13.86-33.45,8.56-8.56,20.39-13.86,33.45-13.86,26.13,0,47.31,21.18,47.31,47.31s-21.18,47.31-47.31,47.31H7.5\"/>\r\n                    </g>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function fog() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 445.43 211.55\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <g>\r\n                    <line class=\"cls-1\" x1=\"7.5\" y1=\"204.05\" x2=\"281.18\" y2=\"204.05\"/>\r\n                    <line class=\"cls-1\" x1=\"59.75\" y1=\"164.74\" x2=\"383.19\" y2=\"164.74\"/>\r\n                    <line class=\"cls-1\" x1=\"17.45\" y1=\"125.43\" x2=\"313.53\" y2=\"125.43\"/>\r\n                    <line class=\"cls-1\" x1=\"159.27\" y1=\"86.12\" x2=\"437.93\" y2=\"86.12\"/>\r\n                    <line class=\"cls-1\" x1=\"72.19\" y1=\"46.81\" x2=\"286.16\" y2=\"46.81\"/>\r\n                    <line class=\"cls-1\" x1=\"146.83\" y1=\"7.5\" x2=\"370.75\" y2=\"7.5\"/>\r\n                    </g>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }","import { html } from 'lit';\r\n\r\nexport function pvIcon(state) {\r\n    return html`\r\n        <svg id=\"Livello_1\" xmlns=\"http://www.w3.org/2000/svg\"  version=\"1.1\" viewBox=\"0 0 200 200\">\r\n          <defs>\r\n            <style>\r\n              .st0 {\r\n                fill: #465e5e;\r\n              }\r\n\r\n              .st1 {\r\n                fill: #fffeff;\r\n              }\r\n\r\n              .st3 {\r\n                fill: #5e7574;\r\n              }\r\n\r\n              .st4 {\r\n                fill: #4d636c;\r\n              }\r\n\r\n              .st5 {\r\n                fill: #7b908e;\r\n              }\r\n\r\n              .st6 {\r\n                fill: #b1bfbe;\r\n              }\r\n\r\n              .st7 {\r\n                fill: #91a3a2;\r\n              }\r\n            </style>\r\n          </defs>\r\n          <g id=\"Oggetto_generativo\">\r\n            <g>\r\n            <foreignObject id=\"foreign\" class=\"st1\" x=\"25\" y=\"158\" width=\"152\" height=\"34\">\r\n                <div xmlns=\"http://www.w3.org/1999/xhtml\" \r\n                  style=\"\r\n                  display: flex;\r\n                  justify-content: center;\r\n                  align-items: center;\r\n                  width: 100%;\r\n                  height: 100%;\r\n                  font-size: 34px;\r\n                  text-align: center;\r\n                  \">\r\n              <!-- Inserisci qui il contenuto che desideri -->\r\n              <p>${state}w</p>\r\n            </div>\r\n          </foreignObject>\r\n              <g>\r\n                <polygon class=\"st1\" points=\"33.01 96.79 166.88 96.79 167 104.87 108.14 105.22 108.02 118.91 123.58 119.03 123.58 130.96 76.31 130.96 76.31 119.03 91.87 118.91 91.75 105.22 33.24 105.22 33.01 96.79\"/>\r\n                <path class=\"st4\" d=\"M166.53,93.52c.02.43.58,2.25.12,2.57H33.01c-1.27-4.06,4.46-1.53,6.67-2.57h126.85Z\"/>\r\n                <g>\r\n                  <path class=\"st1\" d=\"M166.53,93.52H33.48l-.35-.59,12.29-52.31h109.06l12.29,52.07c.06.52-.24.64-.23.82Z\"/>\r\n                  <polygon class=\"st5\" points=\"136.22 78.77 158.93 78.77 161.85 90.82 138.1 91.17 136.22 78.77\"/>\r\n                  <polygon class=\"st5\" points=\"100.41 78.77 122.41 78.77 123.7 91.06 100.41 91.17 100.41 78.77\"/>\r\n                  <polygon class=\"st0\" points=\"41.2 78.77 63.2 78.77 61.91 90.82 38.39 91.17 41.2 78.77\"/>\r\n                  <polygon class=\"st3\" points=\"77.01 78.77 98.54 79 98.66 91.06 75.84 91.17 77.01 78.77\"/>\r\n                  <polygon class=\"st7\" points=\"134.12 65.9 156.12 65.9 158.81 77.48 135.99 77.83 134.12 65.9\"/>\r\n                  <polygon class=\"st5\" points=\"99.95 65.9 121.24 65.9 122.53 77.48 100.18 77.83 99.95 65.9\"/>\r\n                  <polygon class=\"st5\" points=\"77.71 65.9 98.54 65.9 98.66 77.72 76.78 77.6 77.71 65.9\"/>\r\n                  <polygon class=\"st0\" points=\"43.54 65.9 64.84 65.9 63.55 77.48 41.2 77.6 43.54 65.9\"/>\r\n                  <polygon class=\"st7\" points=\"132.48 53.96 153.54 53.96 156 64.61 133.88 64.73 132.48 53.96\"/>\r\n                  <polygon class=\"st7\" points=\"100.18 53.96 120.07 53.96 121.36 64.61 99.95 64.73 100.18 53.96\"/>\r\n                  <polygon class=\"st3\" points=\"46.12 53.96 66.48 54.2 65.19 64.61 44.01 64.73 46.12 53.96\"/>\r\n                  <polygon class=\"st5\" points=\"78.65 53.96 98.54 53.96 98.66 64.61 77.71 64.73 78.65 53.96\"/>\r\n                  <polygon class=\"st6\" points=\"130.84 42.73 151.44 42.73 153.43 52.91 132.24 53.03 130.84 42.73\"/>\r\n                  <polygon class=\"st7\" points=\"100.41 42.73 119.14 42.73 120.19 52.91 99.95 53.03 99.83 43.08 100.41 42.73\"/>\r\n                  <path class=\"st5\" d=\"M88.48,42.73c1.28-.04,10.19-.15,10.41.35l-.35,9.95-20.01-.12.7-9.83c3.08-.03,6.18-.26,9.24-.35Z\"/>\r\n                  <path class=\"st3\" d=\"M67.18,42.73c.2.02.47-.09.59.12l-1.29,10.18-20.24-.35,1.99-9.71,18.96-.23Z\"/>\r\n                  <polygon class=\"st5\" points=\"124.05 78.77 134.7 79.12 136.22 91.17 125.11 91.06 124.05 78.77\"/>\r\n                  <polygon class=\"st3\" points=\"64.84 78.77 75.25 79.12 73.97 91.17 63.32 91.06 64.84 78.77\"/>\r\n                  <polygon class=\"st7\" points=\"122.65 65.9 132.83 66.02 134.35 77.83 123.7 77.48 122.65 65.9\"/>\r\n                  <polygon class=\"st3\" points=\"66.24 65.9 76.42 66.02 75.14 77.83 64.96 77.72 66.24 65.9\"/>\r\n                  <polygon class=\"st5\" points=\"67.88 53.96 77.36 54.31 76.31 64.73 66.36 64.61 67.88 53.96\"/>\r\n                  <polygon class=\"st7\" points=\"121.71 53.96 130.84 53.96 132.6 64.61 122.65 64.73 121.71 53.96\"/>\r\n                  <polygon class=\"st5\" points=\"69.29 42.73 78.3 43.08 77.24 53.03 67.77 52.67 69.29 42.73\"/>\r\n                  <path class=\"st6\" d=\"M120.78,42.73l8.78.12,1.05,10.18-9.24-.12c-.09-1.37-1.42-9.79-.59-10.18Z\"/>\r\n                </g>\r\n              </g>\r\n            </g>\r\n          </g>\r\n        </svg>\r\n    `;\r\n  }\r\n\r\n\r\n  \r\n\r\n\r\n  export function battery(state, batteryPercentageState) {\r\n    return html`\r\n<svg id=\"Battery\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 200 200\">\r\n  <defs>\r\n    <style>\r\n      .battBackground {\r\n        fill: ${batteryPercentageState > 23 ? '#009245' : 'red'};\r\n        ${state < 0  ? 'animation: slide-in-out 2s infinite;' : ' '}\r\n    </style>\r\n    <linearGradient id=\"Sfumatura_icon\" data-name=\"Sfumatura icon\" x1=\"5.79\" y1=\"-680\" x2=\"5.79\" y2=\"-560\" gradientTransform=\"translate(-520 80) rotate(90)\" gradientUnits=\"userSpaceOnUse\">\r\n      <stop offset=\"0\" stop-color=\"#e7dfdc\"/>\r\n      <stop offset=\"1\" stop-color=\"#b8b9ba\"/>\r\n    </linearGradient>\r\n  </defs>\r\n  <text class=\"white font43\" transform=\"translate(51.09 175.53)\"><tspan x=\"0\" y=\"0\">${state}w</tspan></text>\r\n  <rect id=\"back_x5F_battery\" class=\"battBackground\" x=\"65\" y=\"50\" width=\"60\" height=\"${batteryPercentageState}\" transform=\"translate(-5 195) rotate(-90)\"/>\r\n  <path id=\"battery\" class=\"battColor\" d=\"M150,129v-14h5.52c2.47,0,4.48-2.01,4.48-4.48v-21.04c0-2.47-2.01-4.48-4.48-4.48h-5.52v-14c0-3.31-2.69-6-6-6H46c-3.31,0-6,2.69-6,6v58c0,3.31,2.69,6,6,6h98c3.31,0,6-2.69,6-6ZM49,130c-2.21,0-4-1.79-4-4v-52c0-2.21,1.79-4,4-4h17v60h-17ZM69,130v-60h24v60h-24ZM96,130v-60h24v60h-24ZM123,130v-60h18c2.21,0,4,1.79,4,4v52c0,2.21-1.79,4-4,4h-18Z\"/>\r\n  <text id=\"percentage\" class=\"white font36\" transform=\"translate(67.28 52)\"><tspan x=\"0\" y=\"0\">${batteryPercentageState}%</tspan></text>\r\n  </svg>\r\n     `;\r\n  }\r\n\r\n  export function gridPower(gridPower) {\r\n    return html`\r\n        <svg id=\"grid\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 200 200\">\r\n          \r\n          <g id=\"traliccio\" class=\"opcity76\">\r\n            <path class=\"gridIconColor\" d=\"M76.91,77.4s0,.03,0,.05c0,.16-.03.31-.09.44h13.01v-.49h-12.92Z\"/>\r\n            <path class=\"gridIconColor\" d=\"M122.86,77.45s0-.03,0-.05h-12.53v.49h12.62c-.06-.14-.09-.28-.09-.44\"/>\r\n            <path class=\"gridIconColor\" d=\"M145.85,74.14s-.03-.01-.04-.01l-14.43,2.54c.13.12.22.28.28.45l14.17-2.49s.04-.02.04-.05v-.4s0-.03-.02-.04\"/>\r\n            <path class=\"gridIconColor\" d=\"M68.43,76.63l-14.24-2.51s-.03,0-.04.01c-.01,0-.02.02-.02.04v.4s.02.04.04.05l13.95,2.46c.06-.17.17-.32.3-.44\"/>\r\n            <path class=\"gridIconColor\" d=\"M68.06,79.41s0-.03,0-.05h-13.88s-.05.02-.05.05v.39s.02.05.05.05h13.97c-.06-.13-.09-.28-.09-.44\"/>\r\n            <path class=\"gridIconColor\" d=\"M76.91,79.36s0,.03,0,.05c0,.16-.03.31-.09.44h13.01v-.49h-12.92Z\"/>\r\n            <path class=\"gridIconColor\" d=\"M122.86,79.41s0-.03,0-.05h-12.53v.49h12.62c-.06-.13-.09-.28-.09-.44\"/>\r\n            <path class=\"gridIconColor\" d=\"M145.81,79.36h-14.11s0,.03,0,.05c0,.16-.03.31-.09.44h14.2s.05-.02.05-.05v-.39s-.02-.05-.05-.05\"/>\r\n            <path class=\"gridIconColor\" d=\"M126.99,68.6v2.31c0,.16.13.29.29.29s.29-.13.29-.29v-2.31h-.59Z\"/>\r\n            <path class=\"gridIconColor\" d=\"M131.02,75.49c0-.23-.19-.4-.42-.42-.49-.03-1.31-.14-1.88-.58-.19-.14-.33-.34-.44-.55h2.32c.23,0,.42-.19.42-.42s-.19-.4-.42-.42c-.49-.03-1.31-.14-1.88-.58-.49-.38-.68-1.09-.72-1.5-.04-.39-.32-.72-.72-.72s-.7.32-.72.72c-.02.41-.09,1.04-.7,1.5-.6.46-1.4.56-1.9.58-.23.01-.42.19-.42.42s.19.42.42.42h2.37c-.1.19-.25.38-.47.55-.6.46-1.4.56-1.9.58-.23.01-.42.19-.42.42s.19.42.42.42h2.37c-.1.19-.25.38-.47.55-.6.46-1.4.56-1.9.58-.23.01-.42.19-.42.42s.19.42.42.42h2.37c-.1.19-.25.38-.47.55-.6.46-1.4.56-1.9.58-.23.01-.42.19-.42.42s.19.42.42.42h6.63c.23,0,.42-.19.42-.42s-.19-.4-.42-.42c-.49-.03-1.31-.14-1.88-.58-.19-.14-.33-.34-.44-.55h2.32c.23,0,.42-.19.42-.42s-.19-.4-.42-.42c-.49-.03-1.31-.14-1.88-.58-.19-.14-.33-.34-.44-.55h2.32c.23,0,.42-.19.42-.42\"/>\r\n            <path class=\"gridIconColor\" d=\"M72.19,68.58v2.33c0,.16.13.29.29.29s.29-.13.29-.29v-2.33h-.59Z\"/>\r\n            <path class=\"gridIconColor\" d=\"M76.22,75.49c0-.23-.19-.4-.42-.42-.49-.03-1.31-.14-1.88-.58-.19-.14-.33-.34-.44-.55h2.32c.23,0,.42-.19.42-.42s-.19-.4-.42-.42c-.49-.03-1.31-.14-1.88-.58-.49-.38-.68-1.09-.72-1.5-.04-.39-.32-.72-.72-.72s-.7.32-.72.72c-.02.41-.09,1.04-.7,1.5-.6.46-1.4.56-1.9.58-.23.01-.42.19-.42.42s.19.42.42.42h2.37c-.1.19-.25.38-.47.55-.6.46-1.4.56-1.9.58-.23.01-.42.19-.42.42s.19.42.42.42h2.37c-.1.19-.25.38-.47.55-.6.46-1.4.56-1.9.58-.23.01-.42.19-.42.42s.19.42.42.42h2.37c-.1.19-.25.38-.47.55-.6.46-1.4.56-1.9.58-.23.01-.42.19-.42.42s.19.42.42.42h6.63c.23,0,.42-.19.42-.42s-.19-.4-.42-.42c-.49-.03-1.31-.14-1.88-.58-.19-.14-.33-.34-.44-.55h2.32c.23,0,.42-.19.42-.42s-.19-.4-.42-.42c-.49-.03-1.31-.14-1.88-.58-.19-.14-.33-.34-.44-.55h2.32c.23,0,.42-.19.42-.42\"/>\r\n            <path class=\"gridIconColor\" d=\"M131.18,66.22l-21.88-11.48c-.1-.08-.23-.14-.36-.17l-8.41-20.68c-.07-.18-.25-.31-.45-.31s-.38.12-.45.31l-8.41,20.68s0,0,0,0c-.05.01-.1.03-.14.04-.01,0-.02.01-.04.02-.02,0-.03.01-.05.02l-22.06,11.57c-.36.19-.54.6-.45.99.1.39.45.67.86.67h21.18v22.14l-13.87,46.85c-.11.37.04.78.36.99.15.09.31.14.48.14.2,0,.41-.07.57-.21l13.08-11.18h17.87l13.08,11.18c.16.14.37.21.57.21.17,0,.33-.05.48-.14.33-.21.48-.61.36-.99l-9.12-30.82-4.74-16.02v-22.12h21.18c.49,0,.88-.39.88-.88,0-.36-.22-.67-.53-.81M118.08,66.14l-2.24-5.99,5.67,2.97-3.37,3.01h-.06ZM111.73,126.61h6.73l-2.35,3.74-4.38-3.74ZM82.02,66.12l-3.37-3.01,5.67-2.97-2.24,5.99h-.06ZM85.57,59.6l4.61,6.53h-7.05l2.45-6.53ZM94.47,49.17l11.27,5.38h-13.45l2.19-5.38ZM97.91,40.72l5.19,3.26-7.98,3.58,2.78-6.85ZM107.84,54.47l-12.47-5.95,8.5-3.82,3.97,9.76ZM107.88,65.83l-6.92-4.61,6.92-4.61v9.22ZM106.56,66.12h-12.96l6.48-4.32,6.48,4.32ZM106.56,56.31l-6.48,4.32-6.48-4.32h12.96ZM99.2,61.22l-6.92,4.61v-9.22l6.92,4.61ZM106.56,67.88l-6.48,4.32-6.48-4.32h12.96ZM99.2,72.79l-6.92,4.61v-9.22l6.92,4.61ZM93.44,91.03h13.29l-6.64,4.84-6.64-4.84ZM99.25,96.48l-11.23,8.19,3.99-13.47,7.24,5.28ZM100.08,97.08l11.43,8.34h-22.87l11.43-8.34ZM100.91,96.48l7.24-5.28,3.99,13.47-11.23-8.19ZM111.15,107.18l-11.07,9.46-11.07-9.46h22.14ZM93.6,89.27l6.48-4.32,6.48,4.32h-12.96ZM92.28,88.97v-9.22l6.92,4.61-6.92,4.61ZM87.08,107.85l11.07,9.46h-13.87l2.8-9.46ZM113.08,107.85l2.8,9.46h-13.87l11.07-9.46ZM100.96,84.36l6.92-4.61v9.22l-6.92-4.61ZM100.08,83.77l-7.8-5.2,7.8-5.2,7.8,5.2-7.8,5.2ZM83.73,119.15l5.56,6.47h-7.48l1.92-6.47ZM81.22,127.65l2.1,3.33-.51.43h-2.71l1.11-3.77ZM84.06,130.34l-2.35-3.74h6.72l-4.37,3.74ZM84.28,118.29h13.88l-8,6.84-5.88-6.84ZM115.89,118.29l-5.89,6.85-8.01-6.85h13.89ZM117.35,131.42l-.5-.43,2.09-3.33,1.11,3.75h-2.71ZM110.88,125.63l5.55-6.46,1.91,6.46h-7.47ZM100.96,72.79l6.92-4.61v9.22l-6.92-4.61ZM114.59,59.62l2.45,6.53h-7.05l4.61-6.53ZM109.64,64.93v-8.02l4.13,2.17-4.13,5.85ZM100.08,35.37l3.03,7.46-4.83-3.04,1.8-4.42ZM90.52,64.91l-4.13-5.85,4.13-2.17v8.02ZM77.73,63.59l2.82,2.53h-7.64l4.82-2.53ZM92.29,125.63l7.79-6.66,7.79,6.66h-15.58ZM119.6,66.14l2.82-2.53,4.82,2.53h-7.64Z\"/>\r\n          </g>\r\n          <foreignObject id=\"foreign\" class=\"st1\" x=\"25\" y=\"158\" width=\"152\" height=\"34\">\r\n                <div xmlns=\"http://www.w3.org/1999/xhtml\" \r\n                  style=\"\r\n                  display: flex;\r\n                  justify-content: center;\r\n                  align-items: center;\r\n                  width: 100%;\r\n                  height: 100%;\r\n                  font-size: 34px;\r\n                  text-align: center;\r\n                  \">\r\n              <!-- Inserisci qui il contenuto che desideri -->\r\n              <p>${gridPower}w</p>\r\n            </div>\r\n          </foreignObject>\r\n        </svg>\r\n       `;\r\n  }\r\n\r\n//   export function home_no_meter(totalPower) {\r\n\r\n//     return html`\r\n//     <svg id=\"home\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 200 200\">\r\n//       <defs>\r\n//         <linearGradient id=\"home_gradient_1\" data-name=\"Sfumatura senza nome 137\" x1=\"61.53\" y1=\"91.73\" x2=\"140.14\" y2=\"106.85\" gradientUnits=\"userSpaceOnUse\">\r\n//           <stop offset=\"0\" stop-color=\"#dedfdf\"/>\r\n//           <stop offset=\"1\" stop-color=\"#9ca09f\"/>\r\n//         </linearGradient>\r\n//         <linearGradient id=\"home_gradient_2\" data-name=\"Sfumatura senza nome 138\" x1=\"52.04\" y1=\"60.27\" x2=\"148.68\" y2=\"67.3\" gradientUnits=\"userSpaceOnUse\">\r\n//           <stop offset=\"0\" stop-color=\"#ececec\"/>\r\n//           <stop offset=\"1\" stop-color=\"#9da09f\"/>\r\n//         </linearGradient>\r\n//       </defs>\r\n//       <text class=\"white font43\" transform=\"translate(43.07 176.31)\"><tspan x=\"0\" y=\"0\">${totalPower}w</tspan></text>\r\n//       <polygon class=\"home_st2\" points=\"99.54 59.67 138.62 85.48 138.3 131.29 112.08 130.98 111.97 90.43 87.43 90.74 87.33 131.29 60.89 130.98 60.89 85.27 99.54 59.67\"/>\r\n//       <polygon class=\"home_st0\" points=\"99.54 40.29 152.1 76.21 144.62 83.9 99.75 53.35 54.67 83.9 47.2 76.21 99.54 40.29\"/>\r\n//     </svg>\r\n//            `;\r\n//   }\r\n\r\n  export function home(totalPower, pvPercentage, batteryPercentage) {\r\n\r\n    return html`\r\n    <svg id=\"home\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 200 200\">\r\n      <defs>\r\n        <style>\r\n          .home_meter_st0 {\r\n            fill: #606060;\r\n          }\r\n\r\n          .home_meter_st0, .home_meter_st1 {\r\n            opacity: .56;\r\n            stroke: #4d4d4d;\r\n            stroke-miterlimit: 10;\r\n          }\r\n\r\n          .home_meter_st1 {\r\n            fill: url(#Sfumatura_senza_nome_28);\r\n          }\r\n\r\n          .home_meter_st2 {\r\n            fill: none;\r\n          }\r\n\r\n          .home_meter_st3 {\r\n            fill: url(#Sfumatura_senza_nome_138);\r\n          }\r\n\r\n\r\n\r\n          .home_meter_st5 {\r\n            fill: url(#Sfumatura_senza_nome_137);\r\n          }\r\n        </style>\r\n\r\n        <linearGradient id=\"Sfumatura_senza_nome_137\" data-name=\"Sfumatura senza nome 137\" x1=\"61.88\" y1=\"105.94\" x2=\"140.49\" y2=\"121.06\" gradientUnits=\"userSpaceOnUse\">\r\n          <stop offset=\"0\" stop-color=\"#dedfdf\"/>\r\n          <stop offset=\"1\" stop-color=\"#9ca09f\"/>\r\n        </linearGradient>\r\n        <linearGradient id=\"Sfumatura_senza_nome_138\" data-name=\"Sfumatura senza nome 138\" x1=\"52.39\" y1=\"74.48\" x2=\"149.03\" y2=\"81.51\" gradientUnits=\"userSpaceOnUse\">\r\n          <stop offset=\"0\" stop-color=\"#ececec\"/>\r\n          <stop offset=\"1\" stop-color=\"#9da09f\"/>\r\n        </linearGradient>\r\n        <linearGradient id=\"Sfumatura_senza_nome_28\" data-name=\"Sfumatura senza nome 28\" x1=\"26.16\" y1=\"27\" x2=\"174.16\" y2=\"27\" gradientUnits=\"userSpaceOnUse\">\r\n          <stop offset=\"0\" stop-color=\"#51d400\"/>\r\n              <stop offset=\".${pvPercentage}\" stop-color=\"#51d400\"/>\r\n              <stop offset=\".${pvPercentage}\" stop-color=\"#ff9115\"/>\r\n              <stop offset=\".${pvPercentage + batteryPercentage}\" stop-color=\"#ff9115\"/>\r\n              <stop offset=\".${pvPercentage + batteryPercentage}\" stop-color=\"#2ac0ff\"/>\r\n        </linearGradient>\r\n      </defs>\r\n      <g id=\"casa\">\r\n        <g>\r\n          <path class=\"home_meter_st0\" d=\"M164.07,11.04c-.22-.03-.44-.04-.66-.04H36.73c-.24,0-.49.02-.73.05-12.84,1.9-22.72,11.87-24.7,24.7-.04.25-.05.5-.05.74,0,.63,0,1.26,0,1.9,0,2.54,2.06,4.61,4.6,4.61h168.62c2.54,0,4.6-2.06,4.6-4.6h0c0-.13,0-.26-.01-.4-.97-13.69-11.33-25.14-24.99-26.96Z\"/>\r\n          <g>\r\n            <polygon class=\"home_meter_st5\" points=\"99.89 73.88 138.97 99.68 138.65 145.5 112.43 145.18 112.32 104.63 87.78 104.95 87.68 145.5 61.24 145.18 61.24 99.47 99.89 73.88\"/>\r\n            <polygon class=\"home_meter_st3\" points=\"99.89 54.5 152.45 90.42 144.97 98.1 100.11 67.56 55.03 98.1 47.55 90.42 99.89 54.5\"/>\r\n          </g>\r\n        </g>\r\n      </g>\r\n      <foreignObject id=\"foreign\" class=\"st1\" x=\"25\" y=\"158\" width=\"152\" height=\"34\">\r\n                <div xmlns=\"http://www.w3.org/1999/xhtml\" \r\n                  style=\"\r\n                  display: flex;\r\n                  justify-content: center;\r\n                  align-items: center;\r\n                  width: 100%;\r\n                  height: 100%;\r\n                  font-size: 34px;\r\n                  text-align: center;\r\n                  \">\r\n                  <!-- Inserisci qui il contenuto che desideri -->\r\n                  <p>${totalPower}w</p>\r\n                </div>\r\n              </foreignObject>\r\n      <rect class=\"home_meter_st1\" x=\"26.16\" y=\"14.5\" width=\"148\" height=\"25\" rx=\"10\" ry=\"10\"/>\r\n    </svg>\r\n           `;\r\n  }\r\n\r\n\r\n\r\nexport function inverter() {\r\n  return html`\r\n\r\n<svg id=\"home\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 200 200\">\r\n  <path class=\"inverter_st1\" d=\"M76.67,174.39h-29.16c-4.3,0-7.78-5.55-7.78-12.42V37.79c0-6.87,3.47-12.42,7.78-12.42h104.97c4.3,0,7.78,5.55,7.78,12.42v124.18c0,6.87-3.47,12.42-7.78,12.42h-75.81Z\"/>\r\n  <path id=\"displaybottom\" class=\"inverter_st3\" d=\"M61.12,100.52h81.65c2.15,0,3.89,1.74,3.89,3.89v31.1c0,2.15-1.74,3.89-3.89,3.89H57.23c-2.15,0-3.89-1.74-3.89-3.89v-31.1c0-2.15,1.74-3.89,3.89-3.89h3.89Z\"/>\r\n  <text class=\"inverter_st4\" transform=\"translate(66.24 129.77)\"><tspan x=\"0\" y=\"0\">220v</tspan></text>\r\n  <path id=\"displayup\" class=\"inverter_st3\" d=\"M60.78,47.16h81.65c2.15,0,3.89,1.74,3.89,3.89v31.1c0,2.15-1.74,3.89-3.89,3.89H56.89c-2.15,0-3.89-1.74-3.89-3.89v-31.1c0-2.15,1.74-3.89,3.89-3.89h3.89Z\"/>\r\n  <text class=\"inverter_st4\" transform=\"translate(74.81 76.41)\"><tspan x=\"0\" y=\"0\">12v</tspan></text>\r\n  <g id=\"led\">\r\n    <circle class=\"inverter_st0\" cx=\"126.4\" cy=\"36.51\" r=\"3.34\"/>\r\n    <circle class=\"inverter_st0\" cx=\"99.66\" cy=\"36.51\" r=\"3.34\"/>\r\n    <circle class=\"inverter_st0\" cx=\"72.92\" cy=\"36.51\" r=\"3.34\"/>\r\n  </g>\r\n  <line class=\"inverter_st2\" x1=\"72.78\" y1=\"153.01\" x2=\"88.34\" y2=\"153.01\"/>\r\n  <line class=\"inverter_st2\" x1=\"72.78\" y1=\"160.78\" x2=\"88.34\" y2=\"160.78\"/>\r\n  <line class=\"inverter_st2\" x1=\"100\" y1=\"149.12\" x2=\"100\" y2=\"164.67\"/>\r\n  <path class=\"inverter_st2\" d=\"M127.22,156.9c0,2.14-1.75,3.89-3.89,3.89s-3.89-1.75-3.89-3.89-1.75-3.89-3.89-3.89-3.89,1.75-3.89,3.89\"/>\r\n  <path class=\"inverter_st2\" d=\"M76.67,174.39v7.78c0,3.23,2.6,5.83,5.83,5.83h3.89c3.23,0,5.83-2.6,5.83-5.83v-7.78\"/>\r\n  <path class=\"inverter_st2\" d=\"M107.78,174.39v7.78c0,3.23,2.6,5.83,5.83,5.83h3.89c3.23,0,5.83-2.6,5.83-5.83v-7.78\"/>\r\n  <path class=\"inverter_st2\" d=\"M123.33,25.61v-7.78c0-3.23-2.6-5.83-5.83-5.83h-3.89c-3.23,0-5.83,2.6-5.83,5.83v7.78\"/>\r\n  <path class=\"inverter_st2\" d=\"M92.22,25.61v-7.78c0-3.23-2.6-5.83-5.83-5.83h-3.89c-3.23,0-5.83,2.6-5.83,5.83v7.78\"/>\r\n</svg>\r\n`;\r\n}","import { css } from \"lit\";\r\nexport default css`\r\n  // **************  css svg  ***************\r\n\r\n  .foreign-content {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: 14px;\r\n    text-align: center;\r\n    color: #000;\r\n    background-color: yellow;\r\n  }\r\n  .st0 {\r\n    fill: #465e5e;\r\n  }\r\n\r\n  .st1 {\r\n    fill: #fffeff;\r\n  }\r\n\r\n  .st2 {\r\n    fill: #fff;\r\n    /* font-family: MyriadPro-Regular, 'Myriad Pro'; */\r\n    font-size: 43px;\r\n  }\r\n\r\n  .st3 {\r\n    fill: #5e7574;\r\n  }\r\n\r\n  .st4 {\r\n    fill: #4d636c;\r\n  }\r\n\r\n  .st5 {\r\n    fill: #7b908e;\r\n  }\r\n\r\n  .st6 {\r\n    fill: #b1bfbe;\r\n  }\r\n\r\n  .st7 {\r\n    fill: #91a3a2;\r\n  }\r\n\r\n  .battColor {\r\n    fill: url(#Sfumatura_icon);\r\n  }\r\n\r\n  .white {\r\n    fill: #fff;\r\n  }\r\n\r\n  .font43 {\r\n    font-size: 36px;\r\n  }\r\n\r\n  .font36 {\r\n    font-size: 36px;\r\n  }\r\n\r\n  .opacity76 {\r\n    opacity: 0.76;\r\n  }\r\n\r\n  .gridIconColor {\r\n    fill: #b3b3b3;\r\n  }\r\n\r\n  .batterypercent {\r\n    fill: url(#Sfumatura_senza_nome_48);\r\n    stroke: #254344;\r\n  }\r\n\r\n  .inverter_st0 {\r\n    fill: #69ea00;\r\n    stroke-miterlimit: 10;\r\n    stroke: #b3b3b3;\r\n    stroke-width: 2px;\r\n  }\r\n\r\n  .inverter_st1 {\r\n    fill: rgba(110, 0, 0, 0.6);\r\n    stroke: #b3b3b3;\r\n    stroke-width: 2px;\r\n    stroke-linecap: round;\r\n    stroke-linejoin: round;\r\n  }\r\n\r\n  .inverter_st2 {\r\n    fill: none;\r\n    stroke: #b3b3b3;\r\n    stroke-width: 2px;\r\n    stroke-linecap: round;\r\n    stroke-linejoin: round;\r\n  }\r\n\r\n  .inverter_st3 {\r\n    fill: rgba(0, 0, 0, 0.3);\r\n    stroke: #b3b3b3;\r\n    stroke-width: 2px;\r\n    stroke-linecap: round;\r\n    stroke-linejoin: round;\r\n  }\r\n\r\n  .inverter_st4 {\r\n    fill: #fff;\r\n    font-size: 26px;\r\n  }\r\n\r\n  .inverter_st5 {\r\n    fill: none;\r\n    stroke: #039;\r\n    stroke-width: 2px;\r\n    stroke-linecap: round;\r\n    stroke-linejoin: round;\r\n  }\r\n\r\n  .home_st0 {\r\n    fill: url(#home_gradient_2);\r\n  }\r\n\r\n  .home_st2 {\r\n    fill: url(#home_gradient_1);\r\n  }\r\n\r\n  // ***************fine svg *******************\r\n\r\n  @keyframes blinker {\r\n    50% {\r\n      opacity: 0;\r\n    }\r\n  }\r\n\r\n  @keyframes dash-move {\r\n    0% {\r\n      stroke-dashoffset: 20; /* Cambia il valore per regolare la velocit */\r\n    }\r\n    100% {\r\n      stroke-dashoffset: 0;\r\n    }\r\n  }\r\n\r\n  @keyframes draw-line {\r\n    0% {\r\n      stroke-dasharray: 0, 1000; /* Inizia da zero */\r\n    }\r\n    100% {\r\n      stroke-dasharray: 1000, 0; /* Completa la linea */\r\n    }\r\n  }\r\n\r\n  @keyframes slide-in-out {\r\n    0% {\r\n      height: 0;\r\n    }\r\n    100% {\r\n      height: 50%;\r\n    }\r\n  }\r\n\r\n  @keyframes circular-border {\r\n    0% {\r\n      border: 2px solid transparent;\r\n    }\r\n    50% {\r\n      border: 2px solid rgba(255, 0, 0, 0.7);\r\n    }\r\n    100% {\r\n      border: 2px solid transparent;\r\n    }\r\n  }\r\n\r\n  .ha-card_vertical {\r\n    padding: 16px;\r\n    // display: flex;\r\n    // flex-direction: column;\r\n    // height: 92vh;\r\n    background: linear-gradient(180deg, #61716e, #253835);\r\n    display: grid;\r\n    grid-template-rows: 100px minmax(0, auto) 100px;\r\n  }\r\n\r\n  .line-style {\r\n    // stroke: red; /* Cambia questo valore con la tua variabile o colore */\r\n    stroke-width: 3;\r\n    stroke-dasharray: 5.5, 5;\r\n    opacity: 0.5;\r\n    fill: none;\r\n    stroke: #333333;\r\n    // stroke-width:4;\r\n    // stroke-miterlimit:10;\r\n    // stroke-dasharray: 6, 8;\r\n    // animation: dash-move 1s linear infinite; /* Durata e loop infinito */\r\n    animation: draw-line 2s ease-in-out forwards; /* Durata e curva animazione */\r\n  }\r\n\r\n  .meteo-icon-svg {\r\n    fill: none;\r\n    stroke: #fff;\r\n    stroke-linecap: round;\r\n    stroke-linejoin: round;\r\n    stroke-width: 5px;\r\n  }\r\n\r\n  .title {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n  .title {\r\n    font-size: 2rem;\r\n    font-weight: bold;\r\n    background-color: #565656;\r\n    color: transparent;\r\n    text-shadow: 1.5px 1.5px 1.5px rgba(255, 255, 255, 0.3);\r\n    -webkit-background-clip: text;\r\n    -moz-background-clip: text;\r\n    background-clip: text;\r\n\r\n    margin: 5% 10% 15%;\r\n  }\r\n  #chart {\r\n    width: 100%;\r\n    height: 300px;\r\n  }\r\n\r\n  button {\r\n    margin-bottom: 10px;\r\n    padding: 5px 10px;\r\n    border: none;\r\n    background-color: #007bff;\r\n    color: white;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n  }\r\n  button:hover {\r\n    background-color: #0056b3;\r\n  }\r\n  // input[type=\"range\"] {\r\n  //   width: 100%;\r\n  // }\r\n  \r\n\r\n  // input[type=\"range\"]:focus {\r\n  //   outline: transparent;\r\n  // }\r\n\r\n  // input[type=\"range\"]::-webkit-slider-thumb {\r\n  //   background-color: #255ff4;\r\n  //   border: 0;\r\n  //   border-radius: 50%;\r\n  //   box-shadow:\r\n  //     -1px -1px 6px #0937aa inset,\r\n  //     0 -2px 2px 0 #0004,\r\n  //     2px 2px 6px #0007;\r\n  //   cursor: pointer;\r\n  //   position: relative;\r\n  //   width: 24px;\r\n  //   height: 24px;\r\n  //   transition: all var(--transDur) linear;\r\n  //   z-index: 1;\r\n  //   -webkit-appearance: none;\r\n  //   appearance: none;\r\n  // }\r\n  // input[type=\"range\"]:focus::-webkit-slider-thumb {\r\n  //   background-color: #5583f6;\r\n  //   box-shadow:\r\n  //     -1px -1px 6px #0937aa inset,\r\n  //     0 -2px 2px 0 #0004,\r\n  //     2px 2px 6px #0007;\r\n  // }\r\n  // input[type=\"range\"]::-moz-range-thumb {\r\n  //   background-color: #255ff4;\r\n  //   border: 0;\r\n  //   border-radius: 50%;\r\n  //   box-shadow:\r\n  //     -1px -1px 6px #0937aa inset,\r\n  //     0 -2px 2px 0 #0004,\r\n  //     2px 2px 6px #0007;\r\n  //   cursor: pointer;\r\n  //   position: relative;\r\n  //   width: 24px;\r\n  //   height: 24px;\r\n  //   transform: translateZ(1px);\r\n  //   transition: all var(--transDur) linear;\r\n  //   z-index: 1;\r\n  //   -moz-appearance: none;\r\n  //   appearance: none;\r\n  // }\r\n  // input[type=\"range\"]:focus::-moz-range-thumb {\r\n  //   background-color: #5583f6;\r\n  //   box-shadow:\r\n  //     -1px -1px 6px #0937aa inset,\r\n  //     0 -2px 2px 0 #0004,\r\n  //     2px 2px 6px #0007;\r\n  // }\r\n\r\n  // input[type=\"range\"]::-moz-focus-outer {\r\n  //   border: 0;\r\n  // }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\ninput[type=\"range\"]::-webkit-slider-thumb {\r\n    background-color: #255ff4;\r\n    border: 0;\r\n    border-radius: 50%;\r\n    box-shadow:\r\n      -1px -1px 6px #0937aa inset,\r\n      0 -2px 2px 0 #0004,\r\n      2px 2px 6px #0007;\r\n    cursor: pointer;\r\n    position: relative;\r\n    // width: 24px;\r\n    // height: 24px;\r\n    transition: all var(--transDur) linear;\r\n    z-index: 1;\r\n    -webkit-appearance: none;\r\n    appearance: none;\r\n  }\r\n  input[type=\"range\"]:focus::-webkit-slider-thumb {\r\n    background-color: #5583f6;\r\n    box-shadow:\r\n      -1px -1px 6px #0937aa inset,\r\n      0 -2px 2px 0 #0004,\r\n      2px 2px 6px #0007;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  @media (prefers-color-scheme: dark) {\r\n    :host {\r\n      --bg: #2e3138;\r\n      --fg: #e3e4e8;\r\n      --bs1: #3c4049;\r\n      --bs2: #202227;\r\n      --tick: rgb(55, 61, 63);\r\n    }\r\n  }\r\n\r\n\r\n    .range-container {\r\n    position: relative;\r\n    }\r\n  .production_range {\r\n    position: relative;\r\n    height: 70px;\r\n    // background-color: coral;\r\n  }\r\n\r\n  .range__ticks {\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    pointer-events: none;\r\n    position: absolute;\r\n    // top: 28px;\r\n    left: 12px;\r\n    width: calc(100% - 36px);\r\n    height: 100% !important;\r\n    // background-color: rgba(255, 0, 0, 0.2);\r\n    position: absolute;\r\n    top: 0;\r\n    /* left: 0; */\r\n    /* background-color: blueviolet; */\r\n    height: 3vh;\r\n    align-content: center;\r\n    display: flex\r\n;\r\n  }\r\n  .range__tick,\r\n  .range__tick-text {\r\n    display: inline-block;\r\n  }\r\n  .range__tick {\r\n    color: var(--tick);\r\n    font-size: 1.35vh;\r\n    text-align: center;\r\n    width: 0;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    user-select: none;\r\n  }\r\n  .range__tick-text {\r\n    transform: translateX(-50%);\r\n  }\r\n\r\n  // .range-thumb-label {\r\n  //   position: absolute;\r\n  //   width: 16px;\r\n  //   height: 22px;\r\n  //   top: 24px; /* Posiziona il label sopra il thumb */\r\n  //   transform: translateX(-50%);\r\n  //   // background-color: rgba(255, 0, 0, 0.6);\r\n  //   color: white;\r\n  //   padding: 2px 5px;\r\n  //   border-radius: 4px;\r\n  //   font-size: 12px;\r\n  //   pointer-events: none;\r\n  //   white-space: nowrap;\r\n  //   z-index: 11;\r\n  //   display: flex;\r\n  //   align-items: center;\r\n  //   justify-content: center;\r\n  // }\r\n\r\n   .range-thumb-label {\r\n    position: absolute;\r\n    /* width: 16px; */\r\n    height: 100%;\r\n    /* top: 24px; */\r\n    transform: translateX(-50%);\r\n    color: white;\r\n    /* padding: 2px 5px; */\r\n    /* border-radius: 4px; */\r\n    font-size: 1.4vh;\r\n    pointer-events: none;\r\n    white-space: nowrap;\r\n    z-index: 11;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    aspect-ratio: 1 / 1;\r\n    // background-color: rgba(125, 125, 0, 0.5);\r\n    margin-left: 0.4%;\r\n  }\r\n\r\n  .offset_label {\r\n  position: absolute;\r\n    top: 0px;\r\n    width: 100%;\r\n    height: 100%;\r\n    // background-color: rgba(15, 0, 0, 0.2);\r\n}\r\n\r\n  .custom-legend-btn {\r\n    background-color: transparent;\r\n    color: white;\r\n    // border: 2px solid transparent;\r\n    padding: 5px 10px;\r\n    margin: 5px;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    // font-size: 14px;\r\n    font-size:1.5vh\r\n  }\r\n\r\n  .custom-legend-btn:hover {\r\n    background-color: rgba(255, 255, 255, 0.1);\r\n  }\r\n\r\n  .apexcharts-legend-series .apexcharts-legend-marker {\r\n    display: none;\r\n  }\r\n\r\n  .loading {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border: solid 2px red;\r\n    border-radius: 25px;\r\n    // animation: blinker 1.5s linear infinite;\r\n  }\r\n\r\n  .bottom_bar_vertical {\r\n    height: 60px;\r\n    background-color: rgba(125, 125, 125, 0.1);\r\n    border-radius: 12px;\r\n    margin-top: auto;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 0 10%;\r\n  }\r\n\r\n  .home_info {\r\n    height: 150px;\r\n    background-color: rgba(125, 125, 125, 0.1);\r\n    border-radius: 12px;\r\n    // margin-top: auto;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    /* padding: 0 30%; */\r\n    // margin-left: 5%;\r\n    // margin-right: 5%;\r\n    -webkit-box-shadow: 1px 1px 2px 2px rgba(0, 0, 0, 0.1);\r\n    box-shadow: 1px 1px 2px 2px rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n  .info_icon {\r\n    color: #7a8683;\r\n    --mdc-icon-size: 40px;\r\n  }\r\n\r\n  .info_column {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    height: 100%;\r\n  }\r\n\r\n  .menu_icon {\r\n    cursor: pointer;\r\n    color: var(--state-icon-color);\r\n    --mdc-icon-size: 40px;\r\n  }\r\n\r\n  \r\n\r\n  .menu_icon_on {\r\n    color: var(--state-icon-active-color) !important;\r\n  }\r\n\r\n  .tile-container {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\r\n    gap: 16px;\r\n    margin: 16px 0;\r\n  }\r\n\r\n  .lines-svg {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 10;\r\n    pointer-events: none;\r\n  }\r\n\r\n  .tile {\r\n    // background-color: red;\r\n    border-radius: 15px;\r\n    -webkit-box-shadow: 2px 2px 5px 3px rgba(0, 0, 0, 0.2);\r\n    box-shadow: 2px 2px 5px 3px rgba(0, 0, 0, 0.2);\r\n  }\r\n  .tile_vertical {\r\n    width: 70px;\r\n    height: 70px;\r\n}\r\n\r\n  .weather_attributes {\r\n    display: flex;\r\n    gap: 5px;\r\n    // margin-top: 10px;\r\n  }\r\n\r\n  .weather_attributes_vertical {\r\n    display: flex;\r\n    gap: 10px;\r\n    margin-top: 10px;\r\n  }\r\n\r\n  .glow-line {\r\n    // stroke: rgba(0, 191, 255, 0.8);\r\n    stroke-width: 4;\r\n    fill: none;\r\n    stroke-dasharray: 10, 40;\r\n    filter: url(#glow-blur); /* Usa il filtro SVG */\r\n    animation: glow-animation 1s infinite linear;\r\n  }\r\n\r\n  @keyframes glow-animation {\r\n    from {\r\n      stroke-dashoffset: 50;\r\n    }\r\n    to {\r\n      stroke-dashoffset: 0;\r\n    }\r\n  }\r\n\r\n  .apexcharts-legend {\r\n    display: flex !important;\r\n    gap: 0px !important; /* Rimuove lo spazio tra i pulsanti */\r\n    justify-content: center; /* Allinea i pulsanti */\r\n    flex-wrap: nowrap;\r\n  }\r\n\r\n  .apexcharts-legend-series {\r\n    margin: 0 !important; /* Rimuove il margine tra i pulsanti */\r\n    padding: 0 !important;\r\n  }\r\n\r\n  .chart-navigator {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n  .chart-navigator-button {\r\n    width: 150px;\r\n    background-color: rgba(125, 125, 125, 0.1);\r\n    box-shadow: 1px 1px 2px 2px rgba(0, 0, 0, 0.1);\r\n    margin: 0 18px;\r\n  }\r\n\r\n  hui-tile-card {\r\n    /* Esempio: sovrascrivi la custom property usata da ha-card per lo sfondo */\r\n    --ha-card-background: rgba(125, 125, 125, 0.1);\r\n    --ha-card-box-shadow: 1px 1px 2px 2px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  hui-entities-card {\r\n    /* Esempio: sovrascrivi la custom property usata da ha-card per lo sfondo */\r\n    --ha-card-background: rgba(125, 125, 125, 0.1);\r\n    --ha-card-box-shadow: 1px 1px 2px 2px rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n  .chart-cutton-container {\r\n    display: flex;\r\n    background-color: rgba(125, 125, 125, 0.1);\r\n    border-radius: var(--ha-card-border-radius, 12px);\r\n    -webkit-box-shadow: 1px 1px 2px 2px rgba(0, 0, 0, 0.1);\r\n    box-shadow: 1px 1px 2px 2px rgba(0, 0, 0, 0.1);\r\n    margin-left: 5%;\r\n    margin-right: 5%;\r\n    height: 100px;\r\n    margin-top: auto;\r\n    // flex-grow: 1;\r\n  }\r\n\r\n  .chart-button-select {\r\n    background-color: transparent;\r\n    width: 50%;\r\n    height: 100%;\r\n    border-radius: var(--ha-card-border-radius, 12px);\r\n  }\r\n\r\n  .chart-button-select:hover {\r\n    background-color: rgba(125, 125, 125, 0.5);\r\n  }\r\n\r\n  .more_elements_container {\r\n  display: flex; \r\n  flex-direction: \r\n  column; gap: 10px; \r\n  background-color: rgba(125, 125, 125, 0.3);\r\n  border-radius: 12px;\r\n  overflow: auto;\r\n  height: auto;\r\n  // height: -webkit-fill-available;\r\n  }\r\n\r\n  .more_elements {\r\n  display: flex; \r\n  flex-direction: \r\n  column; gap: 10px; \r\n  border-radius: 12px;\r\n  overflow: auto;\r\n  height: -webkit-fill-available;\r\n  padding: 0 20px;\r\n  flex-grow:4;\r\n    height: 1px;\r\n  }\r\n\r\n  #style-2::-webkit-scrollbar-track {\r\n    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.4);\r\n    border-radius: 12px;\r\n    background-color: transparent; /* Rendi trasparente lo sfondo della traccia */\r\n}\r\n\r\n#style-2::-webkit-scrollbar {\r\n    width: 24px;\r\n    background-color: transparent; /* Rendi trasparente anche lo sfondo della scrollbar */\r\n}\r\n\r\n#style-2::-webkit-scrollbar-thumb {\r\n    border-radius: 12px;\r\n    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);\r\n    background-color: transparent;\r\n}\r\n\r\n .more_elemnts_divider  {\r\n    \r\n    height: 100%;\r\n    // width: 100%;\r\n    /* background-color: red; */\r\n    border-bottom: 1px solid var(--divider-color);\r\n    border-right: 1px solid var(--divider-color);\r\n    /* border-radius: 12px; */\r\n    border-radius: 0 0 20px 0;\r\n    flex-grow: 2;\r\n    margin: 10px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    text-shadow: 1.5px 1.5px 1.5px rgba(255, 255, 255, 0.3);\r\n    font-size: 2rem;\r\n    font-weight: bold;\r\n    background-color: #565656;\r\n    color: transparent;\r\n    -webkit-background-clip: text;\r\n    -moz-background-clip: text;\r\n    background-clip: text;\r\n    \r\n}\r\n\r\n.back_button {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    cursor: pointer;\r\n    width:70px;\r\n    height:70px;\r\n    }\r\n\r\n    .ha-card_horizontal {\r\n    /* padding: 16px; */\r\n    background: linear-gradient(180deg, #61716e, #253835);\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    grid-template-rows: 5vh auto 4vh 14vh;\r\n    grid-template-areas: \r\n        \". title\"\r\n        \"pv chart\"\r\n        \"daystext chart\"\r\n        \"info menu\";\r\n    column-gap: 3vh;\r\n    padding: 3vh;\r\n}\r\n\r\n\r\n.main_content_horizontal {\r\n    padding: 16px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 96%;\r\n    width: 50%;\r\n    // background: linear-gradient(180deg, #61716e, #253835);\r\n    // display: grid;\r\n    // grid-template-rows: 10% minmax(0, auto) 20%;\r\n    \r\n  }\r\n\r\n    .tile_horizontal {\r\n    // width: 18%;\r\n    height: 100%;\r\n    aspect-ratio: 1 / 1;\r\n}\r\n\r\n    .title_horizontal {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    font-size: 4vh;\r\n    font-weight: bold;\r\n    background-color: #565656;\r\n    color: transparent;\r\n    text-shadow: 0.2vh 0.2vh 0.2vh rgba(255, 255, 255, 0.3);\r\n    -webkit-background-clip: text;\r\n    -moz-background-clip: text;\r\n    background-clip: text;\r\n    height: 5vh;\r\n    margin: 0 10% 3%;\r\n    grid-area: title;\r\n    \r\n    }\r\n\r\n    .more_elements_container_horizontal {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 10px;\r\n    background-color: rgba(125, 125, 125, 0.1);\r\n    border-radius: 2vh;\r\n    overflow: auto;\r\n    // height: 100%;\r\n    margin: 3vh 13% 5vh;\r\n    grid-area: pv;\r\n}\r\n\r\n.horizontal_chart_container {\r\n  width: 50%;\r\n  height: 96%;\r\n  display:flex;\r\n  flex-direction: column;\r\n  padding: 16px;\r\n}\r\n\r\n.bottom_bar_horizontal {\r\n    height: 14vh;\r\n    background-color: rgba(125, 125, 125, 0.1);\r\n    box-shadow: rgba(0, 0, 0, 0.1) 1px 1px 2px 2px;\r\n    border-radius: 12px;\r\n    // margin-top: auto;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    // padding: 0 10%;\r\n    grid-area: menu;\r\n    // margin: 3vh 0;\r\n  }\r\n\r\n .menu_icon_horizontal {\r\n    cursor: pointer;\r\n    color: var(--state-icon-color);\r\n    --mdc-icon-size: 5.5vh;\r\n  }\r\n\r\n  .mainChartHorizonatContainer {\r\n  // flex-grow:4;\r\n  background-color: rgba(125, 125, 125, 0.1);\r\n    box-shadow: rgba(0, 0, 0, 0.1) 1px 1px 2px 2px;\r\n    border-radius: 12px;\r\n    // padding: 16px;\r\n    display: flex; \r\n    // height:100%;\r\n    padding: 4%;\r\n    // margin-top: 3%;\r\n    justify-content: space-around;\r\n    grid-area: chart;\r\n        margin: 3vh 0;\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n        .current_percentage {\r\n        // width: 100%;\r\n        width: -webkit-fill-available;\r\n        height: 65%;\r\n        background-color: rgba(56, 67, 65, 0.7);\r\n        border-radius: 2vh;\r\n        overflow: hidden;\r\n        display: flex;\r\n        margin-right:20px;\r\n        align-self: flex-end;\r\n        box-shadow: 2px 2px 5px 3px rgba(0, 0, 0, 0.2);\r\n        margin-top: auto;\r\n        \r\n        }\r\n\r\n        .inner_meter {\r\n        width: 70%;\r\n        height: 100%;\r\n        background-color: red;\r\n        border-radius: 1.5vh;\r\n        overflow: hidden;\r\n        display: flex;\r\n        align-items: center;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: center;\r\n        \r\n        }\r\n        .grid {\r\n            height:auto;\r\n            width: 100%;\r\n            background-color: #8ed3f7;\r\n            align-items: center;\r\n            justify-content: center;\r\n            display: flex;\r\n            flex-grow: 2;\r\n            overflow: hidden;\r\n            \r\n        }\r\n        .battery {\r\n            // height: 33%;\r\n            width: 100%;\r\n            background-color: #f8d25d;\r\n            align-items: center;\r\n            justify-content: center;\r\n            display: flex;\r\n            box-shadow: 0 0px 8px 4px rgba(0, 0, 0, 0.44);\r\n            overflow: hidden;\r\n        }\r\n        .photovoltaic {\r\n            // height: 33%;\r\n            width: 100%;\r\n            background-color: #4ab87e;\r\n            // align-items: center;\r\n            justify-content: center;\r\n            display: flex;\r\n            box-shadow: 0 0px 8px 4px rgba(0, 0, 0, 0.44);\r\n            overflow: hidden;\r\n        }\r\n        .homePer {\r\n            width:30%;\r\n            height: 100%;\r\n            align-items: center;\r\n            justify-content: center;\r\n            display: flex;\r\n\r\n        }\r\n\r\n        \r\n        .bar_icon {\r\n          color: rgba(255, 255, 255, 0.3);\r\n          --mdc-icon-size: 3.5vh;\r\n          margin-top: 8%;\r\n        }\r\n\r\n\r\n`;\r\n","import { type CSSResultGroup, html, LitElement } from \"lit\";\r\nimport { customElement, property } from \"lit/decorators.js\";\r\nimport SunCalc from \"suncalc\"; // Importa la libreria SunCalc\r\n// import { CARD_VERSION,  DEFAULT_ID, } from \"./const\";\r\nimport {\r\n  loader,\r\n  clearnight,\r\n  cloudy,\r\n  day,\r\n  fog,\r\n  partlycloudy,\r\n  hail,\r\n  lightningrainy,\r\n  lightning,\r\n  partlycloudynight,\r\n  pouring,\r\n  snowyrainy,\r\n  windyvariant,\r\n  windy,\r\n  rainy,\r\n  cloudeCoverage,\r\n  uvIndex,\r\n  temperature,\r\n} from \"./icons\";\r\nimport { pvIcon, battery, gridPower, home, inverter } from \"./tiles\";\r\nimport styles from \"./styles\";\r\ndeclare global {\r\n  interface Window {\r\n    ApexCharts: any;\r\n  }\r\n}\r\n\r\n@customElement(\"photovoltaic-card\")\r\nclass PhotovoltaicCard extends LitElement {\r\n  @property({ attribute: false }) public hass!: any;\r\n  @property() public config!: any;\r\n  @property({ type: Number }) private _interval: number = 25; // Intervallo iniziale in minuti\r\n  private showChart: boolean; // Stato per mostrare/nascondere la sezione\r\n  private swicthChart: boolean; // Stato per mostrare/nascondere la sezione\r\n  private panelMode: boolean; // Stato per mostrare/nascondere la sezione\r\n  private seriesData?: { name: string; data: { x: number; y: number }[] }[];\r\n  private chart: any;\r\n  private weekChart: any;\r\n  private _debounceFetchHistory: number | null = null;\r\n  private chartHeight: any = 400; // Imposta la variabile con il valore iniziale\r\n  // private seriesDataLast7Days: {\r\n  //   name: string;\r\n  //   data: { x: number; y: number }[];\r\n  // }[] = [];\r\n  // private weeklyChart: any | null = null; // Dichiarazione della propriet\r\n  private activeMenu: \"home\" | \"chart\" | \"tile\" | \"heatmap\" = \"home\";\r\n  private _tileCards: HTMLElement[] | null = null;\r\n  private moreElements_Cards: HTMLElement[] | null = null;\r\n  // private moreElements_tileCard: HTMLElement[] | null = null;\r\n  private _moreElementsContainer: any = null;\r\n  private previousWidth: number = 0;\r\n  private weekGridConsumption: number = 0;\r\n  private chartMap: any = null; // Variabile per mantenere l'istanza del grafico\r\n  private dawnTime: any;\r\n  private duskTime: any;\r\n  private entities: any;\r\n  private chartdata: any;\r\n  private cardCardWidth: number;\r\n  private batteryWeekTotal: any;\r\n  private batteryWeek: any;\r\n  private gridWeekTotal: any | null = null;\r\n  private gridWeek: any | null = null;\r\n  private totalWekkPvProduction: number = 0;\r\n  private daysToEvaluate: number = 7;\r\n  private startTime: Date;\r\n  private endTime: Date;\r\n  private heatmapObj: any;\r\n  private disableLeftButtonHeatmap: boolean = false;\r\n\r\n  private sensorData: any = [];\r\n  private aggregatedData: any = [];\r\n  private showMoreElements: boolean = false;\r\n  private dinamicContent: any = [];\r\n  private moreElemetsName: string = \"\";\r\n  private moreElemetsFunction: string = \"\";\r\n  private totalMaxPower: number = 0;\r\n  private sliderHeight: number = 0;\r\n\r\n  static get properties() {\r\n    return {\r\n      hass: {},\r\n      config: {},\r\n      activeMenu: {},\r\n      showChart: {},\r\n      swicthChart: {},\r\n      panelMode: {},\r\n      showMoreElements: {},\r\n    };\r\n  }\r\n\r\n  static get iconMapping() {\r\n    return {\r\n      loader: loader(),\r\n      cloudeCoverage: cloudeCoverage(),\r\n      uvIndex: uvIndex(),\r\n      rainy: rainy(),\r\n      temperature: temperature(),\r\n      \"clear-night\": clearnight(),\r\n      cloudy: cloudy(),\r\n      day: day(),\r\n      sunny: day(),\r\n      partlycloudy: partlycloudy(),\r\n      hail: hail(),\r\n      \"lightning-rainy\": lightningrainy(),\r\n      lightning: lightning(),\r\n      night: clearnight(),\r\n      \"partlycloudy-night\": partlycloudynight(),\r\n      pouring: pouring(),\r\n      \"snowy-rainy\": snowyrainy,\r\n      \"windy-variant\": windyvariant(),\r\n      windy: windy(),\r\n      fog: fog(),\r\n    };\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n    this.showChart = false;\r\n    this.swicthChart = true;\r\n  }\r\n\r\n  static get styles(): CSSResultGroup {\r\n    return styles;\r\n  }\r\n\r\n  public setConfig(config: any): void {\r\n    if (!config.entities || !Array.isArray(config.entities)) {\r\n      throw new Error(\r\n        \"Invalid configuration: entities must be a list of entity IDs\"\r\n      );\r\n    }\r\n\r\n    const updatedConfig = { ...config };\r\n\r\n    // Genera una chiave univoca basata sulla configurazione\r\n    const uniqueKey =\r\n      JSON.stringify(config.entities) + (config.card?.type || \"default\");\r\n    const hash = this._generateHash(uniqueKey);\r\n\r\n    const storageKey = `local_conditional_card_id_${hash}`;\r\n    let savedId = localStorage.getItem(storageKey);\r\n\r\n    // Se non esiste, genera un ID univoco\r\n    if (!savedId) {\r\n      savedId = `card_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`;\r\n      localStorage.setItem(storageKey, savedId);\r\n    }\r\n\r\n    // Assegna l'ID generato o recuperato\r\n    updatedConfig.id = savedId;\r\n\r\n    // Imposta la configurazione aggiornata\r\n    this.config = updatedConfig;\r\n\r\n    // Recupera il valore dello slider dal localStorage o usa il valore predefinito\r\n    const sliderKey = `slider_value_${this.config.id}`;\r\n    const savedSliderValue = localStorage.getItem(sliderKey);\r\n\r\n    this._interval = savedSliderValue\r\n      ? parseInt(savedSliderValue, 10)\r\n      : (config.options?.data_time_period ?? 25);\r\n\r\n    // legge le entit in enetities\r\n    this.entities = this.config.entities;\r\n    this.totalMaxPower =\r\n      this.entities.reduce((sum, entity) => sum + (entity.max_power || 0), 0) /\r\n      1000;\r\n  }\r\n\r\n  private _generateHash(input: string): string {\r\n    let hash = 0;\r\n    for (let i = 0; i < input.length; i++) {\r\n      const char = input.charCodeAt(i);\r\n      hash = (hash << 5) - hash + char;\r\n      hash |= 0; // Convert to 32bit integer\r\n    }\r\n    return hash.toString(36);\r\n  }\r\n\r\n  connectedCallback() {\r\n    super.connectedCallback();\r\n\r\n    // Aggiungi il listener per il resize della finestra\r\n    window.addEventListener(\"resize\", this.handleResize.bind(this));\r\n\r\n    // Calcola inizialmente la larghezza\r\n    this.handleResize();\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    super.disconnectedCallback();\r\n\r\n    // Rimuovi il listener per evitare memory leak\r\n    window.removeEventListener(\"resize\", this.handleResize.bind(this));\r\n  }\r\n\r\n  private handleResize() {\r\n    // Ottieni la larghezza corrente della card\r\n    const currentWidth = this.getBoundingClientRect().width;\r\n\r\n    // Confronta la larghezza corrente con quella precedente\r\n    if (currentWidth !== this.previousWidth) {\r\n      this.previousWidth = currentWidth;\r\n      this.initializeLines(); // Richiama la funzione solo se la larghezza  cambiata\r\n    }\r\n  }\r\n\r\n  private createTileCards() {\r\n    if (!this.config.tile_cards || !Array.isArray(this.config.tile_cards)) {\r\n      return [];\r\n    }\r\n\r\n    if (!this._tileCards) {\r\n      this._tileCards = this.config.tile_cards.map((entity) => {\r\n        const tileConfig = {\r\n          type: \"tile\",\r\n          entity: entity,\r\n        };\r\n\r\n        const tile = document.createElement(\"hui-tile-card\") as any;\r\n        tile.setConfig(tileConfig);\r\n        return tile;\r\n      });\r\n    }\r\n\r\n    this._tileCards.forEach((tile) => {\r\n      (tile as any).hass = this.hass;\r\n    });\r\n\r\n    return this._tileCards;\r\n  }\r\n\r\n  // private entitiesCard() {\r\n  //   if (!this.config.more_elements || !Array.isArray(this.config.more_elements)) {\r\n  //       return [];\r\n  //   }\r\n\r\n  //   if (!this.moreElements_tileCard) {\r\n  //       const sensorEntities = this.config.more_elements\r\n  //           .filter(entity => entity.startsWith(\"sensor.\")); // Filtra solo i sensori\r\n\r\n  //       if (sensorEntities.length === 0) {\r\n  //           return []; // Nessun sensore, nessuna card\r\n  //       }\r\n\r\n  //       const tileConfig = {\r\n  //           type: \"entities\",\r\n  //           entities: sensorEntities, // Passa tutte le entit insieme\r\n  //       };\r\n\r\n  //       const tile = document.createElement(\"hui-entities-card\") as any;\r\n  //       tile.setConfig(tileConfig);\r\n\r\n  //       this.moreElements_tileCard = tile;\r\n  //   }\r\n\r\n  //   (this.moreElements_tileCard as any).hass = this.hass;\r\n\r\n  //   return [this.moreElements_tileCard]; // Deve restituire un array con una sola card\r\n  // }\r\n\r\n  // private more_elements() {\r\n  //   if (!this.config.more_elements || !Array.isArray(this.config.more_elements)) {\r\n  //       return [];\r\n  //   }\r\n\r\n  //   if (!this.moreElements_EntitiesCards) {\r\n  //       this.moreElements_EntitiesCards = this.config.more_elements\r\n  //           .filter(entity => !entity.startsWith(\"sensor.\")) // Filtro i sensori\r\n  //           .map((entity) => {\r\n  //               const tileConfig = {\r\n  //                   type: \"tile\",\r\n  //                   entity: entity,\r\n  //               };\r\n\r\n  //               const tile = document.createElement(\"hui-tile-card\") as any;\r\n  //               tile.setConfig(tileConfig);\r\n  //               return tile;\r\n  //           });\r\n  //   }\r\n\r\n  //   this.moreElements_EntitiesCards.forEach((tile) => {\r\n  //       (tile as any).hass = this.hass;\r\n  //   });\r\n\r\n  //   return this.moreElements_EntitiesCards;\r\n  // }\r\n\r\n  private generateMoreElements(more_elements) {\r\n    if (!more_elements || !Array.isArray(more_elements)) {\r\n      return [];\r\n    }\r\n\r\n    if (!this.moreElements_Cards) {\r\n      this.moreElements_Cards = [];\r\n\r\n      const sensorEntities = more_elements.filter((entity) =>\r\n        entity.startsWith(\"sensor.\")\r\n      );\r\n      const otherEntities = more_elements.filter(\r\n        (entity) => !entity.startsWith(\"sensor.\")\r\n      );\r\n\r\n      // Se ci sono sensori, crea una Entities Card\r\n      if (sensorEntities.length > 0) {\r\n        const tileConfig = {\r\n          type: \"entities\",\r\n          entities: sensorEntities,\r\n        };\r\n\r\n        const tile = document.createElement(\"hui-entities-card\") as any;\r\n        tile.setConfig(tileConfig);\r\n\r\n        this.moreElements_Cards.push(tile);\r\n      }\r\n\r\n      // Crea Tile Cards per le altre entit\r\n      this.moreElements_Cards.push(\r\n        ...otherEntities.map((entity) => {\r\n          const tileConfig = {\r\n            type: \"tile\",\r\n            entity: entity,\r\n          };\r\n\r\n          const tile = document.createElement(\"hui-tile-card\") as any;\r\n          tile.setConfig(tileConfig);\r\n          return tile;\r\n        })\r\n      );\r\n    }\r\n\r\n    // Aggiorna `hass` per tutte le card\r\n    this.moreElements_Cards.forEach((tile) => {\r\n      (tile as any).hass = this.hass;\r\n    });\r\n\r\n    return this.moreElements_Cards;\r\n  }\r\n\r\n  // *********************** calolo pv settimanale ********************\r\n\r\n  private getTotalSum(chartdata) {\r\n    let sum = 0;\r\n\r\n    // Se c' una sola entit, somma solo gli ultimi 7 valori della sua serie\r\n    if (this.entities.length === 1) {\r\n      const seriesData = chartdata.series[0].data;\r\n      const last7Values = seriesData.slice(-7); // Prende solo gli ultimi 7 valori\r\n      sum = last7Values.reduce((total, point) => total + point.y, 0);\r\n    } else {\r\n      // Trova la serie con nome \"totale\"\r\n      const totaleSeries = chartdata.series.find(\r\n        (series) => series.name === \"totale\"\r\n      );\r\n\r\n      // Se la serie esiste, somma solo gli ultimi 7 valori\r\n      if (totaleSeries) {\r\n        const seriesData = totaleSeries.data;\r\n        const last7Values = seriesData.slice(-7); // Prende solo gli ultimi 7 valori\r\n        sum = last7Values.reduce((total, point) => total + point.y, 0);\r\n      }\r\n    }\r\n\r\n    // Restituisce la somma arrotondata a due decimali\r\n    return Number(sum.toFixed(2));\r\n  }\r\n  //*********************** fine calolo pv settimanale ********************\r\n\r\n  // ********************** interrogazione singola entit ******************\r\n\r\n  askForEntity(\r\n    consumer: string,\r\n    days: number,\r\n    unit: string\r\n  ): Promise<{\r\n    days: Array<{ start: number; end: number; sum: number }>;\r\n    totale: number;\r\n  }> {\r\n    return new Promise((resolve, reject) => {\r\n      const now = new Date();\r\n      const startTime = new Date();\r\n\r\n      // Sottraggo giorni per ottenere il range corretto\r\n      startTime.setDate(now.getDate() - (days - 1));\r\n      startTime.setHours(0, 0, 0, 0); // Imposta a mezzanotte esatta\r\n\r\n      // Recupero i dettagli dell'entit per verificare l'unit di misura\r\n      const entity = this.hass.states[consumer];\r\n      const entityUnit =\r\n        entity?.attributes?.unit_of_measurement?.toLowerCase() || \"\";\r\n      const isWatt = entityUnit === \"w\" || unit.toLowerCase() === \"watt\"; // Controlla se  in watt\r\n\r\n      this.hass\r\n        .callWS({\r\n          type: \"recorder/statistics_during_period\",\r\n          statistic_ids: [consumer], // Deve sempre essere un array\r\n          period: \"day\",\r\n          start_time: startTime.toISOString(),\r\n          types: [\"sum\", \"mean\"],\r\n        })\r\n        .then(\r\n          (\r\n            recorderResponse: Record<\r\n              string,\r\n              Array<{ start: number; end: number; sum: number }>\r\n            >\r\n          ) => {\r\n            // Prendi i dati e calcola il valore corretto\r\n            const entityData = recorderResponse[consumer] || [];\r\n            if (entityData.length < 2) {\r\n              console.warn(\r\n                \"Dati insufficienti per il calcolo del valore giornaliero.\"\r\n              );\r\n              return resolve({ days: [], totale: 0 }); // Restituisco dati vuoti invece di undefined\r\n            }\r\n\r\n            // Array per i valori giornalieri corretti\r\n            let correctedDays: Array<{\r\n              start: number;\r\n              end: number;\r\n              sum: number;\r\n            }> = [];\r\n            let totalSum: number = 0;\r\n\r\n            for (let i = 1; i < entityData.length; i++) {\r\n              // Calcola la differenza tra giorni consecutivi\r\n              let correctedSum = entityData[i].sum - entityData[i - 1].sum;\r\n\r\n              // Se l'unit  in watt, divido per 1000 per ottenere i kWh\r\n              if (isWatt) {\r\n                correctedSum /= 1000;\r\n              }\r\n\r\n              // Arrotondo il valore a 2 decimali\r\n              correctedSum = parseFloat(correctedSum.toFixed(2));\r\n\r\n              // Aggiungo il valore alla lista dei giorni\r\n              correctedDays.push({\r\n                start: entityData[i].start, // Timestamp del giorno\r\n                end: entityData[i].end, // Fine del periodo\r\n                sum: correctedSum,\r\n              });\r\n\r\n              // Aggiorno il totale\r\n              totalSum += correctedSum;\r\n            }\r\n\r\n            // Arrotondo il totale a massimo 2 decimali\r\n            totalSum = parseFloat(totalSum.toFixed(2));\r\n\r\n            // Oggetto finale con days e totale\r\n            const correctedData = {\r\n              days: correctedDays,\r\n              totale: totalSum,\r\n            };\r\n\r\n            resolve(correctedData); // Restituisce i dati corretti\r\n          }\r\n        )\r\n        .catch((error) => {\r\n          console.error(\"Errore nella richiesta al recorder:\", error);\r\n          reject(error); // Propaga l'errore\r\n        });\r\n    });\r\n  }\r\n\r\n  // isPanelMode() {\r\n  //   const huiRoot = document.querySelector(\"home-assistant\")?.shadowRoot\r\n  //     ?.querySelector(\"home-assistant-main\")?.shadowRoot\r\n  //     ?.querySelector(\"ha-panel-lovelace\")?.shadowRoot\r\n  //     ?.querySelector(\"hui-root\") as any; //  CAST a \"any\"\r\n\r\n  // return huiRoot?.lovelace?.config?.views[huiRoot?.lovelace?.current_view]?.panel || false;\r\n\r\n  // }\r\n\r\n  isPanelMode(): boolean {\r\n    const huiRoot = document\r\n      .querySelector(\"home-assistant\")\r\n      ?.shadowRoot?.querySelector(\"home-assistant-main\")\r\n      ?.shadowRoot?.querySelector(\"ha-panel-lovelace\")\r\n      ?.shadowRoot?.querySelector(\"hui-root\");\r\n\r\n    return !!huiRoot?.shadowRoot?.querySelector(\"hui-panel-view\");\r\n  }\r\n\r\n  isVericarlCard(): boolean {\r\n    const haCard = this.shadowRoot?.querySelector(\"ha-card\") as any;\r\n    return haCard ? haCard.offsetHeight > haCard.offsetWidth : false;\r\n  }\r\n\r\n  private dynamicFunction: () => unknown = () => \"\";\r\n\r\n  // ********************** fine interrogazione singola entit ******************\r\n\r\n  render() {\r\n    const verticalCard = this.isVericarlCard();\r\n    const panelMode = this.isPanelMode();\r\n    const cardHeight = Math.round(this.getBoundingClientRect().height);\r\n    if (!verticalCard) {\r\n      this.chartHeight = cardHeight / 2.2;\r\n      // this.sliderHeight = !verticalCard && panelMode ? (cardHeight / 31.8) : 30;\r\n    }\r\n    // console.log('sliderRender', this.sliderHeight);\r\n    const pv_nemuber = this.config.entities.length;\r\n    // const linesSvg = this.shadowRoot.querySelector(\r\n    //   \".lines-svg\"\r\n    // ) as SVGSVGElement;\r\n    this.cardCardWidth = Math.round(this.getBoundingClientRect().width);\r\n\r\n    // console.log(\"labelPosition\", cardHeight);\r\n    // // Inizializza le linee SVG solo se necessario\r\n    // if (\r\n    //   linesSvg &&\r\n    //   linesSvg.querySelectorAll(\"path\").length === 0 &&\r\n    //   this.activeMenu === \"home\"\r\n    // ) {\r\n    //   this.initializeLines();\r\n    // }\r\n    this.initializeLines();\r\n    // Gestione opzionale di weather_entity\r\n    let weatherObj = null;\r\n    let iconUrl = \"\";\r\n    let weatherSvg = \"\";\r\n    let renderIcon = \"\";\r\n\r\n    if (\r\n      this.config?.weather_entity &&\r\n      this.hass?.states[this.config.weather_entity]\r\n    ) {\r\n      weatherObj = this.hass.states[this.config.weather_entity];\r\n      weatherSvg = weatherObj.state;\r\n      iconUrl = `https://raw.githubusercontent.com/madmicio/screensaver-card/main/icons/${weatherSvg}.svg`;\r\n      renderIcon = PhotovoltaicCard.iconMapping[weatherSvg] || (() => \"\");\r\n    } else {\r\n      console.warn(\"weather_entity is not configured or not found.\");\r\n    }\r\n\r\n    // Inizializza i totali\r\n    let total = 0;\r\n    let pvTotal = 0;\r\n    let batteryTotal = 0;\r\n    let gridTotal = 0;\r\n\r\n    // Calcola i valori delle entit configurate\r\n    this.config.entities.forEach((entity) => {\r\n      const pvState = this.hass.states[entity.pv]?.state\r\n        ? parseInt(this.hass.states[entity.pv].state) || 0\r\n        : 0;\r\n\r\n      const convertedPvState =\r\n        entity.convert_to_watt ||\r\n        this.hass.states[\r\n          entity.pv\r\n        ]?.attributes.unit_of_measurement?.toLowerCase() === \"kwh\"\r\n          ? pvState * 1000\r\n          : pvState;\r\n\r\n      // Aggiungi al totale PV\r\n      pvTotal += convertedPvState;\r\n    });\r\n\r\n    // Aggiorna il totale generale\r\n    total += pvTotal;\r\n\r\n    // Calcola i valori per la griglia\r\n    if (this.config.grid?.grid_entity) {\r\n      gridTotal = this.hass.states[this.config.grid.grid_entity]?.state\r\n        ? Math.round(\r\n            parseFloat(this.hass.states[this.config.grid.grid_entity].state)\r\n          ) || 0\r\n        : 0;\r\n    }\r\n\r\n    // Calcola i valori per la batteria\r\n    if (this.config.battery?.power) {\r\n      batteryTotal = this.hass.states[this.config.battery.power]?.state\r\n        ? Math.round(\r\n            parseFloat(this.hass.states[this.config.battery.power].state)\r\n          ) || 0\r\n        : 0;\r\n    }\r\n\r\n    // Calcola il totale di potenza\r\n    const totalPower = total + batteryTotal + gridTotal;\r\n\r\n    // Calcola le percentuali\r\n    const pvPercentage =\r\n      totalPower > 0 ? Math.round((pvTotal / totalPower) * 100) : 0;\r\n    const batteryPercentage =\r\n      totalPower > 0 && batteryTotal > 0\r\n        ? Math.round((batteryTotal / totalPower) * 100)\r\n        : 0;\r\n    // stato %  batteria istantaneo\r\n    const batteryPercentageNow = this.config.battery?.battery_state ?? \"0\";\r\n    const batteryPercentageState = this.hass.states[batteryPercentageNow]?.state\r\n      ? parseInt(this.hass.states[batteryPercentageNow].state, 10) || 0\r\n      : 0;\r\n\r\n    // Calcola la riduzione di CO2\r\n    const c02 = parseFloat((this.totalWekkPvProduction * 0.25).toFixed(2));\r\n\r\n    // if (this.config?.grid?.grid_meter && this.gridWeekTotal === null) {\r\n    //   this.askForEntity(\r\n    //     this.config.grid.grid_meter,\r\n    //     8,\r\n    //     this.config.grid?.unit_of_measurament\r\n    //   ).then((gridAsk) => {\r\n    //     console.log('dridAsrk', gridAsk);\r\n    //     this.gridWeekTotal = gridAsk.totale;\r\n    //   });\r\n    // }\r\n\r\n    // if (this.config?.battery?.battery_meter) {\r\n    //   this.askForEntity(\r\n    //     this.config.battery.battery_meter,\r\n    //     8,\r\n    //     this.config.battery?.unit_of_measurament\r\n    //   ).then((batteryAsk) => {\r\n    //     this.batteryWeekTotal = batteryAsk.totale;\r\n    //   });\r\n    // }\r\n\r\n    // Calcola il consumo totale settimanale\r\n    const totalConsumption =\r\n      Number(this.totalWekkPvProduction) + Number(this.gridWeekTotal);\r\n\r\n    const totalWeekKwhPercentage =\r\n      totalConsumption > 0\r\n        ? (this.totalWekkPvProduction / totalConsumption) * 100\r\n        : 0;\r\n\r\n    return html`\r\n      ${verticalCard\r\n        ? html`\r\n            <ha-card\r\n              class=\"ha-card_vertical\"\r\n              style=\"height: ${panelMode ? \"100%\" : \"900px\"} !important;\"\r\n            >\r\n              <div class=\"title\">\r\n                <div>E</div>\r\n                <div>n</div>\r\n                <div>e</div>\r\n                <div>r</div>\r\n                <div>g</div>\r\n                <div>y</div>\r\n                <div>C</div>\r\n                <div>o</div>\r\n                <div>n</div>\r\n                <div>t</div>\r\n                <div>r</div>\r\n                <div>o</div>\r\n                <div>l</div>\r\n              </div>\r\n\r\n              ${this.activeMenu === \"home\"\r\n                ? html`\r\n                    ${!this.showMoreElements\r\n                      ? html`\r\n                          <div\r\n                            id=\"homeContent\"\r\n                            style=\"display: flex; flex-direction: column;\"\r\n                          >\r\n                            <div\r\n                              style=\"display: flex; justify-content: center; flex-direction: column; gap: 50px; margin: auto 10%\"\r\n                            >\r\n                              ${pv_nemuber >= 1\r\n                                ? html`\r\n                                    <div\r\n                                      style=\"display: flex; justify-content: ${pv_nemuber ==\r\n                                      1\r\n                                        ? \"space-around\"\r\n                                        : \"space-between\"}\"\r\n                                    >\r\n                                      ${weatherObj && pv_nemuber <= 2\r\n                                        ? html`\r\n                                            <div\r\n                                              style=\"width: 70px;cursor:pointer;\"\r\n                                              @click=${() =>\r\n                                                this._moreinfo(\r\n                                                  this.config.weather_entity\r\n                                                )}\r\n                                            >\r\n                                              ${renderIcon}\r\n                                            </div>\r\n                                          `\r\n                                        : \"\"}\r\n                                      ${this.entities.map((entity) => {\r\n                                        const entityId = entity.pv; // Estrai l'ID dell'entit dalla chiave 'pv'\r\n                                        const maxPower = entity.max_power;\r\n                                        const stateObj =\r\n                                          this.hass.states[entityId];\r\n                                        const unit =\r\n                                          stateObj &&\r\n                                          stateObj.attributes\r\n                                            .unit_of_measurement\r\n                                            ? stateObj.attributes\r\n                                                .unit_of_measurement\r\n                                            : \"\";\r\n                                        const state = stateObj\r\n                                          ? unit?.toLowerCase() === \"kwh\" ||\r\n                                            entity.convert_to_watt\r\n                                            ? Math.round(\r\n                                                parseFloat(stateObj.state) *\r\n                                                  1000\r\n                                              )\r\n                                            : Math.round(\r\n                                                parseFloat(stateObj.state)\r\n                                              )\r\n                                          : \"N/A\";\r\n                                        const percentage =\r\n                                          state !== \"N/A\" && maxPower > 0\r\n                                            ? Math.round(\r\n                                                (state / maxPower) * 100\r\n                                              )\r\n                                            : \"N/A\";\r\n                                        return html`\r\n                                          <div\r\n                                            @click=\"${() => {\r\n                                              if (entity.more_elements) {\r\n                                                this.moreElemetsName =\r\n                                                  this.hass.states[\r\n                                                    entityId\r\n                                                  ].attributes.friendly_name;\r\n                                                this.dynamicFunction = () =>\r\n                                                  pvIcon(state);\r\n                                                this.dinamicContent =\r\n                                                  entity.more_elements;\r\n                                                this.showMoreElements = true;\r\n                                              } else {\r\n                                                // Se more_elements non esiste, esegui this._moreinfo(entityId)\r\n                                                this._moreinfo(entityId);\r\n                                              }\r\n                                            }}\"\r\n                                            id=\"pv-element\"\r\n                                            class=\"element-svg top tile tile_vertical\"\r\n                                            value=\"${state}\"\r\n                                            style=\" cursor:pointer; background: linear-gradient(90deg, #4eb274 0%, #4eb274 ${percentage}%, #284932 ${percentage}%, #284932 100%);\"\r\n                                          >\r\n                                            ${pvIcon(state)}\r\n                                          </div>\r\n                                        `;\r\n                                      })}\r\n                                    </div>\r\n                                  `\r\n                                : \"\"}\r\n                              <!-- SVG Casa -->\r\n                              <div\r\n                                style=\"display:flex; justify-content:space-evenly; align-items: center;\"\r\n                              >\r\n                                ${weatherObj && pv_nemuber > 2\r\n                                  ? html`\r\n                                      <div\r\n                                        style=\"display: flex; flex-direction: column;\"\r\n                                      >\r\n                                        <div\r\n                                          style=\"aspect-ratio: 1 / 1; width: 70px; cursor:pointer;\"\r\n                                          @click=${() =>\r\n                                            this._moreinfo(\r\n                                              this.config.weather_entity\r\n                                            )}\r\n                                        >\r\n                                          ${renderIcon}\r\n                                        </div>\r\n                                        <div class=\"weather_attributes\">\r\n                                          <div style=\"display: flex;\">\r\n                                            <div style=\"width: 25px;\">\r\n                                              ${cloudeCoverage()}\r\n                                            </div>\r\n                                            <div style=\"font-size: 12px\">\r\n                                              &nbsp;${weatherObj.attributes\r\n                                                .cloud_coverage}%\r\n                                            </div>\r\n                                          </div>\r\n                                          <div style=\"font-size: 12px\">\r\n                                            Uv:${weatherObj.attributes.uv_index}\r\n                                          </div>\r\n                                          <div style=\"display: flex;\">\r\n                                            <div style=\"width: 13px;\">\r\n                                              ${temperature()}\r\n                                            </div>\r\n                                            <div style=\"font-size: 12px\">\r\n                                              &nbsp;${weatherObj.attributes\r\n                                                .temperature}${weatherObj\r\n                                                .attributes.temperature_unit}\r\n                                            </div>\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n                                    `\r\n                                  : \"\"}\r\n                                ${weatherObj && pv_nemuber <= 2\r\n                                  ? html`\r\n                                      <div\r\n                                        style=\"display: grid; grid-template-columns: auto auto; grid-template-rows: 1fr 1fr 1fr; align-items: center;grid-column-gap:5px;\"\r\n                                      >\r\n                                        <div style=\"width: 25px;\">\r\n                                          ${cloudeCoverage()}\r\n                                        </div>\r\n                                        <div style=\"font-size: 12px\">\r\n                                          &nbsp;${weatherObj.attributes\r\n                                            .cloud_coverage}%\r\n                                        </div>\r\n                                        <div\r\n                                          style=\"font-size: 12px; opacity: .76;\"\r\n                                        >\r\n                                          Uv:\r\n                                        </div>\r\n                                        <div style=\"font-size: 12px\">\r\n                                          &nbsp;${weatherObj.attributes\r\n                                            .uv_index}\r\n                                        </div>\r\n                                        <div style=\"width: 13px;\">\r\n                                          ${temperature()}\r\n                                        </div>\r\n                                        <div style=\"font-size: 12px\">\r\n                                          &nbsp;${weatherObj.attributes\r\n                                            .temperature}${weatherObj.attributes\r\n                                            .temperature_unit}\r\n                                        </div>\r\n                                      </div>\r\n                                    `\r\n                                  : \"\"}\r\n\r\n                                <div\r\n                                  id=\"casa\"\r\n                                  class=\"element-svg tile tile_vertical\"\r\n                                  style=\"background: linear-gradient(118deg, #959c98 0%, #254344 100%);cursor: pointer;${pv_nemuber >=\r\n                                  3\r\n                                    ? \"margin:auto;\"\r\n                                    : \" \"} \"\r\n                                  @click=\"${() => {\r\n                                    this.moreElemetsName = \"Inverter\";\r\n                                    this.dynamicFunction = () => inverter();\r\n                                    if (!this.config?.inverter?.more_elements)\r\n                                      return; // Se non esiste, non fare nulla\r\n                                    this.dinamicContent =\r\n                                      this.config.inverter.more_elements;\r\n                                    this.showMoreElements = true;\r\n                                  }}\"\r\n                                >\r\n                                  ${inverter()}\r\n                                </div>\r\n                              </div>\r\n                              <div\r\n                                style=\" display: flex; justify-content:space-between; \"\r\n                              >\r\n                                ${this.config.battery\r\n                                  ? (() => {\r\n                                      return html`\r\n                                        <div\r\n                                          id=\"battery\"\r\n                                          class=\"element-svg bottom tile tile_vertical\"\r\n                                          value=\"${batteryTotal}\"\r\n                                          style=\"cursor: pointer; background-color: #b95618; border: 2px solid transparent; ${batteryTotal <\r\n                                          0\r\n                                            ? \"animation: circular-border 2s infinite;\"\r\n                                            : \"\"}  \"\r\n                                          @click=\"${() => {\r\n                                            if (\r\n                                              this.config?.battery\r\n                                                ?.more_elements\r\n                                            ) {\r\n                                              this.moreElemetsName = \"Battery\";\r\n                                              this.dynamicFunction = () =>\r\n                                                battery(\r\n                                                  batteryTotal,\r\n                                                  batteryPercentageState\r\n                                                );\r\n                                              this.dinamicContent =\r\n                                                this.config.battery.more_elements;\r\n                                              this.showMoreElements = true;\r\n                                            } else {\r\n                                              // Se more_elements non esiste, esegui this._moreinfo(entityId)\r\n                                              this._moreinfo(\r\n                                                this.config?.battery?.power\r\n                                              );\r\n                                            }\r\n                                          }}\"\r\n                                        >\r\n                                          ${battery(\r\n                                            batteryTotal,\r\n                                            batteryPercentageState\r\n                                          )}\r\n                                        </div>\r\n                                      `;\r\n                                    })()\r\n                                  : \"\"}\r\n                                <div\r\n                                  id=\"home_tile\"\r\n                                  class=\"element-svg bottom tile tile_vertical\"\r\n                                  value=\"${totalPower}\"\r\n                                  style=\"background: linear-gradient(118deg, #959c98 0%, #254344 100%); \"\r\n                                  @click=\"${() => {\r\n                                    this.moreElemetsName = \"Home\";\r\n                                    this.dynamicFunction = () => inverter();\r\n                                    if (!this.config?.inverter?.more_elements)\r\n                                      return; // Se non esiste, non fare nulla\r\n                                    this.dinamicContent =\r\n                                      this.config.inverter.more_elements;\r\n                                    this.showMoreElements = true;\r\n                                  }}\"\r\n                                >\r\n                                  ${home(\r\n                                    totalPower,\r\n                                    pvPercentage,\r\n                                    batteryPercentage\r\n                                  )}\r\n                                </div>\r\n                                ${this.config.grid\r\n                                  ? (() => {\r\n                                      const maxPower =\r\n                                        this.config?.grid?.max_power;\r\n                                      const percentage = Math.round(\r\n                                        (gridTotal / maxPower) * 100\r\n                                      );\r\n                                      return html`\r\n                                        <div\r\n                                          id=\"grid-power-direct\"\r\n                                          class=\"element-svg bottom tile tile_vertical\"\r\n                                          value=\"${gridTotal}\"\r\n                                          style=\"cursor: pointer; background: linear-gradient(90deg, #a2d6f5 0%, #a2d6f5 ${percentage}%, #2a3948 ${percentage}%, #2a3948 100%); \"\r\n                                          @click=\"${() => {\r\n                                            if (\r\n                                              this.config.grid.more_elements\r\n                                            ) {\r\n                                              this.moreElemetsName = \"Grid\";\r\n                                              this.dynamicFunction = () =>\r\n                                                gridPower(gridTotal);\r\n                                              this.dinamicContent =\r\n                                                this.config.grid.more_elements;\r\n                                              this.showMoreElements = true;\r\n                                            } else {\r\n                                              // Se more_elements non esiste, esegui this._moreinfo(entityId)\r\n                                              this._moreinfo(\r\n                                                this.config?.grid?.grid_entity\r\n                                              );\r\n                                            }\r\n                                          }}\"\r\n                                        >\r\n                                          ${gridPower(gridTotal)}\r\n                                        </div>\r\n                                      `;\r\n                                    })()\r\n                                  : \"\"}\r\n                              </div>\r\n                              <!-- Linee dinamiche -->\r\n                              <svg\r\n                                class=\"lines-svg\"\r\n                                style=\"width: 100%; height: 100%; z-index: 1; pointer-events: none;\"\r\n                              ></svg>\r\n                            </div>\r\n                            <!-- ****************** info **************************** -->\r\n                            <div\r\n                              style=\"margin-left: 5%; margin-right: 5%; margin-top: auto;\"\r\n                            >\r\n                              <div>produzione ultimi 7 giorni</div>\r\n                              <div class=\"home_info\">\r\n                                <div class=\"info_column\">\r\n                                  <ha-icon\r\n                                    icon=\"mdi:molecule-co2\"\r\n                                    class=\"info_icon\"\r\n                                  ></ha-icon>\r\n                                  ${c02 > 0\r\n                                    ? html` <div>${c02} kg</div> `\r\n                                    : html` <div style=\"width:25px;\">\r\n                                        ${loader()}\r\n                                      </div>`}\r\n                                  <div>co2 risparmiata</div>\r\n                                </div>\r\n                                <div\r\n                                  style=\"width: 2px; height: 80%; background-color: var(--divider-color);\"\r\n                                ></div>\r\n                                <div class=\"info_column\">\r\n                                  <ha-icon\r\n                                    icon=\"mdi:piggy-bank\"\r\n                                    class=\"info_icon\"\r\n                                  ></ha-icon>\r\n                                  ${this.totalWekkPvProduction > 0\r\n                                    ? html`\r\n                                        <div>\r\n                                          ${this.totalWekkPvProduction} Kwh\r\n                                        </div>\r\n                                      `\r\n                                    : html` <div style=\"width:25px;\">\r\n                                        ${loader()}\r\n                                      </div>`}\r\n\r\n                                  <div>risparmio</div>\r\n                                </div>\r\n                                <div\r\n                                  style=\"width: 2px; height: 80%; background-color: var(--divider-color);\"\r\n                                ></div>\r\n                                <div class=\"info_column\">\r\n                                  <ha-icon\r\n                                    icon=\"mdi:home\"\r\n                                    class=\"info_icon\"\r\n                                  ></ha-icon>\r\n                                  ${totalWeekKwhPercentage > 0\r\n                                    ? html`\r\n                                        <div>\r\n                                          ${totalWeekKwhPercentage.toFixed(1)}%\r\n                                        </div>\r\n                                      `\r\n                                    : html` <div style=\"width:25px;\">\r\n                                        ${loader()}\r\n                                      </div>`}\r\n\r\n                                  <div>autosufficienza</div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        `\r\n                      : html`\r\n                          <div class=\"more_elements_container\">\r\n                            <div\r\n                              style=\"padding: 20px 20px 15px 20px; display:flex;justify-content: center; align-items: center;\"\r\n                            >\r\n                              <div\r\n                                class=\"element-svg tile tile_vertical\"\r\n                                style=\"background: linear-gradient(118deg, #959c98 0%, #254344 100%);cursor: pointer;  width:70px; height:70px;\"\r\n                              >\r\n                                ${this.dynamicFunction()}\r\n                              </div>\r\n                              <div class=\"more_elemnts_divider \">\r\n                                ${this.moreElemetsName}\r\n                              </div>\r\n                              <div\r\n                                class=\"element-svg tile tile_vertical back_button\"\r\n                                style=\"background: linear-gradient(118deg, #959c98 0%, #254344 100%);\"\r\n                                @click=\"${() => {\r\n                                  this.showMoreElements = false;\r\n                                  this.moreElements_Cards = null;\r\n                                }}\"\r\n                              >\r\n                                back\r\n                              </div>\r\n                            </div>\r\n                            <div id=\"style-2\" class=\"more_elements\">\r\n                              ${this.generateMoreElements(this.dinamicContent)}\r\n                            </div>\r\n                          </div>\r\n                        `}\r\n                  `\r\n                : \"\"}\r\n              ${this.activeMenu === \"chart\"\r\n                ? html`\r\n            <div class\"arci\" style=\"display: flex; flex-direction: column;\">\r\n            <div style=\"flex-grow: 4;\"> \r\n              ${\r\n                this.swicthChart\r\n                  ? html`\r\n                      <h3>Previsioni Produzione Fotovoltaica</h3>\r\n                      <div class=\"production_range\">\r\n                        <label for=\"interval-slider\"\r\n                          >Intervallo: ${this._interval} minuti</label\r\n                        >\r\n                        <div class=\"range-container\">\r\n                          <input\r\n                            id=\"interval-slider\"\r\n                            type=\"range\"\r\n                            min=\"1\"\r\n                            max=\"30\"\r\n                            .value=\"${this._interval}\"\r\n                            @input=\"${this._onSliderInput}\"\r\n                            @change=\"${this._atSliderChange}\"\r\n                          />\r\n                          <div class=\"offset_label\">\r\n                            <span class=\"range-thumb-label\"\r\n                              >${this._interval}</span\r\n                            >\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div id=\"chart\"></div>\r\n                    `\r\n                  : html`\r\n                      <h3 style=\"margin-bottom: 70px;\">\r\n                        Andamento Settimanale (Ultimi 7 Giorni)\r\n                      </h3>\r\n                      <div id=\"week-chart\"></div>\r\n                      <!-- Nuovo contenitore per il secondo grafico -->\r\n                    `\r\n              }\r\n                </div>\r\n                <div class=\"chart-cutton-container\">\r\n                  <button class=\"chart-button-select\"\r\n                @click=\"${() => {\r\n                  this.swicthChart = true;\r\n                  // this.showWeeklyChart = false;\r\n                  this._initializeChart(this.seriesData);\r\n                }}\"\r\n              >\r\n                Toggle Chart and Update\r\n              </button>\r\n              <div style=\"width: 2px; height: 80%; background-color: var(--divider-color); align-self: center;\"></div>\r\n              <button class=\"chart-button-select\"\r\n                  @click=\"${() => {\r\n                    this.swicthChart = false;\r\n                    this.initializeApexChart(this.chartdata, \"week-chart\");\r\n                  }}\"\r\n                >\r\n                  inizilte week chart\r\n                </button>\r\n                </div>\r\n            </div>    \r\n            `\r\n                : \"\"}\r\n              ${this.activeMenu === \"tile\"\r\n                ? html`\r\n                    <div\r\n                      style=\"display: flex; flex-direction: column; gap: 10px;\"\r\n                    >\r\n                      ${this.createTileCards().map((tile) => tile)}\r\n                    </div>\r\n                  `\r\n                : \"\"}\r\n              ${this.activeMenu === \"heatmap\"\r\n                ? html` <div id=\"heatmap-chart\"></div> `\r\n                : \"\"}\r\n\r\n              <!-- ******************* bottom menu ****************** -->\r\n              <div class=\"bottom_bar_vertical\">\r\n                <ha-icon\r\n                  icon=\"mdi:home\"\r\n                  class=\"menu_icon ${this.activeMenu === \"home\"\r\n                    ? \"menu_icon_on\"\r\n                    : \"\"}\"\r\n                  @click=\"${() => {\r\n                    this.activeMenu = \"home\";\r\n                  }}\"\r\n                ></ha-icon>\r\n                <ha-icon\r\n                  icon=\"mdi:chart-areaspline\"\r\n                  class=\"menu_icon ${this.activeMenu === \"chart\"\r\n                    ? \"menu_icon_on\"\r\n                    : \"\"}\"\r\n                  @click=\"${() => {\r\n                    this.activeMenu = \"chart\";\r\n                    this._initializeChart(this.seriesData);\r\n                  }}\"\r\n                ></ha-icon>\r\n                <ha-icon\r\n                  icon=\"mdi:view-grid-compact\"\r\n                  class=\"menu_icon ${this.activeMenu === \"heatmap\"\r\n                    ? \"menu_icon_on\"\r\n                    : \"\"}\"\r\n                  @click=\"${() => {\r\n                    this.activeMenu = \"heatmap\";\r\n                    this.get_recorder_for_heatmap();\r\n                    // this.initializeHeatmapChart();\r\n                  }}\"\r\n                ></ha-icon>\r\n                <ha-icon\r\n                  icon=\"mdi:format-list-numbered\"\r\n                  class=\"menu_icon ${this.activeMenu === \"tile\"\r\n                    ? \"menu_icon_on\"\r\n                    : \"\"}\"\r\n                  @click=\"${() => {\r\n                    this.activeMenu = \"tile\";\r\n                  }}\"\r\n                ></ha-icon>\r\n              </div>\r\n            </ha-card>\r\n          `\r\n        : html`\r\n            <!-- ********************************************************************************************************************** -->\r\n            <!-- ********************************************************************************************************************** -->\r\n            <!-- ********************************************************************************************************************** -->\r\n            <ha-card\r\n              class=\"ha-card_horizontal scaled-container\"\r\n              style=\"height: ${panelMode ? \"100%\" : \"900px\"} !important;\"\r\n            >\r\n              <!-- ************************** title *************************************** -->\r\n              <div class=\"title_horizontal\" style=\"width: 100\">\r\n                <div>E</div>\r\n                <div>n</div>\r\n                <div>e</div>\r\n                <div>r</div>\r\n                <div>g</div>\r\n                <div>y</div>\r\n                <div>C</div>\r\n                <div>o</div>\r\n                <div>n</div>\r\n                <div>t</div>\r\n                <div>r</div>\r\n                <div>o</div>\r\n                <div>l</div>\r\n              </div>\r\n\r\n              <!-- ************************** main flow **************************************** -->\r\n\r\n              ${!this.showMoreElements\r\n                ? html`\r\n                    \r\n                      <div\r\n                        style=\"margin: 3vh 13% 10vh; display: flex; justify-content: space-between; flex-direction: column; grid-area: pv;\"\r\n                      >\r\n                        ${\r\n                          pv_nemuber >= 1\r\n                            ? html`\r\n                                <div\r\n                                  style=\"height:10vh; display: flex; justify-content: ${pv_nemuber ==\r\n                                  1\r\n                                    ? \"space-around\"\r\n                                    : \"space-between\"}\"\r\n                                >\r\n                                  ${weatherObj && pv_nemuber <= 2\r\n                                    ? html`\r\n                                        <div\r\n                                          style=\"width: 12vh;cursor:pointer;\"\r\n                                          @click=${() =>\r\n                                            this._moreinfo(\r\n                                              this.config.weather_entity\r\n                                            )}\r\n                                        >\r\n                                          ${renderIcon}\r\n                                        </div>\r\n                                      `\r\n                                    : \"\"}\r\n                                  ${this.entities.map((entity) => {\r\n                                    const entityId = entity.pv; // Estrai l'ID dell'entit dalla chiave 'pv'\r\n                                    const maxPower = entity.max_power;\r\n                                    const stateObj = this.hass.states[entityId];\r\n                                    const unit =\r\n                                      stateObj &&\r\n                                      stateObj.attributes.unit_of_measurement\r\n                                        ? stateObj.attributes\r\n                                            .unit_of_measurement\r\n                                        : \"\";\r\n                                    const state = stateObj\r\n                                      ? unit?.toLowerCase() === \"kwh\" ||\r\n                                        entity.convert_to_watt\r\n                                        ? Math.round(\r\n                                            parseFloat(stateObj.state) * 1000\r\n                                          )\r\n                                        : Math.round(parseFloat(stateObj.state))\r\n                                      : \"N/A\";\r\n                                    const percentage =\r\n                                      state !== \"N/A\" && maxPower > 0\r\n                                        ? Math.round((state / maxPower) * 100)\r\n                                        : \"N/A\";\r\n                                    return html`\r\n                                      <div\r\n                                        @click=\"${() => {\r\n                                          if (entity.more_elements) {\r\n                                            this.moreElemetsName =\r\n                                              this.hass.states[\r\n                                                entityId\r\n                                              ].attributes.friendly_name;\r\n                                            this.dynamicFunction = () =>\r\n                                              pvIcon(state);\r\n                                            this.dinamicContent =\r\n                                              entity.more_elements;\r\n                                            this.showMoreElements = true;\r\n                                          } else {\r\n                                            // Se more_elements non esiste, esegui this._moreinfo(entityId)\r\n                                            this._moreinfo(entityId);\r\n                                          }\r\n                                        }}\"\r\n                                        id=\"pv-element\"\r\n                                        class=\"element-svg top tile tile_horizontal\"\r\n                                        value=\"${state}\"\r\n                                        style=\" cursor:pointer; background: linear-gradient(90deg, #4eb274 0%, #4eb274 ${percentage}%, #284932 ${percentage}%, #284932 100%);\"\r\n                                      >\r\n                                        ${pvIcon(state)}\r\n                                      </div>\r\n                                    `;\r\n                                  })}\r\n                                </div>\r\n                              `\r\n                            : \"\"\r\n                        }\r\n                        <!-- SVG Casa -->\r\n                        <div\r\n                          style=\"display:flex; justify-content:space-evenly; align-items: center; height:10vh;\"\r\n                        >\r\n                          ${\r\n                            weatherObj && pv_nemuber > 2\r\n                              ? html`\r\n                                  <div\r\n                                    style=\"display: flex; flex-direction: column;\"\r\n                                  >\r\n                                    <div\r\n                                      style=\"aspect-ratio: 1 / 1; width: 12vh; cursor:pointer;\"\r\n                                      @click=${() =>\r\n                                        this._moreinfo(\r\n                                          this.config.weather_entity\r\n                                        )}\r\n                                    >\r\n                                      ${renderIcon}\r\n                                    </div>\r\n                                    <div class=\"weather_attributes\">\r\n                                      <div style=\"display: flex;\">\r\n                                        <div style=\"width: 3vh\">\r\n                                          ${cloudeCoverage()}\r\n                                        </div>\r\n                                        <div\r\n                                          style=\"font-size: 1.6vh;opacity: .76;align-self: center;\"\r\n                                        >\r\n                                          &nbsp;${weatherObj.attributes\r\n                                            .cloud_coverage}%\r\n                                        </div>\r\n                                      </div>\r\n                                      <div\r\n                                        style=\"font-size: 1.6vh;opacity: .76;align-self: center;\"\r\n                                      >\r\n                                        Uv:${weatherObj.attributes.uv_index}\r\n                                      </div>\r\n                                      <div style=\"display: flex;\">\r\n                                        <div style=\"width: 1.6vh;\">\r\n                                          ${temperature()}\r\n                                        </div>\r\n                                        <div\r\n                                          style=\"font-size: 1.6vh;opacity: .76;align-self: center;\"\r\n                                        >\r\n                                          &nbsp;${weatherObj.attributes\r\n                                            .temperature}${weatherObj.attributes\r\n                                            .temperature_unit}\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                `\r\n                              : \"\"\r\n                          }\r\n                          ${\r\n                            weatherObj && pv_nemuber <= 2\r\n                              ? html`\r\n                                  <div\r\n                                    style=\"display: grid;height:100%; grid-template-columns: auto auto; grid-template-rows: 1fr 1fr 1fr; align-items: center;grid-column-gap:5px;\"\r\n                                  >\r\n                                    <div\r\n                                      style=\"height:100%; aspect-ratio: 1 / 1;\"\r\n                                    >\r\n                                      ${cloudeCoverage()}\r\n                                    </div>\r\n                                    <div style=\"font-size: 2vh;opacity: .76;\">\r\n                                      &nbsp;${weatherObj.attributes\r\n                                        .cloud_coverage}%\r\n                                    </div>\r\n                                    <div style=\"font-size: 2vh; opacity: .76;\">\r\n                                      Uv:\r\n                                    </div>\r\n                                    <div style=\"font-size: 2vh;opacity: .76;\">\r\n                                      &nbsp;${weatherObj.attributes.uv_index}\r\n                                    </div>\r\n                                    <div style=\"height:100%; width: 2vh;\">\r\n                                      ${temperature()}\r\n                                    </div>\r\n                                    <div style=\"font-size: 2vh; opacity: .76;\">\r\n                                      &nbsp;${weatherObj.attributes\r\n                                        .temperature}${weatherObj.attributes\r\n                                        .temperature_unit}\r\n                                    </div>\r\n                                  </div>\r\n                                `\r\n                              : \"\"\r\n                          }\r\n\r\n                          <div\r\n                            id=\"casa\"\r\n                            class=\"element-svg tile tile_horizontal\"\r\n                            style=\"background: linear-gradient(118deg, #959c98 0%, #254344 100%);cursor: pointer;${\r\n                              pv_nemuber >= 3 ? \"margin:auto;\" : \" \"\r\n                            } \"\r\n                            @click=\"${() => {\r\n                              this.moreElemetsName = \"Inverter\";\r\n                              this.dynamicFunction = () => inverter();\r\n                              if (!this.config?.inverter?.more_elements) return; // Se non esiste, non fare nulla\r\n                              this.dinamicContent =\r\n                                this.config.inverter.more_elements;\r\n                              this.showMoreElements = true;\r\n                            }}\"\r\n                          >\r\n                            ${inverter()}\r\n                          </div>\r\n                        </div>\r\n                        <div\r\n                          style=\" display: flex; justify-content:space-between; height:10vh;\"\r\n                        \r\n                        >\r\n                          ${\r\n                            this.config.battery\r\n                              ? (() => {\r\n                                  return html`\r\n                                    <div\r\n                                      id=\"battery\"\r\n                                      class=\"element-svg bottom tile tile_horizontal\"\r\n                                      value=\"${batteryTotal}\"\r\n                                      style=\"cursor: pointer; background-color: #b95618; border: 2px solid transparent; ${batteryTotal <\r\n                                      0\r\n                                        ? \"animation: circular-border 2s infinite;\"\r\n                                        : \"\"}  \"\r\n                                      @click=\"${() => {\r\n                                        if (\r\n                                          this.config?.battery?.more_elements\r\n                                        ) {\r\n                                          this.moreElemetsName = \"Battery\";\r\n                                          this.dynamicFunction = () =>\r\n                                            battery(\r\n                                              batteryTotal,\r\n                                              batteryPercentageState\r\n                                            );\r\n                                          this.dinamicContent =\r\n                                            this.config.battery.more_elements;\r\n                                          this.showMoreElements = true;\r\n                                        } else {\r\n                                          // Se more_elements non esiste, esegui this._moreinfo(entityId)\r\n                                          this._moreinfo(\r\n                                            this.config?.battery?.power\r\n                                          );\r\n                                        }\r\n                                      }}\"\r\n                                    >\r\n                                      ${battery(\r\n                                        batteryTotal,\r\n                                        batteryPercentageState\r\n                                      )}\r\n                                    </div>\r\n                                  `;\r\n                                })()\r\n                              : \"\"\r\n                          }\r\n                          <div\r\n                            id=\"home_tile\"\r\n                            class=\"element-svg bottom tile tile_horizontal\"\r\n                            value=\"${totalPower}\"\r\n                            style=\"background: linear-gradient(118deg, #959c98 0%, #254344 100%); \"\r\n                             @click=\"${() => {\r\n                               this.moreElemetsName = \"Home\";\r\n                               this.dynamicFunction = () => inverter();\r\n                               if (!this.config?.inverter?.more_elements)\r\n                                 return; // Se non esiste, non fare nulla\r\n                               this.dinamicContent =\r\n                                 this.config.inverter.more_elements;\r\n                               this.showMoreElements = true;\r\n                             }}\"\r\n                          >\r\n                            ${home(totalPower, pvPercentage, batteryPercentage)}\r\n                          </div>\r\n                          ${\r\n                            this.config.grid\r\n                              ? (() => {\r\n                                  const maxPower = this.config?.grid?.max_power;\r\n                                  const percentage = Math.round(\r\n                                    (gridTotal / maxPower) * 100\r\n                                  );\r\n                                  return html`\r\n                                    <div\r\n                                      id=\"grid-power-direct\"\r\n                                      class=\"element-svg bottom tile tile_horizontal\"\r\n                                      value=\"${gridTotal}\"\r\n                                      style=\"cursor: pointer; background: linear-gradient(90deg, #a2d6f5 0%, #a2d6f5 ${percentage}%, #2a3948 ${percentage}%, #2a3948 100%); \"\r\n                                      @click=\"${() => {\r\n                                        if (this.config.grid.more_elements) {\r\n                                          this.moreElemetsName = \"Grid\";\r\n                                          this.dynamicFunction = () =>\r\n                                            gridPower(gridTotal);\r\n                                          this.dinamicContent =\r\n                                            this.config.grid.more_elements;\r\n                                          this.showMoreElements = true;\r\n                                        } else {\r\n                                          // Se more_elements non esiste, esegui this._moreinfo(entityId)\r\n                                          this._moreinfo(\r\n                                            this.config?.grid?.grid_entity\r\n                                          );\r\n                                        }\r\n                                      }}\"\r\n                                    >\r\n                                      ${gridPower(gridTotal)}\r\n                                    </div>\r\n                                  `;\r\n                                })()\r\n                              : \"\"\r\n                          }\r\n                        </div>\r\n                        <!-- Linee dinamiche -->\r\n                        <svg\r\n                          class=\"lines-svg\"\r\n                          style=\"width: 100%; height: 100%; z-index: 1; pointer-events: none;\"\r\n                        ></svg>\r\n                      </div>\r\n                      </div>\r\n                                          \r\n                  `\r\n                : html`\r\n                    <div class=\"more_elements_container_horizontal\">\r\n                      <div\r\n                        style=\"padding: 20px 20px 15px 20px; display:flex;justify-content: center; align-items: center;\"\r\n                      >\r\n                        <div\r\n                          class=\"element-svg tile tile_horizontal\"\r\n                          style=\"background: linear-gradient(118deg, #959c98 0%, #254344 100%);cursor: pointer;  width:10vh; height:10vh;\"\r\n                        >\r\n                          ${this.dynamicFunction()}\r\n                        </div>\r\n                        <div class=\"more_elemnts_divider \">\r\n                          ${this.moreElemetsName}\r\n                        </div>\r\n                        <div\r\n                          class=\"element-svg tile  back_button\"\r\n                          style=\"background: linear-gradient(118deg, #959c98 0%, #254344 100%); height:10vh; width: 10vh;\"\r\n                          @click=\"${() => {\r\n                            this.showMoreElements = false;\r\n                            this.moreElements_Cards = null;\r\n                          }}\"\r\n                        >\r\n                          back\r\n                        </div>\r\n                      </div>\r\n                      <div id=\"style-2\" class=\"more_elements\">\r\n                        ${this.generateMoreElements(this.dinamicContent)}\r\n                      </div>\r\n                    </div>\r\n                  `}\r\n\r\n              <!-- ************************** chart container *************************************** -->\r\n              <div class=\"mainChartHorizonatContainer\">\r\n                <div style=\"width: 20%; display: flex;flex-direction: column;\">\r\n                  <div style=\"opacity: 0.4;\">\r\n                    <svg\r\n                      version=\"1.1\"\r\n                      id=\"Layer_1\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n                      x=\"0px\"\r\n                      y=\"0px\"\r\n                      viewBox=\"0 0 1190.9 1040.9\"\r\n                      style=\"enable-background:new 0 0 1190.9 1040.9;\"\r\n                      xml:space=\"preserve\"\r\n                    >\r\n                      <style type=\"text/css\">\r\n                        .st0_logo {\r\n                          fill: #ffffff;\r\n                        }\r\n                        .st1_logo {\r\n                          fill: #534741;\r\n                        }\r\n                        .st2_logo {\r\n                          opacity: 0.29;\r\n                        }\r\n                      </style>\r\n                      <path class=\"st0_logo\" d=\"M2118.9-650.2\" />\r\n                      <g>\r\n                        <g>\r\n                          <path\r\n                            class=\"st1_logo\"\r\n                            d=\"M905.6,489.9l-10.5,65.2c-2.1,12.9,9.5,20.6,26.1,17.1l89.8-19c18.2-3.8,34.5-18.1,36.1-31.8l8.4-68.9\r\n                              c1.6-13.1-11.7-19.8-29.4-15.3L938.4,460C922.2,464.2,907.6,477.5,905.6,489.9z\"\r\n                          />\r\n                          <path\r\n                            class=\"st1_logo\"\r\n                            d=\"M760.3,606.3l77.6-16.4c15.6-3.3,30.2-16.4,32.3-29.2l10.8-64.6c2-12.3-8.9-18.9-24.2-15l-76.1,19.6\r\n                              c-14.1,3.6-27.3,16-29.6,27.7l-12.2,61.4C736.4,601.9,746,609.3,760.3,606.3z\"\r\n                          />\r\n                          <path\r\n                            class=\"st1_logo\"\r\n                            d=\"M459.5,780.4l68.2-10.4c12.1-1.8,24.4-13.2,27.2-25.2l14.5-61.2c2.7-11.6-4.9-19-16.8-16.6l-67.4,13.7\r\n                              c-11,2.2-22.2,12.9-25.1,24l-15.2,58.1C441.9,774.1,448.4,782.1,459.5,780.4z\"\r\n                          />\r\n                          <path\r\n                            class=\"st1_logo\"\r\n                            d=\"M524.7,873l15.4-65.1c2.9-12.3-4.7-20.9-16.9-19.2l-68.3,9.8c-11.2,1.6-22.6,12.3-25.7,24L413.1,884\r\n                              c-3.2,12.1,3.3,21.2,14.6,20.2l69.1-6C509.1,897.1,521.7,885.8,524.7,873z\"\r\n                          />\r\n                          <path\r\n                            class=\"st1_logo\"\r\n                            d=\"M620.3,635.9l67.7-14.3c13.6-2.9,26.8-15,29.2-27.1l12.4-60.8c2.4-11.6-6.7-18.1-20.1-14.6l-66.7,17.2\r\n                              c-12.4,3.2-24.4,14.7-27,25.7l-13.4,58C599.8,631.4,607.7,638.6,620.3,635.9z\"\r\n                          />\r\n                          <path\r\n                            class=\"st1_logo\"\r\n                            d=\"M691.1,722.6l13.3-65.1c2.5-12.3-6.6-20-20.3-17.2l-67.9,13.8c-12.6,2.6-24.9,14.1-27.6,25.8l-14.3,61.8\r\n                              c-2.8,12.2,5.1,20.5,17.9,18.6l68.9-10.5C674.9,747.6,688.4,735.4,691.1,722.6z\"\r\n                          />\r\n                          <path\r\n                            class=\"st1_logo\"\r\n                            d=\"M884.3,622.9L873,693c-2.2,13.8,9.6,23.1,26.6,20.5l92.3-14c18.7-2.8,35.6-17.2,37.4-31.9l9.1-74.4\r\n                              c1.7-14.1-11.9-22.3-30.1-18.6l-90.2,18.3C901.5,596.2,886.4,609.6,884.3,622.9z\"\r\n                          />\r\n                          <path\r\n                            class=\"st1_logo\"\r\n                            d=\"M699.6,786.9l-14,70.2c-2.8,13.8,7,24.1,22,22.8l81.1-7.1c16.4-1.4,31.9-14.6,34.3-29.3l12.4-74.5\r\n                              c2.3-14.1-9-23.6-25-21.3l-79.6,11.4C716.2,761.2,702.3,773.6,699.6,786.9z\"\r\n                          />\r\n                          <path\r\n                            class=\"st1_logo\"\r\n                            d=\"M726.2,653.3L713.1,719c-2.6,12.9,7.1,21.7,21.8,19.5l79.3-12.1c16-2.4,31-15.6,33.3-29.3l11.6-69.4\r\n                              c2.2-13.1-8.9-21.1-24.6-17.9l-77.8,15.8C742.2,628.5,728.7,640.9,726.2,653.3z\"\r\n                          />\r\n                          <path\r\n                            class=\"st1_logo\"\r\n                            d=\"M796.9,1000.8l13.4-80.1c2.5-15.1-9-26.3-25.4-25l-81.4,6.2c-15,1.2-29.4,13.5-32.2,27.8l-14.9,75.1\r\n                              c-2.9,14.8,6.9,26.7,22.2,26.5l83-1.3C778.3,1029.8,794.3,1016.6,796.9,1000.8z\"\r\n                          />\r\n                          <path\r\n                            class=\"st1_logo\"\r\n                            d=\"M988.9,722.3l-92.7,13.2c-17.1,2.4-32.6,15.9-34.9,30.1l-12.1,75.3c-2.4,14.9,9.6,25.8,27.1,24.3l94.9-8.3\r\n                              c19.3-1.7,36.7-16,38.7-31.9l9.8-80.3C1021.7,729.6,1007.7,719.6,988.9,722.3z\"\r\n                          />\r\n                          <path\r\n                            class=\"st1_logo\"\r\n                            d=\"M562.2,892.5l70.1-6.1c14.1-1.2,28-13.4,30.8-27.1l14.2-69.5c2.7-13.2-6.6-22.1-20.5-20.2l-69.1,9.9\r\n                              c-12.8,1.8-25.4,13.3-28.3,25.8L544.3,871C541.3,884,549.2,893.6,562.2,892.5z\"\r\n                          />\r\n                          <path\r\n                            class=\"st1_logo\"\r\n                            d=\"M583.5,624.1l13.6-57.5c2.6-11-5-17.3-16.8-14.3l-66.5,17.1c-10.9,2.8-21.8,13.5-24.6,23.9l-14.3,54.7\r\n                              c-2.8,10.8,3.7,17.7,14.7,15.4l67.3-14.2C568.8,646.8,580.8,635.5,583.5,624.1z\"\r\n                          />\r\n                          <path\r\n                            class=\"st1_logo\"\r\n                            d=\"M492.4,1009.4l16.4-69.3c3.1-13.1-4.5-23-16.8-22l-69.3,5.3c-11.3,0.9-23,11.6-26.2,24l-17.1,65.3\r\n                              c-3.4,12.9,3,23.2,14.5,23l70-1.1C476.3,1034.4,489.2,1023.1,492.4,1009.4z\"\r\n                          />\r\n                          <path\r\n                            class=\"st1_logo\"\r\n                            d=\"M836.8,919l-13,81.1c-2.6,16,9.7,28.9,27.6,28.6l97.7-1.5c19.9-0.3,37.9-14.6,40.1-31.8l10.6-86.9\r\n                              c2-16.4-12.3-28.4-31.7-26.9l-95.3,7.3C855.2,890.2,839.2,903.7,836.8,919z\"\r\n                          />\r\n                          <path\r\n                            class=\"st1_logo\"\r\n                            d=\"M627.9,907.7l-70.3,5.4c-13,1-26,12.5-29,25.8l-16.2,70c-3.2,13.8,4.8,24.9,18,24.7l71.4-1.1\r\n                              c14.4-0.2,28.7-12.4,31.7-27l15.2-74.3C651.4,917,642.1,906.6,627.9,907.7z\"\r\n                          />\r\n                        </g>\r\n                        <g>\r\n                          <path\r\n                            class=\"st1_logo\"\r\n                            d=\"M349.4,1015.9l28.9-114.4c-111.6-72-181-201.4-169.3-342.9C225.9,354.1,405.4,202,609.9,218.9\r\n                              c140.9,11.7,256.7,100.6,309.7,221.6l131.1-32.4c-76.1-34.3-111.3-137-49.8-212.2v0C897.6,269.1,758.8,175,788.5,52\r\n                              c-61.4,110.7-227.2,86.2-253.8-37.6c-7.2,126.4-167.3,176.2-245,76.3c48.3,117-74.3,231.4-187.6,175\r\n                              c94.3,84.5,33.5,240.7-93.1,239.1c121.6,35.2,134.6,202.3,19.8,255.8c124.8-21.1,209,123.9,128.9,221.9\r\n                              C225.6,934.4,308.8,958.6,349.4,1015.9z\"\r\n                          />\r\n                          <g class=\"st2_logo\">\r\n                            <path\r\n                              class=\"st1_logo\"\r\n                              d=\"M354.7,994.7l18.9-75l0-0.2c-122.9-76.6-194.1-217.6-182.1-362.3C208.2,357,378.3,200.2,578.8,200.2\r\n                                c10.8,0,21.7,0.5,32.5,1.3c140.7,11.6,262.7,97.5,321.4,225.3l89-15c-26.1-17.4-46.9-42.9-58.9-73.6\r\n                                c-13.4-34.3-14-70.7-2.8-104.1c-12.4,3.3-25.1,4.9-37.9,4.9c-47.2,0-93-22.5-122.7-60.2c-17.5-22.2-28.1-47.8-31.4-74.8\r\n                                c-27.1,23-61.5,35.9-98.7,35.9c-54.2,0-102.3-27-130.1-69.9c-26,59.5-86.6,91-142.6,91c-28.7,0-55.5-7.6-78.9-22\r\n                                c1,31.1-7.7,61.9-25.7,88.9c-29.3,43.7-77.3,69.8-128.6,69.8c-5,0-10-0.3-15-0.8c19.9,38,22.8,82.9,6.4,125.7\r\n                                c-16.6,43.5-49.4,75.4-90.4,90.1c34.7,25.8,56.7,65.3,60.3,111.5c3.6,46.2-12.1,88.7-42.5,119.5c47.1,9.2,87.4,40.4,109,86\r\n                                c17.7,37.4,19.9,77.5,7.4,114.3c12.3-3.2,24.9-4.9,37.6-4.9C282.7,939.4,325.8,960.9,354.7,994.7z\"\r\n                            />\r\n                          </g>\r\n                        </g>\r\n                      </g>\r\n                    </svg>\r\n                  </div>\r\n                  <div class=\"current_percentage\">\r\n                    <div class=\"inner_meter\">\r\n                      <div\r\n                        class=\"grid\"\r\n                        style=\"height:${100 -\r\n                        batteryPercentage -\r\n                        pvPercentage}%\"\r\n                      >\r\n                        <ha-icon icon=\"mdi:factory\" class=\"bar_icon\"></ha-icon>\r\n                      </div>\r\n                      <div class=\"battery\" style=\"height:${batteryPercentage}%\">\r\n                        <ha-icon\r\n                          icon=\"mdi:battery-high\"\r\n                          class=\"bar_icon\"\r\n                          style=\"transform: rotate(90deg);\"\r\n                        ></ha-icon>\r\n                      </div>\r\n                      <div class=\"photovoltaic\" style=\"height:${pvPercentage}%\">\r\n                        <ha-icon\r\n                          icon=\"mdi:solar-power-variant-outline\"\r\n                          class=\"bar_icon\"\r\n                        ></ha-icon>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"homePer\">\r\n                      <ha-icon icon=\"mdi:home\" class=\"bar_icon\"></ha-icon>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  style=\"width:70%; display: flex; flex-direction: column; align-self: flex-end;\"\r\n                >\r\n                  ${this.activeMenu === \"home\"\r\n                    ? html`\r\n                        <h3 style=\"font-size: 2vh; margin: 0 0 1vh;\">\r\n                          Previsioni Produzione Fotovoltaica\r\n                        </h3>\r\n                        <div class=\"production_range\">\r\n                          <label for=\"interval-slider\" style=\"font-size: 1.4vh\"\r\n                            >Intervallo: ${this._interval} minuti</label\r\n                          >\r\n                          <div class=\"range-container\">\r\n                            <input\r\n                              class=\"slider_in_horizontal_view\"\r\n                              id=\"interval-slider\"\r\n                              type=\"range\"\r\n                              min=\"1\"\r\n                              max=\"30\"\r\n                              .value=\"${this._interval}\"\r\n                              @input=\"${this._onSliderInput}\"\r\n                              @change=\"${this._atSliderChange}\"\r\n                            />\r\n                            <div class=\"offset_label\">\r\n                              <span class=\"range-thumb-label\"\r\n                                >${this._interval}</span\r\n                              >\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div id=\"chart\"></div>\r\n                      `\r\n                    : \"\"}\r\n                  ${this.activeMenu === \"chart\"\r\n                    ? html`\r\n\r\n                              <h3 style=\"margin-bottom: 70px;\">\r\n                                Andamento Settimanale (Ultimi 7 Giorni)\r\n                              </h3>\r\n                              <div id=\"week-chart\"></div>\r\n                              <!-- Nuovo contenitore per il secondo grafico -->\r\n                        </div>\r\n                      `\r\n                    : \"\"}\r\n                  ${this.activeMenu === \"tile\"\r\n                    ? html`\r\n                        <div\r\n                          style=\"display: flex; flex-direction: column; gap: 10px;\"\r\n                        >\r\n                          ${this.createTileCards().map((tile) => tile)}\r\n                        </div>\r\n                      `\r\n                    : \"\"}\r\n                  ${this.activeMenu === \"heatmap\"\r\n                    ? html` <div id=\"heatmap-chart\"></div> `\r\n                    : \"\"}\r\n                </div>\r\n              </div>\r\n\r\n              <!-- ************************** 7 day text *************************************** -->\r\n\r\n              <div\r\n                style=\"font-size: 2vh; margin-bottom:2vh;grid-area: daystext;\"\r\n              >\r\n                produzione ultimi 7 giorni\r\n              </div>\r\n\r\n              <!-- ************************** info *************************************** -->\r\n              <div style=\"grid-area: info;\">\r\n                <div class=\"home_info\" style=\"height: 14vh;\">\r\n                  <div class=\"info_column\">\r\n                    <ha-icon\r\n                      style=\"--mdc-icon-size: 5.5vh;\"\r\n                      icon=\"mdi:molecule-co2\"\r\n                      class=\"info_icon\"\r\n                    ></ha-icon>\r\n                    ${c02 > 0\r\n                      ? html` <div style=\"font-size:2vh;\">${c02} kg</div> `\r\n                      : html` <div style=\"width:25px;\">${loader()}</div>`}\r\n                    <div style=\"font-size:1.6vh;\">co2 risparmiata</div>\r\n                  </div>\r\n                  <div\r\n                    style=\"width: 2px; height: 80%; background-color: var(--divider-color);\"\r\n                  ></div>\r\n                  <div class=\"info_column\">\r\n                    <ha-icon\r\n                      style=\"--mdc-icon-size: 5.5vh;\"\r\n                      icon=\"mdi:piggy-bank\"\r\n                      class=\"info_icon\"\r\n                    ></ha-icon>\r\n                    ${this.totalWekkPvProduction > 0\r\n                      ? html`\r\n                          <div style=\"font-size:2vh;\">\r\n                            ${this.totalWekkPvProduction} Kwh\r\n                          </div>\r\n                        `\r\n                      : html` <div style=\"width:25px;\">${loader()}</div>`}\r\n\r\n                    <div style=\"font-size:1.6vh;\">risparmio</div>\r\n                  </div>\r\n                  <div\r\n                    style=\"width: 2px; height: 80%; background-color: var(--divider-color);\"\r\n                  ></div>\r\n                  <div class=\"info_column\">\r\n                    <ha-icon\r\n                      style=\"--mdc-icon-size: 5.5vh;\"\r\n                      icon=\"mdi:home\"\r\n                      class=\"info_icon\"\r\n                    ></ha-icon>\r\n                    ${totalWeekKwhPercentage > 0\r\n                      ? html`\r\n                          <div style=\"font-size:2vh;\">\r\n                            ${totalWeekKwhPercentage.toFixed(1)}%\r\n                          </div>\r\n                        `\r\n                      : html` <div style=\"width:25px;\">${loader()}</div>`}\r\n\r\n                    <div style=\"font-size:1.6vh;\">autosufficienza</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- ******************* bottom menu ****************** -->\r\n              <div class=\"bottom_bar_horizontal\">\r\n                <ha-icon\r\n                  icon=\"mdi:chart-areaspline\"\r\n                  class=\"menu_icon_horizontal ${this.activeMenu === \"home\"\r\n                    ? \"menu_icon_on\"\r\n                    : \"\"}\"\r\n                  @click=\"${() => {\r\n                    this.activeMenu = \"home\";\r\n                    this._initializeChart(this.seriesData);\r\n                  }}\"\r\n                ></ha-icon>\r\n                <ha-icon\r\n                  icon=\"mdi:chart-box-outline\"\r\n                  class=\"menu_icon_horizontal ${this.activeMenu === \"chart\"\r\n                    ? \"menu_icon_on\"\r\n                    : \"\"}\"\r\n                  @click=\"${() => {\r\n                    this.activeMenu = \"chart\";\r\n                    this.initializeApexChart(this.chartdata, \"week-chart\");\r\n                  }}\"\r\n                ></ha-icon>\r\n                <ha-icon\r\n                  icon=\"mdi:view-grid-compact\"\r\n                  class=\"menu_icon_horizontal ${this.activeMenu === \"heatmap\"\r\n                    ? \"menu_icon_on\"\r\n                    : \"\"}\"\r\n                  @click=\"${() => {\r\n                    this.activeMenu = \"heatmap\";\r\n                    this.get_recorder_for_heatmap();\r\n                    // this.initializeHeatmapChart();\r\n                  }}\"\r\n                ></ha-icon>\r\n                <ha-icon\r\n                  icon=\"mdi:format-list-numbered\"\r\n                  class=\"menu_icon_horizontal ${this.activeMenu === \"tile\"\r\n                    ? \"menu_icon_on\"\r\n                    : \"\"}\"\r\n                  @click=\"${() => {\r\n                    this.activeMenu = \"tile\";\r\n                  }}\"\r\n                ></ha-icon>\r\n              </div>\r\n            </ha-card>\r\n          `}\r\n    `;\r\n  }\r\n\r\n  //   // ******************************* fine heatmap **********************\r\n\r\n  private getNowTime() {\r\n    this.startTime = new Date();\r\n    this.endTime = new Date();\r\n    this.startTime.setDate(this.endTime.getDate() - 7);\r\n    this.startTime.setHours(23, 0, 0);\r\n    this.endTime.setHours(23, 59, 59, 999);\r\n  }\r\n\r\n  protected async firstUpdated() {\r\n    this.daysToEvaluate = this.config.days ? this.config.days : 7;\r\n    this.getNowTime();\r\n\r\n    // Ottieni latitudine e longitudine da Home Assistant\r\n    const latitude = this.hass.config.latitude;\r\n    const longitude = this.hass.config.longitude;\r\n    if (latitude === undefined || longitude === undefined) {\r\n      const now = new Date().getTime();\r\n      return { min: now - 6 * 60 * 60 * 1000, max: now + 6 * 60 * 60 * 1000 }; // Valori di default\r\n    }\r\n    // Calcola alba e tramonto usando SunCalc\r\n    const times = SunCalc.getTimes(new Date(), latitude, longitude);\r\n\r\n    this.dawnTime = times.sunrise.getTime(); // Alba\r\n    this.duskTime = times.sunset.getTime(); // Tramonto\r\n\r\n    this.formatDataForWeekApexChart();\r\n\r\n    this.panelMode = this.config.panel_mode ? this.config.panel_mode : false;\r\n    this._applyDynamicStyles();\r\n    const slider = this.shadowRoot?.querySelector(\r\n      'input[type=\"range\"]'\r\n    ) as HTMLInputElement;\r\n    if (slider) {\r\n      requestAnimationFrame(() => this._updateLabelPosition(slider));\r\n      this._updateLabelPosition(slider);\r\n      const resizeObserver = new ResizeObserver(() => {\r\n        this._updateLabelPosition(slider);\r\n        this.requestUpdate();\r\n      });\r\n      resizeObserver.observe(slider.parentElement!);\r\n    }\r\n\r\n    this._fetchTodayData();\r\n\r\n    if (this.config?.grid?.grid_meter && this.gridWeekTotal === null) {\r\n      this.askForEntity(\r\n        this.config.grid.grid_meter,\r\n        8,\r\n        this.config.grid?.unit_of_measurament\r\n      ).then((gridAsk) => {\r\n        this.gridWeek = gridAsk;\r\n        this.gridWeekTotal = gridAsk.totale;\r\n      });\r\n    }\r\n\r\n    if (this.config?.battery?.battery_meter) {\r\n      this.askForEntity(\r\n        this.config.battery.battery_meter,\r\n        8,\r\n        this.config.battery?.unit_of_measurament\r\n      ).then((batteryAsk) => {\r\n        this.batteryWeek = batteryAsk;\r\n        this.batteryWeekTotal = batteryAsk.totale;\r\n      });\r\n    }\r\n  }\r\n\r\n  //   protected updated(changedProps: Map<string, any>) {\r\n  //     super.updated(changedProps);\r\n\r\n  //     if (!this.hass) return;\r\n\r\n  //     // Lista delle entit da monitorare\r\n  //     let entitiesToWatch: string[] = [];\r\n\r\n  //     // Aggiungi `this.config.battery.power` se esiste\r\n  //     if (this.config?.battery?.power) {\r\n  //         entitiesToWatch.push(this.config.battery.power);\r\n  //     }\r\n\r\n  //     // Aggiungi `this.config.grid.grid_entity` se esiste\r\n  //     if (this.config?.grid?.grid_entity) {\r\n  //         entitiesToWatch.push(this.config.grid.grid_entity);\r\n  //     }\r\n\r\n  //     // Aggiungi tutte le entit contenute in `this.config.entities`\r\n  //     if (this.config?.entities) {\r\n  //         this.config.entities.forEach((entityConfig: any) => {\r\n  //             if (entityConfig.pv) {\r\n  //                 entitiesToWatch.push(entityConfig.pv);\r\n  //             }\r\n  //             if (entityConfig.sensor_meter) {\r\n  //                 entitiesToWatch.push(entityConfig.sensor_meter);\r\n  //             }\r\n  //             if (entityConfig.more_elements && Array.isArray(entityConfig.more_elements)) {\r\n  //                 entitiesToWatch.push(...entityConfig.more_elements);\r\n  //             }\r\n  //         });\r\n  //     }\r\n\r\n  //     // **1 Primo avvio: Se hass era undefined, esegui immediatamente handleEntityChange()**\r\n  //     if (changedProps.has(\"hass\") && !changedProps.get(\"hass\")) {\r\n  //         console.log(\"hass  ora disponibile, eseguo subito handleEntityChange()\");\r\n  //         this.initializeLines();\r\n  //         return; // Evita di eseguire il controllo due volte\r\n  //     }\r\n\r\n  //     // **2 Controlla se una delle entit ha cambiato stato**\r\n  //     let hasChanged = false;\r\n\r\n  //     entitiesToWatch.forEach(entity => {\r\n  //         if (changedProps.has(\"hass\") && this.hass.states[entity] !== changedProps.get(\"hass\")?.states[entity]) {\r\n  //             hasChanged = true;\r\n  //             console.log(`L'entit ${entity}  cambiata! Nuovo stato:`, this.hass.states[entity]?.state);\r\n  //         }\r\n  //     });\r\n\r\n  //     // **3 Se una delle entit  cambiata, esegui una funzione**\r\n  //     if (hasChanged) {\r\n  //         this.initializeLines();\r\n  //     }\r\n  // }\r\n\r\n  // initializeLines() {\r\n  //   const linesSvg = this.shadowRoot.querySelector(\r\n  //     \".lines-svg\"\r\n  //   ) as SVGSVGElement;\r\n  //   if (!linesSvg) {\r\n  //     return;\r\n  //   }\r\n\r\n  //   // Rimuovi tutte le linee esistenti\r\n  //   while (linesSvg.firstChild) {\r\n  //     linesSvg.removeChild(linesSvg.firstChild);\r\n  //   }\r\n\r\n  //   const photovoltaicTopElements = Array.from(\r\n  //     this.shadowRoot.querySelectorAll(\".element-svg.top\")\r\n  //   ) as SVGSVGElement[];\r\n  //   const photovoltaicBottomElements = Array.from(\r\n  //     this.shadowRoot.querySelectorAll(\".element-svg.bottom\")\r\n  //   ) as SVGSVGElement[];\r\n\r\n  //   const casaSvg = this.shadowRoot.querySelector(\r\n  //     \".element-svg#casa\"\r\n  //   ) as SVGSVGElement;\r\n  //   if (!casaSvg) {\r\n  //     return;\r\n  //   }\r\n\r\n  //   const linesSvgRect = linesSvg.getBoundingClientRect();\r\n  //   const casaRect = casaSvg.getBoundingClientRect();\r\n  //   const casaX = casaRect.x - linesSvgRect.x;\r\n  //   const casaY = casaRect.y - linesSvgRect.y;\r\n  //   const casaWidth = casaRect.width;\r\n  //   const casaHeight = casaRect.height;\r\n\r\n  //   const casaCenterX = casaX + casaWidth / 2;\r\n\r\n  //   const drawLines = (\r\n  //     photovoltaicElements: SVGSVGElement[],\r\n  //     isBottom: boolean\r\n  //   ) => {\r\n  //     if (photovoltaicElements.length === 0) return;\r\n\r\n  //     const spacing = 10;\r\n  //     const offsets = 10;\r\n\r\n  //     const elementsWithCenter = photovoltaicElements.map((element) => {\r\n  //       const rect = element.getBoundingClientRect();\r\n  //       return {\r\n  //         element,\r\n  //         centerX: rect.x - linesSvgRect.x + rect.width / 2,\r\n  //         rect,\r\n  //       };\r\n  //     });\r\n\r\n  //     const perfectlyCenteredElement = elementsWithCenter.find(\r\n  //       (item) => Math.abs(item.centerX - casaCenterX) < 1\r\n  //     );\r\n\r\n  //     const elementsLeft = elementsWithCenter\r\n  //       .filter((item) => item.centerX < casaCenterX)\r\n  //       .sort((a, b) => b.centerX - a.centerX);\r\n  //     const elementsRight = elementsWithCenter\r\n  //       .filter((item) => item.centerX > casaCenterX)\r\n  //       .sort((a, b) => a.centerX - b.centerX);\r\n\r\n  //     const casaLine3StartX =\r\n  //       casaCenterX - ((photovoltaicElements.length - 1) * spacing) / 2;\r\n  //     const casaPointsX = Array.from(\r\n  //       { length: photovoltaicElements.length },\r\n  //       (_, i) => casaLine3StartX + i * spacing\r\n  //     );\r\n\r\n  //     elementsWithCenter.forEach((item, index) => {\r\n  //       const { element, rect, centerX } = item;\r\n  //       const elementX = rect.x - linesSvgRect.x;\r\n  //       const elementY = rect.y - linesSvgRect.y;\r\n  //       const elementWidth = rect.width;\r\n  //       const elementHeight = rect.height;\r\n\r\n  //       const elementVerticalX = centerX;\r\n\r\n  //       const isLeft = elementsLeft.some((left) => left.element === element);\r\n  //       const isRight = elementsRight.some(\r\n  //         (right) => right.element === element\r\n  //       );\r\n\r\n  //       const relativeIndex = isLeft\r\n  //         ? elementsLeft.findIndex((left) => left.element === element)\r\n  //         : elementsRight.findIndex((right) => right.element === element);\r\n\r\n  //       let line1Length = 10;\r\n  //       if (relativeIndex > 0) {\r\n  //         line1Length += relativeIndex * offsets;\r\n  //       }\r\n\r\n  //       const line1StartY = isBottom ? elementY : elementY + elementHeight;\r\n  //       const line1EndY = isBottom\r\n  //         ? elementY - line1Length\r\n  //         : elementY + elementHeight + line1Length;\r\n\r\n  //       let lineColor = \"red\";\r\n  //       if (\r\n  //         (isLeft && item === elementsLeft[0]) ||\r\n  //         (isRight && item === elementsRight[0])\r\n  //       ) {\r\n  //         lineColor = \"green\";\r\n  //       }\r\n  //       if (\r\n  //         perfectlyCenteredElement &&\r\n  //         perfectlyCenteredElement.element === element\r\n  //       ) {\r\n  //         lineColor = \"blue\";\r\n  //       }\r\n\r\n  //       const casaPointX = casaPointsX[index];\r\n  //       const casaPointY = isBottom ? casaY + casaHeight : casaY;\r\n\r\n  //       // Creazione di un unico path che unisce line1, line2 e line3\r\n  //       let path;\r\n  //       let d;\r\n\r\n  //       // Definizione del filtro per l'effetto blur (spostata fuori dal ciclo)\r\n  //       const createGlowFilter = () => {\r\n  //         const existingDefs = linesSvg.querySelector(\"defs\");\r\n  //         if (existingDefs) return; // Evita di ridefinire il filtro se gi esiste\r\n\r\n  //         const defs = document.createElementNS(\r\n  //           \"http://www.w3.org/2000/svg\",\r\n  //           \"defs\"\r\n  //         );\r\n  //         const filter = document.createElementNS(\r\n  //           \"http://www.w3.org/2000/svg\",\r\n  //           \"filter\"\r\n  //         );\r\n  //         filter.setAttribute(\"id\", \"glow-blur\");\r\n  //         filter.setAttribute(\"x\", \"-50%\");\r\n  //         filter.setAttribute(\"y\", \"-50%\");\r\n  //         filter.setAttribute(\"width\", \"200%\");\r\n  //         filter.setAttribute(\"height\", \"200%\");\r\n\r\n  //         const feGaussianBlur = document.createElementNS(\r\n  //           \"http://www.w3.org/2000/svg\",\r\n  //           \"feGaussianBlur\"\r\n  //         );\r\n  //         feGaussianBlur.setAttribute(\"in\", \"SourceGraphic\");\r\n  //         feGaussianBlur.setAttribute(\"stdDeviation\", \"1.5\"); // Intensit del blur\r\n  //         filter.appendChild(feGaussianBlur);\r\n\r\n  //         defs.appendChild(filter);\r\n  //         linesSvg.appendChild(defs);\r\n  //       };\r\n\r\n  //       createGlowFilter();\r\n\r\n  // if (element.id === \"grid-power-direct\") {\r\n  //   const homeTile = this.shadowRoot.querySelector(\".element-svg#home_tile\") as SVGSVGElement;\r\n  //   if (!homeTile) {\r\n  //       console.error(\"Home Tile SVG element not found.\");\r\n  //       return;\r\n  //   }\r\n\r\n  //   const homeTileRect = homeTile.getBoundingClientRect();\r\n  //   const homeTileX = homeTileRect.x - linesSvgRect.x;\r\n  //   const homeTileY = homeTileRect.y - linesSvgRect.y;\r\n  //   const homeTileHeight = homeTileRect.height;\r\n\r\n  //   const gridPowerX = elementX;\r\n  //   const gridPowerCenterY = elementY + elementHeight / 2;\r\n\r\n  //   const homeTileXEnd = homeTileX + homeTileRect.width;\r\n  //   const homeTileCenterY = homeTileY + homeTileHeight / 2;\r\n\r\n  //   // Linea statica verso home\r\n  //   const staticLineHome = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\r\n  //   staticLineHome.setAttribute(\"x1\", gridPowerX.toString());\r\n  //   staticLineHome.setAttribute(\"y1\", gridPowerCenterY.toString());\r\n  //   staticLineHome.setAttribute(\"x2\", homeTileXEnd.toString());\r\n  //   staticLineHome.setAttribute(\"y2\", homeTileCenterY.toString());\r\n  //   staticLineHome.setAttribute(\"stroke\", \"#999\");\r\n  //   staticLineHome.setAttribute(\"stroke-width\", \"2\");\r\n  //   staticLineHome.setAttribute(\"stroke-dasharray\", \"7,5\");\r\n  //   staticLineHome.setAttribute(\"stroke-linecap\", \"round\");\r\n  //   linesSvg.appendChild(staticLineHome);\r\n\r\n  //         // Glow line se il valore  maggiore di 0\r\n  //         const stateValue = parseFloat(element.getAttribute(\"value\") || \"0\");\r\n  //         if (stateValue > 0) {\r\n  //             const glowLineHome = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\r\n  //             glowLineHome.setAttribute(\"x1\", gridPowerX.toString());\r\n  //             glowLineHome.setAttribute(\"y1\", gridPowerCenterY.toString());\r\n  //             glowLineHome.setAttribute(\"x2\", homeTileXEnd.toString());\r\n  //             glowLineHome.setAttribute(\"y2\", homeTileCenterY.toString());\r\n  //             glowLineHome.setAttribute(\"stroke\", \"rgba(0, 191, 255, 0.8)\");\r\n  //             glowLineHome.setAttribute(\"stroke-width\", \"4\");\r\n  //             glowLineHome.setAttribute(\"stroke-dasharray\", \"10,15\");\r\n  //             glowLineHome.setAttribute(\"stroke-linecap\", \"round\");\r\n  //             const animate = document.createElementNS(\"http://www.w3.org/2000/svg\", \"animate\");\r\n  //             animate.setAttribute(\"attributeName\", \"stroke-dashoffset\");\r\n  //             animate.setAttribute(\"from\", \"50\");\r\n  //             animate.setAttribute(\"to\", \"0\");\r\n  //             animate.setAttribute(\"dur\", \"2s\");\r\n  //             animate.setAttribute(\"repeatCount\", \"indefinite\");\r\n  //             glowLineHome.appendChild(animate);\r\n  //             linesSvg.appendChild(glowLineHome);\r\n  //         }\r\n\r\n  //         // Se  configurata la vendita di energia, collegare anche a casa\r\n  //         if (this.config.grid.energy_sell) {\r\n  //             const casaTile = this.shadowRoot.querySelector(\".element-svg#casa\") as SVGSVGElement;\r\n  //             if (casaTile) {\r\n  //                 const casaRect = casaTile.getBoundingClientRect();\r\n  //                 const casaX = casaRect.x - linesSvgRect.x;\r\n  //                 const casaY = casaRect.y - linesSvgRect.y;\r\n  //                 const casaHeight = casaRect.height;\r\n  //                 const casaCenterY = casaY + casaHeight / 2;\r\n\r\n  //                 const staticLineCasa = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\r\n  //                 staticLineCasa.setAttribute(\"x1\", gridPowerX.toString());\r\n  //                 staticLineCasa.setAttribute(\"y1\", gridPowerCenterY.toString());\r\n  //                 staticLineCasa.setAttribute(\"x2\", casaX.toString());\r\n  //                 staticLineCasa.setAttribute(\"y2\", casaCenterY.toString());\r\n  //                 staticLineCasa.setAttribute(\"stroke\", \"#999\");\r\n  //                 staticLineCasa.setAttribute(\"stroke-width\", \"2\");\r\n  //                 staticLineCasa.setAttribute(\"stroke-dasharray\", \"7,5\");\r\n  //                 staticLineCasa.setAttribute(\"stroke-linecap\", \"round\");\r\n  //                 linesSvg.appendChild(staticLineCasa);\r\n\r\n  //                 const energySellState = parseFloat(this.hass.states[this.config.grid.energy_sell]?.state || \"0\");\r\n  //                 if (energySellState > 0) {\r\n  //                     const glowLineCasa = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\r\n  //                     glowLineCasa.setAttribute(\"x1\", gridPowerX.toString());\r\n  //                     glowLineCasa.setAttribute(\"y1\", gridPowerCenterY.toString());\r\n  //                     glowLineCasa.setAttribute(\"x2\", casaX.toString());\r\n  //                     glowLineCasa.setAttribute(\"y2\", casaCenterY.toString());\r\n  //                     glowLineCasa.setAttribute(\"stroke\", \"rgba(0, 191, 255, 0.8)\");\r\n  //                     glowLineCasa.setAttribute(\"stroke-width\", \"4\");\r\n  //                     glowLineCasa.setAttribute(\"stroke-dasharray\", \"10,15\");\r\n  //                     glowLineCasa.setAttribute(\"stroke-linecap\", \"round\");\r\n  //                     const animateCasa = document.createElementNS(\"http://www.w3.org/2000/svg\", \"animate\");\r\n  //                     animateCasa.setAttribute(\"attributeName\", \"stroke-dashoffset\");\r\n  //                     animateCasa.setAttribute(\"from\", \"50\");\r\n  //                     animateCasa.setAttribute(\"to\", \"0\");\r\n  //                     animateCasa.setAttribute(\"dur\", \"2s\");\r\n  //                     animateCasa.setAttribute(\"repeatCount\", \"indefinite\");\r\n  //                     glowLineCasa.appendChild(animateCasa);\r\n  //                     linesSvg.appendChild(glowLineCasa);\r\n  //                 }\r\n  //             }\r\n  //         }\r\n  //     } else {\r\n  //         // Logica originale per disegnare line1, line2 e line3\r\n  //         const casaPointX = casaPointsX[index];\r\n  //         const casaPointY = isBottom ? casaY + casaHeight : casaY;\r\n\r\n  //         d =\r\n  //           `M ${elementVerticalX} ${line1StartY} ` + // Inizio di line1\r\n  //           `L ${elementVerticalX} ${line1EndY} ` + // Fine di line1\r\n  //           `L ${casaPointX} ${line1EndY} ` + // Line2 orizzontale\r\n  //           `L ${casaPointX} ${casaPointY}`; // Line3 verticale\r\n\r\n  //         // Linea statica tratteggiata\r\n  //         const staticLine = document.createElementNS(\r\n  //           \"http://www.w3.org/2000/svg\",\r\n  //           \"path\"\r\n  //         );\r\n  //         staticLine.setAttribute(\"d\", d);\r\n  //         staticLine.setAttribute(\"stroke\", \"#999\"); // Colore della linea statica\r\n  //         staticLine.setAttribute(\"stroke-width\", \"2\");\r\n  //         staticLine.setAttribute(\"fill\", \"none\");\r\n  //         staticLine.setAttribute(\"stroke-dasharray\", \"7,5\"); // Tratteggio\r\n  //         staticLine.setAttribute(\"stroke-linecap\", \"round\"); // Bordi arrotondati\r\n  //         linesSvg.appendChild(staticLine);\r\n  //       }\r\n\r\n  //       // Linea dinamica per l'effetto bagliore\r\n  //       const glowLine = document.createElementNS(\r\n  //         \"http://www.w3.org/2000/svg\",\r\n  //         \"path\"\r\n  //       );\r\n  //       glowLine.setAttribute(\"d\", d);\r\n\r\n  //       // Applica il filtro blur al glowLine\r\n  //       // glowLine.setAttribute('filter', 'url(#glow-blur)');\r\n\r\n  //       // Controlla l'id per configurare il colore\r\n  //       if (element.id === \"grid-power\") {\r\n  //         glowLine.setAttribute(\"stroke\", \"rgba(0, 191, 255, 0.6)\"); // Colore azzurro\r\n  //       } else {\r\n  //         glowLine.setAttribute(\"stroke\", \"rgba(0, 255, 0, 0.6)\"); // Colore verde per default\r\n  //       }\r\n\r\n  //       glowLine.setAttribute(\"stroke-width\", \"4\");\r\n  //       glowLine.setAttribute(\"fill\", \"none\");\r\n  //       glowLine.setAttribute(\"stroke-dasharray\", \"10,40\"); // Configura tratteggio per il bagliore\r\n  //       glowLine.setAttribute(\"stroke-linecap\", \"round\"); // Bordi arrotondati\r\n\r\n  //       // Recupera il valore dell'attributo \"value\"\r\n  //       const stateValue = parseFloat(element.getAttribute(\"value\") || \"0\");\r\n\r\n  //       // Logica per gli elementi\r\n  //       if (element.id === \"battery\") {\r\n  //         // const stateValue = parseFloat(this.config?.battery?.power || \"0\");\r\n  //         if (stateValue > 0) {\r\n  //           // Direzione inversa per battery con value > 0\r\n  //           const animate = document.createElementNS(\r\n  //             \"http://www.w3.org/2000/svg\",\r\n  //             \"animate\"\r\n  //           );\r\n  //           animate.setAttribute(\"attributeName\", \"stroke-dashoffset\");\r\n  //           animate.setAttribute(\"from\", \"50\"); // Direzione inversa\r\n  //           animate.setAttribute(\"to\", \"0\");\r\n  //           animate.setAttribute(\"dur\", \"1s\");\r\n  //           animate.setAttribute(\"repeatCount\", \"indefinite\");\r\n  //           glowLine.appendChild(animate);\r\n  //           linesSvg.appendChild(glowLine);\r\n  //         } else if (stateValue < 0) {\r\n  //           // Direzione normale per battery con value < 0\r\n  //           const animate = document.createElementNS(\r\n  //             \"http://www.w3.org/2000/svg\",\r\n  //             \"animate\"\r\n  //           );\r\n  //           animate.setAttribute(\"attributeName\", \"stroke-dashoffset\");\r\n  //           animate.setAttribute(\"from\", \"0\"); // Direzione normale\r\n  //           animate.setAttribute(\"to\", \"50\");\r\n  //           animate.setAttribute(\"dur\", \"1s\");\r\n  //           animate.setAttribute(\"repeatCount\", \"indefinite\");\r\n  //           glowLine.appendChild(animate);\r\n  //           linesSvg.appendChild(glowLine);\r\n  //         } else {\r\n  //           // Non aggiungere il glowLine se stateValue == 0\r\n  //           console.log(\r\n  //             `GlowLine nascosto per elemento con id \"battery\" e stateValue = 0`\r\n  //           );\r\n  //         }\r\n  //       } else if (element.id === \"pv-element\" || element.id === \"grid-power\") {\r\n  //         // Direzione inversa per pv-element e grid-power\r\n  //         const animate = document.createElementNS(\r\n  //           \"http://www.w3.org/2000/svg\",\r\n  //           \"animate\"\r\n  //         );\r\n  //         animate.setAttribute(\"attributeName\", \"stroke-dashoffset\");\r\n  //         animate.setAttribute(\"from\", \"50\"); // Direzione inversa\r\n  //         animate.setAttribute(\"to\", \"0\");\r\n  //         animate.setAttribute(\"dur\", \"1s\");\r\n  //         animate.setAttribute(\"repeatCount\", \"indefinite\");\r\n  //         glowLine.appendChild(animate);\r\n  //         linesSvg.appendChild(glowLine);\r\n  //       } else if (stateValue > 0) {\r\n  //         // Altri elementi con stateValue > 0\r\n  //         const animate = document.createElementNS(\r\n  //           \"http://www.w3.org/2000/svg\",\r\n  //           \"animate\"\r\n  //         );\r\n  //         animate.setAttribute(\"attributeName\", \"stroke-dashoffset\");\r\n  //         animate.setAttribute(\"from\", \"0\"); // Direzione normale\r\n  //         animate.setAttribute(\"to\", \"50\");\r\n  //         animate.setAttribute(\"dur\", \"1s\");\r\n  //         animate.setAttribute(\"repeatCount\", \"indefinite\");\r\n  //         glowLine.appendChild(animate);\r\n  //         linesSvg.appendChild(glowLine);\r\n  //       }\r\n  //     });\r\n  //   };\r\n\r\n  //   drawLines(photovoltaicTopElements, false);\r\n  //   drawLines(photovoltaicBottomElements, true);\r\n  // }\r\n\r\n  initializeLines() {\r\n    const linesSvg = this.shadowRoot.querySelector(\".lines-svg\");\r\n    if (!linesSvg) return;\r\n\r\n    // Svuota linesSvg velocemente\r\n    linesSvg.innerHTML = \"\";\r\n\r\n    const photovoltaicTopElements = Array.from(\r\n      this.shadowRoot.querySelectorAll(\".element-svg.top\")\r\n    );\r\n    const photovoltaicBottomElements = Array.from(\r\n      this.shadowRoot.querySelectorAll(\".element-svg.bottom\")\r\n    );\r\n    const casaSvg = this.shadowRoot.querySelector(\".element-svg#casa\");\r\n    if (!casaSvg) return;\r\n\r\n    const linesSvgRect = linesSvg.getBoundingClientRect();\r\n    const casaRect = casaSvg.getBoundingClientRect();\r\n    const casaX = casaRect.x - linesSvgRect.x;\r\n    const casaY = casaRect.y - linesSvgRect.y;\r\n    const casaWidth = casaRect.width;\r\n    const casaHeight = casaRect.height;\r\n    const casaCenterX = casaX + casaWidth / 2;\r\n\r\n    this.createGlowFilter(linesSvg);\r\n\r\n    const drawLines = (photovoltaicElements, isBottom) => {\r\n      if (photovoltaicElements.length === 0) return;\r\n\r\n      const spacing = 10;\r\n      const offsets = 10;\r\n\r\n      const elementsWithCenter = photovoltaicElements.map((element) => {\r\n        const rect = element.getBoundingClientRect();\r\n        return {\r\n          element,\r\n          centerX: rect.x - linesSvgRect.x + rect.width / 2,\r\n          rect,\r\n        };\r\n      });\r\n\r\n      const elementsLeft = elementsWithCenter\r\n        .filter((item) => item.centerX < casaCenterX)\r\n        .sort((a, b) => b.centerX - a.centerX);\r\n      const elementsRight = elementsWithCenter\r\n        .filter((item) => item.centerX > casaCenterX)\r\n        .sort((a, b) => a.centerX - b.centerX);\r\n\r\n      const casaLineStartX =\r\n        casaCenterX - ((photovoltaicElements.length - 1) * spacing) / 2;\r\n      const casaPointsX = Array.from(\r\n        { length: photovoltaicElements.length },\r\n        (_, i) => casaLineStartX + i * spacing\r\n      );\r\n\r\n      const fragment = document.createDocumentFragment();\r\n\r\n      elementsWithCenter.forEach((item, index) => {\r\n        const { element, rect, centerX } = item;\r\n        const elementVerticalX = centerX;\r\n        const isLeft = elementsLeft.includes(item);\r\n        const isRight = elementsRight.includes(item);\r\n        const elementX = rect.x - linesSvgRect.x;\r\n        const elementY = rect.y - linesSvgRect.y;\r\n        const elementHeight = rect.height;\r\n        const relativeIndex = isLeft\r\n          ? elementsLeft.findIndex((left) => left === item)\r\n          : elementsRight.findIndex((right) => right === item);\r\n\r\n        let line1Length = 10;\r\n        if (relativeIndex > 0) {\r\n          line1Length += relativeIndex * offsets;\r\n        }\r\n\r\n        const line1StartY = isBottom\r\n          ? rect.y - linesSvgRect.y\r\n          : rect.y + rect.height - linesSvgRect.y;\r\n        const line1EndY = isBottom\r\n          ? line1StartY - line1Length\r\n          : line1StartY + line1Length;\r\n        const casaPointX = casaPointsX[index];\r\n        const casaPointY = isBottom ? casaY + casaHeight : casaY;\r\n        const stateValue = parseFloat(element.getAttribute(\"value\") || \"0\");\r\n\r\n        const d = `M ${elementVerticalX} ${line1StartY} L ${elementVerticalX} ${line1EndY} L ${casaPointX} ${line1EndY} L ${casaPointX} ${casaPointY}`;\r\n\r\n        if (\r\n          this.config?.grid?.energy_power\r\n        ) {\r\n          const staticLine = document.createElementNS(\r\n            \"http://www.w3.org/2000/svg\",\r\n            \"path\"\r\n          );\r\n          staticLine.setAttribute(\"d\", d);\r\n          staticLine.setAttribute(\"stroke\", \"#999\");\r\n          staticLine.setAttribute(\"stroke-width\", \"2\");\r\n          staticLine.setAttribute(\"fill\", \"none\");\r\n          staticLine.setAttribute(\"stroke-dasharray\", \"7,5\");\r\n          staticLine.setAttribute(\"stroke-linecap\", \"round\");\r\n          fragment.appendChild(staticLine);\r\n        }\r\n\r\n        if (\r\n          element.id === \"grid-power-direct\" &&\r\n          this.config?.grid?.energy_power\r\n        ) {\r\n          const gridEnergyValue = parseFloat(\r\n            this.hass.states[this.config.grid.energy_power]?.state || \"0\"\r\n          );\r\n          if (gridEnergyValue > 0) {\r\n            const glowLine = document.createElementNS(\r\n              \"http://www.w3.org/2000/svg\",\r\n              \"path\"\r\n            );\r\n            glowLine.setAttribute(\"d\", d);\r\n            glowLine.setAttribute(\"stroke\", \"rgba(0, 255, 0, 0.6)\");\r\n            glowLine.setAttribute(\"stroke-width\", \"4\");\r\n            glowLine.setAttribute(\"fill\", \"none\");\r\n            glowLine.setAttribute(\"stroke-dasharray\", \"10,40\");\r\n            glowLine.setAttribute(\"stroke-linecap\", \"round\");\r\n\r\n            const animate = document.createElementNS(\r\n              \"http://www.w3.org/2000/svg\",\r\n              \"animate\"\r\n            );\r\n            animate.setAttribute(\"attributeName\", \"stroke-dashoffset\");\r\n            animate.setAttribute(\"from\", \"0\");\r\n            animate.setAttribute(\"to\", \"50\");\r\n            animate.setAttribute(\"dur\", \"2s\");\r\n            animate.setAttribute(\"repeatCount\", \"indefinite\");\r\n            glowLine.appendChild(animate);\r\n            fragment.appendChild(glowLine);\r\n          }\r\n          if (element.id === \"grid-power-direct\") {\r\n            const homeTile = this.shadowRoot.querySelector(\r\n              \".element-svg#home_tile\"\r\n            ) as SVGSVGElement;\r\n            if (!homeTile) {\r\n              console.error(\"Home Tile SVG element not found.\");\r\n              return;\r\n            }\r\n\r\n            const homeTileRect = homeTile.getBoundingClientRect();\r\n            const homeTileX = homeTileRect.x - linesSvgRect.x;\r\n            const homeTileY = homeTileRect.y - linesSvgRect.y;\r\n            const homeTileHeight = homeTileRect.height;\r\n\r\n            const gridPowerX = elementX;\r\n            const gridPowerCenterY = elementY + elementHeight / 2;\r\n\r\n            const homeTileXEnd = homeTileX + homeTileRect.width;\r\n            const homeTileCenterY = homeTileY + homeTileHeight / 2;\r\n\r\n            // Linea statica verso home\r\n            const staticLineHome = document.createElementNS(\r\n              \"http://www.w3.org/2000/svg\",\r\n              \"line\"\r\n            );\r\n            staticLineHome.setAttribute(\"x1\", gridPowerX.toString());\r\n            staticLineHome.setAttribute(\"y1\", gridPowerCenterY.toString());\r\n            staticLineHome.setAttribute(\"x2\", homeTileXEnd.toString());\r\n            staticLineHome.setAttribute(\"y2\", homeTileCenterY.toString());\r\n            staticLineHome.setAttribute(\"stroke\", \"#999\");\r\n            staticLineHome.setAttribute(\"stroke-width\", \"2\");\r\n            staticLineHome.setAttribute(\"stroke-dasharray\", \"7,5\");\r\n            staticLineHome.setAttribute(\"stroke-linecap\", \"round\");\r\n            linesSvg.appendChild(staticLineHome);\r\n\r\n            if (stateValue > 0) {\r\n              // Creazione della glowLine\r\n              const glowLine = document.createElementNS(\r\n                \"http://www.w3.org/2000/svg\",\r\n                \"line\"\r\n              );\r\n              glowLine.setAttribute(\"x1\", gridPowerX.toString()); // Punto iniziale X\r\n              glowLine.setAttribute(\"y1\", gridPowerCenterY.toString()); // Punto iniziale Y\r\n              glowLine.setAttribute(\"x2\", homeTileXEnd.toString()); // Punto finale X\r\n              glowLine.setAttribute(\"y2\", homeTileCenterY.toString()); // Punto finale Y\r\n\r\n              glowLine.setAttribute(\"stroke\", \"rgba(0, 191, 255, 0.8)\"); // Colore azzurro\r\n              glowLine.setAttribute(\"stroke-width\", \"4\"); // Spessore\r\n              glowLine.setAttribute(\"stroke-dasharray\", \"10,15\"); // Tratteggio per il bagliore\r\n              glowLine.setAttribute(\"stroke-linecap\", \"round\"); // Bordi arrotondati\r\n\r\n              // Aggiungi l'animazione alla glowLine\r\n              const animate = document.createElementNS(\r\n                \"http://www.w3.org/2000/svg\",\r\n                \"animate\"\r\n              );\r\n              animate.setAttribute(\"attributeName\", \"stroke-dashoffset\");\r\n              animate.setAttribute(\"from\", \"50\"); // Direzione inversa\r\n              animate.setAttribute(\"to\", \"0\");\r\n              animate.setAttribute(\"dur\", \"2s\");\r\n              animate.setAttribute(\"repeatCount\", \"indefinite\");\r\n              glowLine.appendChild(animate);\r\n\r\n              linesSvg.appendChild(glowLine);\r\n            }\r\n          }\r\n        }\r\n\r\n        if (element.id === \"pv-element\" && stateValue > 0) {\r\n          const glowLine = document.createElementNS(\r\n            \"http://www.w3.org/2000/svg\",\r\n            \"path\"\r\n          );\r\n          glowLine.setAttribute(\"d\", d);\r\n          glowLine.setAttribute(\"stroke\", \"rgba(255, 255, 0, 0.6)\");\r\n          glowLine.setAttribute(\"stroke-width\", \"4\");\r\n          glowLine.setAttribute(\"fill\", \"none\");\r\n          glowLine.setAttribute(\"stroke-dasharray\", \"10,40\");\r\n          glowLine.setAttribute(\"stroke-linecap\", \"round\");\r\n\r\n          const animate = document.createElementNS(\r\n            \"http://www.w3.org/2000/svg\",\r\n            \"animate\"\r\n          );\r\n          animate.setAttribute(\"attributeName\", \"stroke-dashoffset\");\r\n          animate.setAttribute(\"from\", \"50\");\r\n          animate.setAttribute(\"to\", \"0\");\r\n          animate.setAttribute(\"dur\", \"2s\");\r\n          animate.setAttribute(\"repeatCount\", \"indefinite\");\r\n          glowLine.appendChild(animate);\r\n          fragment.appendChild(glowLine);\r\n        }\r\n        if (element.id === \"home_tile\" && stateValue > 0) {\r\n          const glowLine = document.createElementNS(\r\n            \"http://www.w3.org/2000/svg\",\r\n            \"path\"\r\n          );\r\n          glowLine.setAttribute(\"d\", d);\r\n          glowLine.setAttribute(\"stroke\", \"rgba(255, 255, 0, 0.6)\");\r\n          glowLine.setAttribute(\"stroke-width\", \"4\");\r\n          glowLine.setAttribute(\"fill\", \"none\");\r\n          glowLine.setAttribute(\"stroke-dasharray\", \"10,40\");\r\n          glowLine.setAttribute(\"stroke-linecap\", \"round\");\r\n\r\n          const animate = document.createElementNS(\r\n            \"http://www.w3.org/2000/svg\",\r\n            \"animate\"\r\n          );\r\n          animate.setAttribute(\"attributeName\", \"stroke-dashoffset\");\r\n          animate.setAttribute(\"from\", \"0\");\r\n          animate.setAttribute(\"to\", \"50\");\r\n          animate.setAttribute(\"dur\", \"2s\");\r\n          animate.setAttribute(\"repeatCount\", \"indefinite\");\r\n          glowLine.appendChild(animate);\r\n          fragment.appendChild(glowLine);\r\n        }\r\n        if (element.id === \"battery\" && stateValue != 0) {\r\n          const glowLine = document.createElementNS(\r\n            \"http://www.w3.org/2000/svg\",\r\n            \"path\"\r\n          );\r\n          glowLine.setAttribute(\"d\", d);\r\n          glowLine.setAttribute(\"stroke\", \"rgba(255, 255, 0, 0.6)\");\r\n          glowLine.setAttribute(\"stroke-width\", \"4\");\r\n          glowLine.setAttribute(\"fill\", \"none\");\r\n          glowLine.setAttribute(\"stroke-dasharray\", \"10,40\");\r\n          glowLine.setAttribute(\"stroke-linecap\", \"round\");\r\n\r\n          if (stateValue < 0 || this.config?.battery?.energy_to_inverter > 0) {\r\n            const animate = document.createElementNS(\r\n              \"http://www.w3.org/2000/svg\",\r\n              \"animate\"\r\n            );\r\n            animate.setAttribute(\"attributeName\", \"stroke-dashoffset\");\r\n            animate.setAttribute(\"from\", \"0\");\r\n            animate.setAttribute(\"to\", \"50\");\r\n            animate.setAttribute(\"dur\", \"2s\");\r\n            animate.setAttribute(\"repeatCount\", \"indefinite\");\r\n            glowLine.appendChild(animate);\r\n            fragment.appendChild(glowLine);\r\n          } else if (\r\n            stateValue > 0 ||\r\n            this.config?.battery?.energy_to_inverter > 0\r\n          ) {\r\n            const animate = document.createElementNS(\r\n              \"http://www.w3.org/2000/svg\",\r\n              \"animate\"\r\n            );\r\n            animate.setAttribute(\"attributeName\", \"stroke-dashoffset\");\r\n            animate.setAttribute(\"from\", \"50\");\r\n            animate.setAttribute(\"to\", \"0\");\r\n            animate.setAttribute(\"dur\", \"2s\");\r\n            animate.setAttribute(\"repeatCount\", \"indefinite\");\r\n            glowLine.appendChild(animate);\r\n            fragment.appendChild(glowLine);\r\n          }\r\n        }\r\n      });\r\n\r\n      linesSvg.appendChild(fragment);\r\n    };\r\n\r\n    drawLines(photovoltaicTopElements, false);\r\n    drawLines(photovoltaicBottomElements, true);\r\n  }\r\n\r\n  createGlowFilter(linesSvg) {\r\n    if (linesSvg.querySelector(\"#glow-blur\")) return;\r\n    const defs = document.createElementNS(\"http://www.w3.org/2000/svg\", \"defs\");\r\n    const filter = document.createElementNS(\r\n      \"http://www.w3.org/2000/svg\",\r\n      \"filter\"\r\n    );\r\n    filter.setAttribute(\"id\", \"glow-blur\");\r\n    const feGaussianBlur = document.createElementNS(\r\n      \"http://www.w3.org/2000/svg\",\r\n      \"feGaussianBlur\"\r\n    );\r\n    feGaussianBlur.setAttribute(\"in\", \"SourceGraphic\");\r\n    feGaussianBlur.setAttribute(\"stdDeviation\", \"1.5\");\r\n    filter.appendChild(feGaussianBlur);\r\n    defs.appendChild(filter);\r\n    linesSvg.appendChild(defs);\r\n  }\r\n\r\n  getLineColor(element) {\r\n    return element.id === \"grid-power\"\r\n      ? \"rgba(0, 191, 255, 0.6)\"\r\n      : \"rgba(0, 255, 0, 0.6)\";\r\n  }\r\n\r\n  createGlowAnimation(glowLine, from, to) {\r\n    const animate = document.createElementNS(\r\n      \"http://www.w3.org/2000/svg\",\r\n      \"animate\"\r\n    );\r\n    animate.setAttribute(\"attributeName\", \"stroke-dashoffset\");\r\n    animate.setAttribute(\"from\", from);\r\n    animate.setAttribute(\"to\", to);\r\n    animate.setAttribute(\"dur\", \"1s\");\r\n    animate.setAttribute(\"repeatCount\", \"indefinite\");\r\n    glowLine.appendChild(animate);\r\n  }\r\n\r\n  private _applyDynamicStyles() {\r\n    const verticalCard = this.isVericarlCard();\r\n    const panelMode = this.isPanelMode();\r\n    const cardHeight = Math.round(this.getBoundingClientRect().height);\r\n    this.sliderHeight = !verticalCard && panelMode ? cardHeight / 31.8 : 30;\r\n    const currentTheme = this.hass.themes?.darkMode; // Verifica se il tema  scuro\r\n    const shadowDark_dark = \"rgba(0, 0, 0, 0.3)\";\r\n    const shadowLight_dark = \"rgba(255, 255, 255, 0.1)\";\r\n    const shadowDark_light = \"rgba(0, 0, 0, 0.15)\";\r\n    const shadowLight_light = \"rgba(125, 125, 125, 0.1)\";\r\n\r\n    // const heightValue = !verticalCard && panelMode ? '36px' : '30px';\r\n    // console.log(\"heightValue\", this.sliderHeight);\r\n\r\n    const darkThemeStyles = `\r\n  input[type='range'] {\r\n    background-color: transparent;\r\n    box-shadow: \r\n      6px 6px 6px ${shadowDark_dark} inset, \r\n      -4px -4px 6px ${shadowLight_dark} inset;\r\n    display: block;\r\n    // padding: 0 1.6px;\r\n    width: 100%;\r\n    height: ${this.sliderHeight}px;\r\n    -webkit-appearance: none;\r\n    -moz-appearance: none;\r\n    appearance: none;\r\n    border-radius: 500px;\r\n  }\r\n`;\r\n\r\n    const lightThemeStyles = `\r\n  input[type='range'] {\r\n    background-color: transparent;\r\n    box-shadow: \r\n      6px 6px 6px ${shadowLight_light} inset, \r\n      -4px -4px 6px ${shadowDark_light} inset;\r\n    display: block;\r\n    // padding: 0 1.6px;\r\n    width: 100%;\r\n    height: ${this.sliderHeight}px;\r\n    -webkit-appearance: none;\r\n    -moz-appearance: none;\r\n    appearance: none;\r\n    border-radius: 500px;\r\n  }\r\n\r\n    `;\r\n\r\n    const sliderHeightVertical = `\r\n      input[type=\"range\"]::-webkit-slider-thumb {\r\n      width: 24px;\r\n      height: 24px;\r\n      } \r\n    `;\r\n    const sliderHeightHorizontal = `\r\n      input[type=\"range\"]::-webkit-slider-thumb {\r\n      width: ${this.sliderHeight}px;\r\n      height: ${this.sliderHeight}px;\r\n      } \r\n    `;\r\n\r\n    const styleSheet = document.createElement(\"style\");\r\n    styleSheet.innerHTML = currentTheme ? darkThemeStyles : lightThemeStyles;\r\n    styleSheet.innerHTML +=\r\n      !verticalCard && panelMode\r\n        ? sliderHeightHorizontal\r\n        : sliderHeightVertical;\r\n    this.shadowRoot?.appendChild(styleSheet);\r\n  }\r\n\r\n  private _updateLabelPosition(slider: HTMLInputElement) {\r\n    let offsetValue;\r\n    if (this.panelMode) {\r\n      offsetValue = 0.2;\r\n    } else {\r\n      offsetValue = 1;\r\n    }\r\n    const label = this.shadowRoot?.querySelector(\r\n      \".range-thumb-label\"\r\n    ) as HTMLElement;\r\n    if (!label || !slider) return;\r\n    const altezza = label.clientHeight;\r\n    const sliderWidth = slider.offsetWidth;\r\n\r\n    const thumbWidth = this.sliderHeight; // Larghezza del thumb in px (aggiorna se diversa)\r\n    const min = parseInt(slider.min, 10);\r\n    const max = parseInt(slider.max, 10);\r\n    const percentage = ((+slider.value - min) / (max - min)) * 100;\r\n\r\n    // Calcola la posizione del label in px\r\n    const labelPosition =\r\n      (percentage / 100) * (sliderWidth - thumbWidth) + thumbWidth / 2;\r\n\r\n    // Aggiorna lo stile del label per posizionarlo correttamente sopra il thumb\r\n    label.style.left = `${labelPosition}px`;\r\n    // console.log(\"position\", labelPosition);\r\n  }\r\n\r\n  private _addTicks() {\r\n    // Seleziona lo slider\r\n    const slider = this.shadowRoot?.querySelector(\r\n      'input[type=\"range\"]'\r\n    ) as HTMLInputElement;\r\n    if (!slider) {\r\n      // console.error('Slider element not found');\r\n      return;\r\n    }\r\n\r\n    // Rimuove eventuali tick esistenti\r\n    let tickContainer = this.shadowRoot?.querySelector(\r\n      \".range__ticks\"\r\n    ) as HTMLElement;\r\n    if (tickContainer) {\r\n      tickContainer.remove();\r\n    }\r\n\r\n    // Crea un nuovo contenitore per i tick\r\n    tickContainer = document.createElement(\"div\");\r\n\r\n    tickContainer.className = \"range__ticks\";\r\n    slider.parentElement?.appendChild(tickContainer);\r\n\r\n    // Configura intervalli e tick\r\n    const min = parseInt(slider.min, 10) || 1; // Inizia da 1\r\n    const max = parseInt(slider.max, 10) || 30; // Termina a 30\r\n    const step = 5; // Intervallo dei tick (multipli di 5)\r\n\r\n    // Aggiunge il tick iniziale (1)\r\n    const tickStart = document.createElement(\"span\");\r\n    tickStart.className = \"range__tick\";\r\n    tickStart.textContent = min.toString();\r\n    // tickStart.style.position = \"absolute\";\r\n    tickStart.style.left = \"0%\"; // Il primo tick  sempre all'inizio (0%)\r\n    tickContainer.appendChild(tickStart);\r\n\r\n    // Aggiunge i tick successivi (multipli di 5 fino a 30)\r\n    for (let i = step; i <= max; i += step) {\r\n      const tick = document.createElement(\"span\");\r\n      tick.className = \"range__tick\";\r\n      tick.textContent = i.toString();\r\n      tick.style.position = \"absolute\";\r\n      tick.style.left = `${((i - min) / (max - min)) * 100}%`; // Calcola la posizione relativa in %\r\n      tickContainer.appendChild(tick);\r\n    }\r\n  }\r\n\r\n  private _onSliderInput(event: Event) {\r\n    const slider = event.target as HTMLInputElement;\r\n    this._interval = parseInt(slider.value, 10);\r\n    // Aggiorna la posizione della label\r\n    this._updateLabelPosition(slider);\r\n\r\n    if (this._debounceFetchHistory) {\r\n      clearTimeout(this._debounceFetchHistory);\r\n    }\r\n  }\r\n\r\n  private _atSliderChange(event: Event) {\r\n    const slider = event.target as HTMLInputElement;\r\n    this._interval = parseInt(slider.value, 10);\r\n    // Salva il valore dello slider nel localStorage\r\n    if (this.config?.id) {\r\n      const sliderKey = `slider_value_${this.config.id}`;\r\n      localStorage.setItem(sliderKey, slider.value);\r\n    } else {\r\n      console.warn(\"Unable to save slider value: no config.id found.\");\r\n    }\r\n\r\n    // Debounce per ridurre chiamate e aggiornare i dati\r\n    this._debounceFetchHistory = window.setTimeout(() => {\r\n      this._fetchTodayData();\r\n    }, 300);\r\n  }\r\n\r\n  private async _fetchTodayData() {\r\n    const entities = this.config.entities.map(\r\n      (item: { pv: string; max_power: number; unit_of_mesurament: string }) =>\r\n        item\r\n    );\r\n\r\n    const startTime = new Date();\r\n    startTime.setHours(0, 0, 0, 0); // Inizio del giorno corrente\r\n    const endTime = new Date();\r\n    endTime.setHours(23, 59, 59, 999); // Fine del giorno corrente\r\n\r\n    const seriesData: { name: string; data: { x: number; y: number }[] }[] = [];\r\n\r\n    try {\r\n      for (const entity of entities) {\r\n        const { pv: entityId, unit_of_mesurament } = entity;\r\n\r\n        const response = await this.hass.callApi(\r\n          \"GET\",\r\n          `history/period/${startTime.toISOString()}?filter_entity_id=${entityId}&end_time=${endTime.toISOString()}`\r\n        );\r\n\r\n        const historyData = response[0] || [];\r\n        const chartData = historyData\r\n          .map((entry: any) => {\r\n            const rawValue = parseFloat(entry.state);\r\n            const value =\r\n              unit_of_mesurament.toLowerCase() === \"watt\"\r\n                ? rawValue / 1000\r\n                : rawValue;\r\n            return {\r\n              x: new Date(entry.last_updated).getTime(),\r\n              y: value,\r\n            };\r\n          })\r\n          .filter(\r\n            (point: { x: number; y: number }) =>\r\n              point.y !== null && !isNaN(point.y)\r\n          );\r\n\r\n        const friendlyName =\r\n          this.hass.states[entityId]?.attributes?.friendly_name;\r\n        seriesData.push({\r\n          name: friendlyName || entityId,\r\n          data: chartData,\r\n        });\r\n      }\r\n\r\n      this.seriesData = seriesData;\r\n      this._initializeChart(this.seriesData); // Inizializza il primo grafico con i dati di oggi\r\n    } catch (error) {\r\n      console.error(\"Errore durante il recupero dei dati di oggi:\", error);\r\n    }\r\n  }\r\n\r\n  private calculateGraphSpan(): { min: number; max: number } {\r\n    // Sottrai un'ora all'alba e aggiungi un'ora al tramonto\r\n    const min = new Date(this.dawnTime - 60 * 60 * 1000).setMinutes(0, 0, 0); // Ora intera prima dell'alba\r\n    const max = new Date(this.duskTime + 60 * 60 * 1000).setMinutes(0, 0, 0); // Ora intera dopo il tramonto\r\n\r\n    return { min, max };\r\n  }\r\n\r\n  private async _initializeChart(\r\n    series: { name: string; data: { x: number; y: number }[] }[]\r\n  ) {\r\n    const ApexCharts = await this._getApexCharts();\r\n    const graphSpan = this.calculateGraphSpan();\r\n    const intervalMs = this._interval * 60 * 1000;\r\n    const allTimestamps = series.flatMap((serie) =>\r\n      serie.data.map((point) => point.x)\r\n    );\r\n    const minTimestamp = Math.min(...allTimestamps);\r\n    const maxTimestamp = Math.max(...allTimestamps);\r\n\r\n    const groupedSeries = series.map((serie) => ({\r\n      name: serie.name,\r\n      data: this._groupByNearest(\r\n        serie.data,\r\n        intervalMs,\r\n        minTimestamp,\r\n        maxTimestamp\r\n      ).filter(\r\n        (point) => point.y !== null && point.y !== undefined && !isNaN(point.y)\r\n      ),\r\n    }));\r\n\r\n    const slider = this.shadowRoot?.querySelector(\r\n      'input[type=\"range\"]'\r\n    ) as HTMLInputElement;\r\n    if (slider) {\r\n      this._updateLabelPosition(slider); // Aggiorna la posizione dell'etichetta\r\n    }\r\n\r\n    if (this.config.grafic_forcast?.forcast) {\r\n      const forecastEntity =\r\n        this.hass.states[this.config.grafic_forcast.forcast];\r\n\r\n      if (forecastEntity && forecastEntity.attributes.detailedForecast) {\r\n        const detailedForecast = forecastEntity.attributes.detailedForecast;\r\n\r\n        groupedSeries.push(\r\n          {\r\n            name: \"Stima media\",\r\n            data: detailedForecast\r\n              .filter((item: any) => {\r\n                const estimate = item.pv_estimate;\r\n                return (\r\n                  typeof estimate === \"number\" &&\r\n                  !isNaN(estimate) &&\r\n                  estimate !== 0\r\n                );\r\n              })\r\n              .map((item: any) => ({\r\n                x: new Date(item.period_start).getTime(),\r\n                y: item.pv_estimate,\r\n              })),\r\n            type: \"line\",\r\n            color: \"rgba(0, 0, 255, 1)\",\r\n          } as any,\r\n          {\r\n            name: \"min - max\",\r\n            data: detailedForecast\r\n              .filter((item: any) => {\r\n                const min = item.pv_estimate10;\r\n                const max = item.pv_estimate90;\r\n                return (\r\n                  typeof min === \"number\" &&\r\n                  typeof max === \"number\" &&\r\n                  !isNaN(min) &&\r\n                  !isNaN(max) &&\r\n                  (min !== 0 || max !== 0)\r\n                );\r\n              })\r\n              .map((item: any) => ({\r\n                x: new Date(item.period_start).getTime(),\r\n                y: [item.pv_estimate10, item.pv_estimate90],\r\n              })),\r\n            type: \"rangeArea\",\r\n            color: \"rgba(0, 255, 0, 0.6)\",\r\n          } as any\r\n        );\r\n      }\r\n    }\r\n\r\n    const summedData = groupedSeries\r\n      .filter(\r\n        (serie) =>\r\n          ![\"Stima media\", \"Intervallo (min - max)\"].includes(serie.name)\r\n      ) // Esclude le serie previsionali\r\n      .reduce(\r\n        (acc, serie) => {\r\n          serie.data.forEach((point, index) => {\r\n            if (!acc[index]) {\r\n              acc[index] = { x: point.x, y: 0 };\r\n            }\r\n            acc[index].y += point.y ?? 0;\r\n          });\r\n          return acc;\r\n        },\r\n        [] as { x: number; y: number }[]\r\n      );\r\n\r\n    groupedSeries.push({\r\n      name: \"Somma Totale\",\r\n      data: summedData,\r\n      type: \"area\",\r\n      color: \"red\",\r\n    } as any);\r\n\r\n    const chartContainer = this.shadowRoot?.getElementById(\"chart\");\r\n    if (chartContainer) {\r\n      if (this.chart) {\r\n        this.chart.destroy();\r\n      }\r\n\r\n      const options = {\r\n        fill: {\r\n          type: \"gradient\",\r\n          gradient: {\r\n            // shade: 'light',\r\n            type: \"vertical\",\r\n            // shadeIntensity: 0.5,\r\n            // gradientToColors: [ '#FDD835'], // optional, if not defined - uses the shades of same color in series\r\n            inverseColors: false,\r\n            opacityFrom: 0.2,\r\n            opacityTo: 0.6,\r\n            stops: [0, 100],\r\n            // colorStops: []\r\n          },\r\n        },\r\n        chart: {\r\n          type: \"rangeArea\",\r\n          height: this.chartHeight,\r\n          zoom: { enabled: true, type: \"x\" },\r\n          toolbar: { show: true },\r\n        },\r\n        series: groupedSeries,\r\n        dataLabels: {\r\n          enabled: false,\r\n        },\r\n        xaxis: {\r\n          type: \"datetime\",\r\n          min: graphSpan.min,\r\n          max: graphSpan.max,\r\n          tooltip: {\r\n            enabled: false, // Disattiva il tooltip separato per l'asse X\r\n          },\r\n          labels: {\r\n            formatter: (value: number) => {\r\n              const date = new Date(value);\r\n              return `${date.getHours().toString().padStart(2, \"0\")}:00`;\r\n            },\r\n          },\r\n        },\r\n        yaxis: {\r\n          labels: {\r\n            formatter: (value: number | null | undefined) => {\r\n              if (typeof value !== \"number\" || isNaN(value)) {\r\n                return \"\";\r\n              }\r\n              return value.toFixed(1);\r\n            },\r\n          },\r\n        },\r\n        tooltip: {\r\n          shared: true,\r\n          intersect: false,\r\n          theme: \"dark\",\r\n          custom: function ({ series, seriesIndex, dataPointIndex, w }) {\r\n            const timestamp = w.globals.seriesX[seriesIndex][dataPointIndex];\r\n            const date = new Date(timestamp);\r\n            const formattedDate = date.toLocaleString(\"it-IT\", {\r\n              day: \"2-digit\",\r\n              month: \"short\",\r\n              year: \"numeric\",\r\n              hour: \"2-digit\",\r\n              minute: \"2-digit\",\r\n            });\r\n\r\n            let tooltipHtml = `<div><strong>${formattedDate}</strong></div>`;\r\n            series.forEach((value, idx) => {\r\n              const dataValue = value[dataPointIndex];\r\n              if (dataValue !== undefined && !isNaN(dataValue)) {\r\n                const seriesName = w.globals.seriesNames[idx];\r\n                tooltipHtml += `<div>${seriesName}: ${dataValue.toFixed(1)} kW</div>`;\r\n              }\r\n            });\r\n\r\n            return tooltipHtml;\r\n          },\r\n        },\r\n        grid: {\r\n          show: true,\r\n          borderColor: \"var(--divider-color)\", // '#FF5733', // Cambia il colore delle linee tratteggiate\r\n          strokeDashArray: 4, // Lunghezza dei trattini\r\n        },\r\n        stroke: {\r\n          width: 2,\r\n          // curve: 'smooth',\r\n          curve: \"straight\",\r\n        },\r\n        legend: {\r\n          show: true,\r\n          custom: true,\r\n          formatter: function (seriesName, opts) {\r\n            // Ottiene il colore della serie dall'indice della serie\r\n            const seriesColor = opts.w.globals.colors[opts.seriesIndex];\r\n\r\n            return `\r\n              <button class=\"custom-legend-btn\" style=\"border: 2px solid ${seriesColor};\">\r\n                ${seriesName}\r\n              </button>\r\n            `;\r\n          },\r\n        },\r\n      };\r\n\r\n      this.chart = new ApexCharts(chartContainer, options);\r\n      this.chart.render().then(() => {\r\n        this.config.entities.forEach((entity: { pv: string }) => {\r\n          const friendlyName =\r\n            this.hass.states[entity.pv]?.attributes?.friendly_name || entity.pv;\r\n          this.chart.hideSeries(friendlyName); // Usa direttamente il friendlyName o l'entityId\r\n        });\r\n      });\r\n    }\r\n    this._addTicks();\r\n  }\r\n\r\n  private _groupByNearest(\r\n    data: { x: number; y: number }[],\r\n    intervalMs: number,\r\n    startTime: number,\r\n    endTime: number\r\n  ) {\r\n    const groupedData: { x: number; y: number }[] = [];\r\n    let currentInterval = startTime;\r\n\r\n    while (currentInterval <= endTime) {\r\n      let closestPoint: { x: number; y: number } | null = null;\r\n      let minDistance = Infinity;\r\n\r\n      data.forEach((point) => {\r\n        const distance = Math.abs(point.x - currentInterval);\r\n        if (distance < minDistance) {\r\n          minDistance = distance;\r\n          closestPoint = point;\r\n        }\r\n      });\r\n\r\n      if (closestPoint) {\r\n        groupedData.push({ x: currentInterval, y: closestPoint.y });\r\n      } else {\r\n        groupedData.push({ x: currentInterval, y: null });\r\n      }\r\n\r\n      currentInterval += intervalMs;\r\n    }\r\n\r\n    return groupedData;\r\n  }\r\n\r\n  // ************************* NUOVO GRAFICO Daily *****************************\r\n  formatDataForWeekApexChart() {\r\n    const weekEntities = this.config.entities.map(\r\n      (entry) => entry.sensor_meter\r\n    );\r\n    const now = new Date();\r\n    const startTime = new Date();\r\n    startTime.setDate(now.getDate() - this.daysToEvaluate);\r\n    startTime.setHours(23, 0, 0);\r\n\r\n    const fetchAllData = () => {\r\n      if (weekEntities.length === 0) {\r\n        console.log(\"Nessuna entit da interrogare\");\r\n        return Promise.resolve({});\r\n      }\r\n      return this.hass.callWS({\r\n        type: \"recorder/statistics_during_period\",\r\n        statistic_ids: weekEntities,\r\n        period: \"day\",\r\n        start_time: startTime.toISOString(),\r\n        types: [\"sum\"],\r\n      });\r\n    };\r\n\r\n    const fetchTotalPvMeter = () => {\r\n      if (!this.config.total_pv_power) {\r\n        return Promise.resolve(null);\r\n      }\r\n      return this.hass.callWS({\r\n        type: \"recorder/statistics_during_period\",\r\n        statistic_ids: [this.config.total_pv_power],\r\n        period: \"day\",\r\n        start_time: startTime.toISOString(),\r\n        types: [\"sum\"],\r\n      });\r\n    };\r\n\r\n    return Promise.all([fetchAllData(), fetchTotalPvMeter()])\r\n      .then(([recorderResponse, totalPvPowerResponse]) => {\r\n        const formattedData = weekEntities.map((sensorId) => {\r\n          const sensorValues = recorderResponse[sensorId] || [];\r\n          const unit = this.hass.states[sensorId]?.attributes?.unit_of_measurement || \"\";\r\n          const needsConversion = unit.toLowerCase() === \"w\";\r\n\r\n          if (sensorValues.length < 2) {\r\n            console.warn(\r\n              `Dati insufficienti per ${sensorId}, impossibile rimuovere il valore iniziale.`\r\n            );\r\n            return {\r\n              name: sensorId,\r\n              data: [],\r\n            };\r\n          }\r\n\r\n          let previousSum = sensorValues[0].sum;\r\n          return {\r\n            name:\r\n              this.hass.states[sensorId]?.attributes?.friendly_name || sensorId,\r\n            data: sensorValues.slice(1).map((entry) => {\r\n              let dailyValue = entry.sum - previousSum;\r\n              if (needsConversion) {\r\n                dailyValue /= 1000; // Converti da W a kW\r\n              }\r\n              previousSum = entry.sum;\r\n              return {\r\n                x: new Date(entry.start).getTime(),\r\n                y: dailyValue,\r\n              };\r\n            }),\r\n          };\r\n        });\r\n\r\n        let series = formattedData;\r\n        if (weekEntities.length > 1) {\r\n          let totalSeries = {\r\n            name: \"totale\",\r\n            data: [],\r\n          };\r\n\r\n          if (this.config.total_pv_power && totalPvPowerResponse) {\r\n            const totalData =\r\n              totalPvPowerResponse[this.config.total_pv_power] || [];\r\n\r\n            if (totalData.length < 2) {\r\n              console.warn(\r\n                `Dati insufficienti per ${this.config.total_pv_power}, impossibile rimuovere il valore iniziale.`\r\n              );\r\n            } else {\r\n              let previousSum = totalData[0].sum;\r\n              const unit = this.hass.states[this.config.total_pv_power]?.attributes?.unit_of_measurement || \"\";\r\n              const needsConversion = unit.toLowerCase() === \"w\";\r\n              totalSeries = {\r\n                name:\r\n                  this.hass.states[this.config.total_pv_power]?.attributes\r\n                    ?.friendly_name || this.config.total_pv_power,\r\n                data: totalData.slice(1).map((entry) => {\r\n                  let dailyValue = entry.sum - previousSum;\r\n                  if (needsConversion) {\r\n                    dailyValue /= 1000;\r\n                  }\r\n                  previousSum = entry.sum;\r\n                  return {\r\n                    x: new Date(entry.start).getTime(),\r\n                    y: dailyValue,\r\n                  };\r\n                }),\r\n              };\r\n            }\r\n          } else {\r\n            const daysCount =\r\n              formattedData.length > 0 ? formattedData[0].data.length : 0;\r\n            for (let i = 0; i < daysCount; i++) {\r\n              let sum = 0;\r\n              formattedData.forEach((series) => {\r\n                sum += series.data[i]?.y || 0;\r\n              });\r\n              totalSeries.data.push({\r\n                x: formattedData[0].data[i]?.x || 0,\r\n                y: sum,\r\n              });\r\n            }\r\n          }\r\n          series.push(totalSeries);\r\n        }\r\n\r\n        this.chartdata = {\r\n          chart: { type: \"bar\" },\r\n          series: series,\r\n        };\r\n        this.sommaYUltimi7(this.chartdata);\r\n        // console.log('chart data: ', this.chartdata);\r\n        // console.log('sensori', this.hass.states['sensor.2_condizionatore_channel_1_power']);\r\n        this.requestUpdate();\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Errore nel recupero dei dati:\", error);\r\n      });\r\n  }\r\n\r\n\r\n  sommaYUltimi7(chartObj: any): number {\r\n    // Cerchiamo la serie con nome \"totale\"\r\n    const serieTotale = chartObj.series.find(\r\n      (serie) => serie.name === \"totale\"\r\n    );\r\n\r\n    if (!serieTotale) {\r\n      throw new Error(\"Serie 'totale' non trovata.\");\r\n    }\r\n\r\n    // Prendiamo gli ultimi 7 elementi dell'array 'data'\r\n    const ultimiSette = serieTotale.data.slice(-7);\r\n    // console.log(\"ultimi7pv\", ultimiSette);\r\n\r\n    // Sommiamo i valori di y dei punti presi\r\n    const somma = ultimiSette.reduce((acc, punto) => acc + punto.y, 0);\r\n    this.totalWekkPvProduction = somma.toFixed(2);\r\n    return somma;\r\n  }\r\n\r\n  private async initializeApexChart(chartOptions, containerId) {\r\n\r\n    const chartContainer = await this.shadowRoot?.getElementById(containerId);\r\n    if (chartContainer) {\r\n      if (this.weekChart) {\r\n        this.weekChart.destroy();\r\n      }\r\n    }\r\n\r\n    const options = {\r\n      chart: {\r\n        type: \"bar\",\r\n        height: this.chartHeight,\r\n        events: {\r\n          mounted: () => {\r\n            this.setDefaultZoom();\r\n            this.hideNonTotaleSeries(chartOptions.series);\r\n          },\r\n          resetZoom: () => {\r\n            setTimeout(() => {\r\n              this.setDefaultZoom();\r\n            }, 100);\r\n          },\r\n        },\r\n      },\r\n      xaxis: {\r\n        type: \"datetime\",\r\n        labels: {\r\n          format: \"dd/MM\",\r\n        },\r\n      },\r\n      yaxis: {\r\n        labels: {\r\n          formatter: function (val) {\r\n            return Math.round(val);\r\n          },\r\n        },\r\n      },\r\n      dataLabels: {\r\n        enabled: false,\r\n      },\r\n      legend: {\r\n        show: true,\r\n        custom: true,\r\n        formatter: function (seriesName, opts) {\r\n          const seriesColor = opts.w.globals.colors[opts.seriesIndex];\r\n          return `\r\n                    <button class=\"custom-legend-btn\" style=\"border: 2px solid ${seriesColor}; background: none; color: ${seriesColor}; padding: 5px 10px; border-radius: 5px; cursor: pointer;\">\r\n                        ${seriesName}\r\n                    </button>\r\n                `;\r\n        },\r\n      },\r\n      tooltip: {\r\n        enabled: true,\r\n        theme: \"dark\",\r\n      },\r\n      series: chartOptions.series.map((series) => ({\r\n        ...series,\r\n        visible: series.name === \"totale\",\r\n      })),\r\n    };\r\n\r\n    this.weekChart = new ApexCharts(\r\n      this.shadowRoot?.querySelector(`#${containerId}`),\r\n      options\r\n    );\r\n    this.weekChart.render();\r\n  }\r\n\r\n  private setDefaultZoom() {\r\n    if (!this.weekChart) return;\r\n\r\n    const allDataPoints = this.weekChart.w.config.series[0].data;\r\n    if (allDataPoints.length > 7) {\r\n      const lastIndex = allDataPoints.length - 1;\r\n      const firstIndex = Math.max(0, lastIndex - 6);\r\n      const startDate = allDataPoints[firstIndex].x;\r\n      const endDate = allDataPoints[lastIndex].x;\r\n\r\n      this.weekChart.updateOptions(\r\n        {\r\n          xaxis: {\r\n            min: startDate,\r\n            max: endDate,\r\n          },\r\n        },\r\n        false,\r\n        false\r\n      );\r\n    }\r\n  }\r\n\r\n  private hideNonTotaleSeries(series) {\r\n    if (!this.weekChart) return;\r\n\r\n    series.forEach((seriesItem) => {\r\n      if (seriesItem.name !== \"totale\") {\r\n        this.weekChart.hideSeries(seriesItem.name);\r\n      }\r\n    });\r\n  }\r\n\r\n  // ************************* FINE GRAFICO daily *****************************\r\n\r\n  private async _getApexCharts() {\r\n    if (window.ApexCharts) {\r\n      return window.ApexCharts;\r\n    } else {\r\n      const { default: ApexCharts } = await import(\"apexcharts\");\r\n      window.ApexCharts = ApexCharts;\r\n      return ApexCharts;\r\n    }\r\n  }\r\n\r\n  // *********************************      test new heatmap ****************************\r\n\r\n  private waitForApexCharts(): Promise<void> {\r\n    return new Promise<void>((resolve) => {\r\n      const interval = setInterval(() => {\r\n        if (typeof ApexCharts !== \"undefined\") {\r\n          clearInterval(interval);\r\n          resolve(); // Risolve la Promise senza restituire alcun valore\r\n        }\r\n      }, 100); // Controlla ogni 100ms\r\n    });\r\n  }\r\n\r\n  private updateDateRange(days: number) {\r\n    const newStartTime = new Date(this.startTime);\r\n    const newEndTime = new Date(this.endTime);\r\n    newStartTime.setDate(newStartTime.getDate() + days);\r\n    newEndTime.setDate(newEndTime.getDate() + days);\r\n\r\n    // Assicura che endTime non superi il giorno attuale\r\n    const today = new Date();\r\n    today.setHours(23, 59, 59, 999);\r\n    if (newEndTime > today) {\r\n      return; // Se si tenta di andare oltre oggi, non fare nulla\r\n    }\r\n\r\n    this.startTime = newStartTime;\r\n    this.endTime = newEndTime;\r\n    this.get_recorder_for_heatmap(); // Ricarica i dati con le nuove date\r\n  }\r\n\r\n  private get_recorder_for_heatmap() {\r\n    const entitiesToPass = this.config.entities\r\n      .filter((entry) => entry.sensor_meter)\r\n      .map((entry) => entry.sensor_meter);\r\n\r\n    const fetchAllData = () => {\r\n      if (entitiesToPass.length === 0) {\r\n        return Promise.resolve({});\r\n      }\r\n      return this.hass.callWS({\r\n        type: \"recorder/statistics_during_period\",\r\n        statistic_ids: entitiesToPass,\r\n        period: \"hour\",\r\n        start_time: this.startTime.toISOString(),\r\n        end_time: this.endTime.toISOString(),\r\n        types: [\"sum\"],\r\n      });\r\n    };\r\n\r\n    const fetchTotalPvMeter = () => {\r\n      return this.hass.callWS({\r\n        type: \"recorder/statistics_during_period\",\r\n        statistic_ids: [this.config.total_pv_meter],\r\n        period: \"hour\",\r\n        start_time: this.startTime.toISOString(),\r\n        end_time: this.endTime.toISOString(),\r\n        types: [\"sum\"],\r\n      });\r\n    };\r\n\r\n    const processResponse = (recorderResponse, isSummed = false) => {\r\n      // Converti alba e tramonto in formato HH:mm\r\n      const dawnTime = new Date(this.dawnTime);\r\n      const duskTime = new Date(this.duskTime);\r\n\r\n      const dawnExtended = new Date(\r\n        dawnTime.getTime() - 2 * 60 * 60 * 1000\r\n      ).toLocaleTimeString(\"en-GB\", {\r\n        hour: \"2-digit\",\r\n        minute: \"2-digit\",\r\n        hour12: false,\r\n      });\r\n\r\n      const duskExtended = new Date(\r\n        duskTime.getTime() + 1 * 60 * 60 * 1000\r\n      ).toLocaleTimeString(\"en-GB\", {\r\n        hour: \"2-digit\",\r\n        minute: \"2-digit\",\r\n        hour12: false,\r\n      });\r\n\r\n      let hourlyData = {}; // Oggetto per organizzare i dati per ora\r\n\r\n      Object.keys(recorderResponse).forEach((sensor) => {\r\n        let data = recorderResponse[sensor];\r\n\r\n        if (data.length < 2) {\r\n          console.warn(`Dati insufficienti per ${sensor}`);\r\n          return;\r\n        }\r\n\r\n        data.forEach((entry, index) => {\r\n          if (index === 0) return; // Il primo valore viene ignorato per il calcolo\r\n\r\n          let previousEntry = data[index - 1]; // Valore precedente per la sottrazione\r\n          let dailyValue = Number((entry.sum - previousEntry.sum).toFixed(2)); // Differenza arrotondata a 2 decimali\r\n\r\n          let entryDate = new Date(entry.start);\r\n          let hourKey =\r\n            entryDate.getHours().toString().padStart(2, \"0\") + \":00\"; // Formato \"HH:00\"\r\n          let dateString = entryDate.toISOString().split(\"T\")[0]; // Solo la data \"YYYY-MM-DD\"\r\n\r\n          // Filtra solo le ore comprese tra 2 ore prima dell'alba e 1 ora dopo il tramonto\r\n          if (hourKey < dawnExtended || hourKey > duskExtended) {\r\n            return;\r\n          }\r\n\r\n          if (!hourlyData[hourKey]) {\r\n            hourlyData[hourKey] = {};\r\n          }\r\n\r\n          if (!hourlyData[hourKey][dateString]) {\r\n            hourlyData[hourKey][dateString] = 0;\r\n          }\r\n\r\n          // Se stiamo aggregando i sensori, sommiamo i valori\r\n          if (isSummed) {\r\n            hourlyData[hourKey][dateString] += dailyValue;\r\n          } else {\r\n            hourlyData[hourKey][dateString] = dailyValue;\r\n          }\r\n        });\r\n      });\r\n\r\n      // Convertiamo i dati nel formato richiesto (array con {name: 'HH:00', data: [...]})\r\n      let formattedData = Object.keys(hourlyData)\r\n        .sort((a, b) => parseInt(b) - parseInt(a)) // Ordine decrescente delle ore\r\n        .map((hour) => ({\r\n          name: hour,\r\n          data: Object.keys(hourlyData[hour]).map((date) => ({\r\n            x: date,\r\n            y: Number(hourlyData[hour][date].toFixed(2)),\r\n          })),\r\n        }));\r\n\r\n      const disableLeftButtonHeatmap =\r\n        formattedData.length > 0 &&\r\n        formattedData[formattedData.length - 1].data.length <= 6;\r\n\r\n      this.heatmapObj = formattedData;\r\n\r\n      this.initializeHeatmapChart2(formattedData);\r\n      this.updateNavigatorButtonsHeatmap(disableLeftButtonHeatmap);\r\n      return formattedData;\r\n    };\r\n\r\n    if (this.config.total_pv_meter) {\r\n      fetchTotalPvMeter()\r\n        .then((response) => processResponse(response, false)) // NO somma, il valore  gi aggregato\r\n        .catch((error) => {\r\n          console.error(\"Errore nel recupero dei dati:\", error);\r\n        });\r\n    } else {\r\n      fetchAllData()\r\n        .then((response) => processResponse(response, true)) // SOMMA tutti i sensori interrogati\r\n        .catch((error) => {\r\n          console.error(\"Errore nel recupero dei dati:\", error);\r\n        });\r\n    }\r\n  }\r\n\r\n  async initializeHeatmapChart2(formattedData) {\r\n    // const totalMaxPower =\r\n    //   this.entities.reduce((sum, entity) => sum + (entity.max_power || 0), 0) /\r\n    //   1000;\r\n    const step = parseFloat((this.totalMaxPower / 5).toFixed(2));\r\n    const totalMaxPowerArray = Array.from({ length: 6 }, (_, i) =>\r\n      parseFloat(((i + 1) * step).toFixed(2))\r\n    );\r\n    await this.waitForApexCharts();\r\n\r\n    // let formattedData = this.transformToHeatmapData();\r\n\r\n    if (formattedData.length === 0) {\r\n      console.warn(\r\n        \"Dati formattati vuoti. Impossibile inizializzare il grafico.\"\r\n      );\r\n      return;\r\n    }\r\n\r\n    //  Aggiunge `min` e `max` a ogni serie\r\n    formattedData = formattedData.map((series) => ({\r\n      ...series,\r\n      data: series.data.map((dataPoint) => ({\r\n        ...dataPoint,\r\n        min: 0, // Minimo comune per tutte le serie\r\n        max: totalMaxPowerArray[5], // Massimo comune per tutte le serie\r\n      })),\r\n    }));\r\n\r\n    const options = {\r\n      chart: {\r\n        type: \"heatmap\",\r\n        height: 550,\r\n        zoom: {\r\n          enabled: true, //  Abilita il zoom manuale\r\n          autoScaleYaxis: true,\r\n        },\r\n      },\r\n      series: formattedData, //  Usa i dati aggiornati con `min` e `max`\r\n      plotOptions: {\r\n        heatmap: {\r\n          shadeIntensity: 0.8,\r\n          useFillColorAsStroke: true,\r\n          radius: 0,\r\n          colorScale: {\r\n            ranges: [\r\n              {\r\n                from: 0,\r\n                to: totalMaxPowerArray[0],\r\n                color: \"#280487\",\r\n                name: `0 - ${totalMaxPowerArray[0]}`,\r\n              }, // Blu\r\n              {\r\n                from: totalMaxPowerArray[0],\r\n                to: totalMaxPowerArray[1],\r\n                color: \"#b6346a\",\r\n              }, // Verde\r\n              {\r\n                from: totalMaxPowerArray[1],\r\n                to: totalMaxPowerArray[2],\r\n                color: \"#df6d2e\",\r\n              }, // Giallo\r\n              {\r\n                from: totalMaxPowerArray[2],\r\n                to: totalMaxPowerArray[3],\r\n                color: \"#efb03d\",\r\n              }, // Arancione\r\n              {\r\n                from: totalMaxPowerArray[3],\r\n                to: totalMaxPowerArray[4],\r\n                color: \"#f8e36c\",\r\n              }, // Rosso\r\n              {\r\n                from: totalMaxPowerArray[4],\r\n                to: totalMaxPowerArray[5],\r\n                color: \"#f3f4d0\",\r\n              }, // Bianco\r\n            ],\r\n          },\r\n        },\r\n      },\r\n      dataLabels: {\r\n        enabled: false,\r\n      },\r\n      legend: {\r\n        formatter: function (seriesName, opts) {\r\n          // Array di gradienti da assegnare in ordine\r\n          const gradients = [\r\n            \"linear-gradient(to right, #280487, #8b2572)\",\r\n            \"linear-gradient(to right, #8b2572, #c54855)\",\r\n            \"linear-gradient(to right, #c54855, #df6d2f)\",\r\n            \"linear-gradient(to right, #df6d2f, #e99838)\",\r\n            \"linear-gradient(to right, #e99838, #f0c56c)\",\r\n            \"linear-gradient(to right, #f0c56c, #f3f2cc)\",\r\n          ];\r\n\r\n          // Determina il colore in base all'indice della serie\r\n          const background = gradients[opts.seriesIndex] || \"#ccc\"; // Default a grigio se fuori range\r\n\r\n          return `<button style=\"\r\n          \r\n          background:${background}; \r\n          color:white; \r\n          border:none; \r\n          flex-grow: 1\r\n          border-radius: 0 !important;\r\n          height: 35px; /* Altezza fissa per tutti i pulsanti */\r\n          text-align: center;\r\n          cursor:pointer;\r\n          font-weight:bold;\r\n          ;\">\r\n            ${seriesName}\r\n        </button>`;\r\n        },\r\n      },\r\n      xaxis: {\r\n        labels: {\r\n          style: {\r\n            colors: \"var(--primary-text-color)\",\r\n          },\r\n        },\r\n      },\r\n      yaxis: {\r\n        labels: {\r\n          style: {\r\n            colors: \"var(--primary-text-color)\",\r\n          },\r\n        },\r\n      },\r\n\r\n      tooltip: {\r\n        enabled: true,\r\n        theme: \"dark\",\r\n      },\r\n      title: {\r\n        text: \"Produzione giornaliera\",\r\n        align: \"center\",\r\n        style: {\r\n          color: \"#FFF\",\r\n        },\r\n      },\r\n    };\r\n\r\n    const chartElement = this.shadowRoot?.querySelector(\"#heatmap-chart\");\r\n    if (!chartElement) {\r\n      console.error(\"Elemento #heatmap-chart non trovato.\");\r\n      return;\r\n    }\r\n\r\n    if (this.chartMap) {\r\n      this.chartMap.destroy();\r\n    }\r\n\r\n    this.chartMap = new ApexCharts(chartElement, options);\r\n    // this.chartMap.render();\r\n    this.chartMap.render().then(() => {\r\n      // Combiniamo tutti i dati di tutte le serie in un unico array\r\n      const allDataPoints = formattedData.flatMap((series) => series.data);\r\n\r\n      // Verifica che ci siano dati\r\n      if (!allDataPoints.length) {\r\n        console.warn(\"Nessun dato disponibile per il grafico.\");\r\n        return;\r\n      }\r\n\r\n      // Ordina per asse X (tempo) se necessario\r\n      allDataPoints.sort((a, b) => a.x - b.x);\r\n\r\n      // Se ci sono pi di 7 giorni di dati, limita la visualizzazione\r\n      if (allDataPoints.length > 7) {\r\n        const lastIndex = allDataPoints.length - 1;\r\n        const firstIndex = Math.max(0, lastIndex - 6);\r\n        const startDate = new Date(allDataPoints[firstIndex].x).getTime();\r\n        const endDate = new Date(allDataPoints[lastIndex].x).getTime();\r\n\r\n        // Converti x in Date per confronto\r\n        formattedData.forEach((series) => {\r\n          series.data.forEach((point) => {\r\n            point.x = new Date(point.x); // Converti la stringa \"YYYY-MM-DD\" in un oggetto Date\r\n          });\r\n        });\r\n\r\n        // Ordina per data (se non gi ordinato)\r\n        formattedData.forEach((series) => {\r\n          series.data.sort((a, b) => a.x - b.x);\r\n        });\r\n\r\n        // Trova la data limite per gli ultimi 7 giorni\r\n        const lastDate =\r\n          formattedData[0].data[formattedData[0].data.length - 1].x;\r\n        const firstDate = new Date(lastDate);\r\n        firstDate.setDate(firstDate.getDate() - 6); // Ultimi 7 giorni\r\n\r\n        // Filtra i dati per tenere solo gli ultimi 7 giorni\r\n        const filteredData = formattedData.map((series) => ({\r\n          name: series.name,\r\n          data: series.data.filter((point) => point.x >= firstDate),\r\n        }));\r\n\r\n        //  Converti `x` in stringa per renderlo compatibile con Heatmap\r\n        filteredData.forEach((series) => {\r\n          series.data.forEach((point) => {\r\n            point.x = point.x.toLocaleDateString(\"en-GB\", {\r\n              day: \"2-digit\",\r\n              month: \"short\",\r\n            });\r\n          });\r\n        });\r\n\r\n        //  Aggiorna il grafico con i dati corretti\r\n        this.chartMap.updateSeries(filteredData);\r\n      }\r\n\r\n      const chartContainer = this.shadowRoot?.querySelector(\"#heatmap-chart\");\r\n      // Controlla se il navigatore gi esiste per evitare duplicati\r\n\r\n      if (!this.shadowRoot?.querySelector(\".chart-cutton-container\")) {\r\n        // Aggiunge l'HTML sotto il grafico\r\n        chartContainer.insertAdjacentHTML(\r\n          \"afterend\",\r\n          `\r\n          <div class=\"chart-cutton-container\">\r\n            <button class=\"chart-button-select\" id=\"prev-day-heatmap\"> Giorno Precedente</button>\r\n            <div style=\"width: 2px; height: 80%; background-color: var(--divider-color); align-self: center;\"></div>\r\n            <button class=\"chart-button-select\" id=\"reset-heatmap\">Ripristina</button>\r\n            <div style=\"width: 2px; height: 80%; background-color: var(--divider-color); align-self: center;\"></div>\r\n            <button class=\"chart-button-select\" id=\"next-day-heatmap\">Giorno Successivo </button>\r\n          </div>\r\n        `\r\n        );\r\n\r\n        // Aggiungi gli event listener ai bottoni\r\n        this.shadowRoot\r\n          ?.querySelector(\"#prev-day-heatmap\")\r\n          ?.addEventListener(\"click\", () => {\r\n            this.updateDateRange(-1); // Cambia la data\r\n            // Aggiorna lo stato dei pulsanti\r\n          });\r\n        this.shadowRoot\r\n          ?.querySelector(\"#reset-heatmap\")\r\n          ?.addEventListener(\"click\", () => {\r\n            // this.initializeHeatmapChart2(formattedData);\r\n            this.getNowTime();\r\n            this.initializeHeatmapChart2(formattedData);\r\n          });\r\n        this.shadowRoot\r\n          ?.querySelector(\"#next-day-heatmap\")\r\n          .addEventListener(\"click\", () => this.updateDateRange(1));\r\n      }\r\n    });\r\n  }\r\n\r\n  private updateNavigatorButtonsHeatmap = (disableLeftButtonHeatmap) => {\r\n    const nextButton = this.shadowRoot?.querySelector(\r\n      \"#prev-day-heatmap\"\r\n    ) as HTMLButtonElement;\r\n    if (nextButton) {\r\n      nextButton.disabled = disableLeftButtonHeatmap;\r\n    }\r\n  };\r\n\r\n  private _moreinfo(entityinfo) {\r\n    const popupEvent = new Event(\"hass-more-info\", {\r\n      bubbles: true,\r\n      cancelable: false,\r\n      composed: true,\r\n    });\r\n\r\n    // Utilizza 'as any' per aggirare la verifica del tipo\r\n    (popupEvent as any).detail = { entityId: entityinfo };\r\n\r\n    this.ownerDocument\r\n      .querySelector(\"home-assistant\")\r\n      .dispatchEvent(popupEvent);\r\n  }\r\n}\r\n"],"names":["t","e","s","o","r","n","i","S","c","h","a","l","p","d","u","f","y","loader","html","rainy","cloudeCoverage","uvIndex","temperature","clearnight","cloudy","day","partlycloudy","hail","lightningrainy","lightning","partlycloudynight","pouring","snowyrainy","windyvariant","windy","fog","pvIcon","state","battery","batteryPercentageState","gridPower","home","totalPower","pvPercentage","batteryPercentage","inverter","css","PhotovoltaicCard","PhotovoltaicCard_1","LitElement","properties","hass","config","activeMenu","showChart","swicthChart","panelMode","showMoreElements","iconMapping","sunny","night","constructor","_interval","_debounceFetchHistory","chartHeight","_tileCards","moreElements_Cards","_moreElementsContainer","previousWidth","weekGridConsumption","chartMap","gridWeekTotal","gridWeek","totalWekkPvProduction","daysToEvaluate","disableLeftButtonHeatmap","sensorData","aggregatedData","dinamicContent","moreElemetsName","moreElemetsFunction","totalMaxPower","sliderHeight","dynamicFunction","updateNavigatorButtonsHeatmap","nextButton","_a","shadowRoot","querySelector","disabled","styles","setConfig","entities","Array","isArray","Error","updatedConfig","Object","assign","uniqueKey","JSON","stringify","card","type","hash","_generateHash","storageKey","savedId","localStorage","getItem","Date","now","Math","random","toString","substr","setItem","id","sliderKey","savedSliderValue","parseInt","_c","_b","options","data_time_period","reduce","sum","entity","max_power","input","length","char","charCodeAt","connectedCallback","window","addEventListener","handleResize","bind","disconnectedCallback","removeEventListener","currentWidth","getBoundingClientRect","width","initializeLines","createTileCards","tile_cards","map","tileConfig","tile","document","createElement","forEach","generateMoreElements","more_elements","sensorEntities","filter","startsWith","otherEntities","push","getTotalSum","chartdata","seriesData","series","data","last7Values","slice","total","point","totaleSeries","find","name","Number","toFixed","askForEntity","consumer","days","unit","Promise","resolve","reject","startTime","setDate","getDate","setHours","states","entityUnit","attributes","unit_of_measurement","toLowerCase","isWatt","callWS","statistic_ids","period","start_time","toISOString","types","then","recorderResponse","entityData","console","warn","totale","correctedDays","totalSum","correctedSum","parseFloat","start","end","correctedData","catch","error","isPanelMode","huiRoot","_f","_e","_g","isVericarlCard","haCard","offsetHeight","offsetWidth","render","verticalCard","cardHeight","round","height","pv_nemuber","cardCardWidth","weatherObj","weatherSvg","renderIcon","weather_entity","pvTotal","batteryTotal","gridTotal","pvState","pv","convertedPvState","convert_to_watt","grid","grid_entity","_d","power","batteryPercentageNow","_h","battery_state","_j","c02","totalConsumption","totalWeekKwhPercentage","_moreinfo","entityId","maxPower","stateObj","percentage","friendly_name","cloud_coverage","uv_index","temperature_unit","_onSliderInput","_atSliderChange","_initializeChart","initializeApexChart","get_recorder_for_heatmap","getNowTime","endTime","firstUpdated","latitude","longitude","undefined","getTime","min","max","times","SunCalc","getTimes","dawnTime","sunrise","duskTime","sunset","formatDataForWeekApexChart","panel_mode","_applyDynamicStyles","slider","requestAnimationFrame","_updateLabelPosition","resizeObserver","ResizeObserver","requestUpdate","observe","parentElement","_fetchTodayData","grid_meter","unit_of_measurament","gridAsk","battery_meter","batteryAsk","batteryWeek","batteryWeekTotal","linesSvg","innerHTML","photovoltaicTopElements","from","querySelectorAll","photovoltaicBottomElements","casaSvg","linesSvgRect","casaRect","casaX","x","casaY","casaWidth","casaHeight","casaCenterX","createGlowFilter","drawLines","photovoltaicElements","isBottom","spacing","offsets","elementsWithCenter","element","rect","centerX","elementsLeft","item","sort","b","elementsRight","casaLineStartX","casaPointsX","_","fragment","createDocumentFragment","index","elementVerticalX","isLeft","includes","elementX","elementY","elementHeight","relativeIndex","findIndex","left","right","line1Length","line1StartY","line1EndY","casaPointX","casaPointY","stateValue","getAttribute","energy_power","staticLine","createElementNS","setAttribute","appendChild","gridEnergyValue","glowLine","animate","homeTile","homeTileRect","homeTileX","homeTileY","homeTileHeight","gridPowerX","gridPowerCenterY","homeTileXEnd","homeTileCenterY","staticLineHome","energy_to_inverter","defs","feGaussianBlur","getLineColor","createGlowAnimation","to","currentTheme","themes","darkMode","shadowDark_dark","shadowLight_dark","shadowDark_light","shadowLight_light","darkThemeStyles","lightThemeStyles","sliderHeightVertical","sliderHeightHorizontal","styleSheet","label","clientHeight","sliderWidth","thumbWidth","value","labelPosition","style","_addTicks","tickContainer","remove","className","step","tickStart","textContent","tick","position","event","target","clearTimeout","setTimeout","unit_of_mesurament","response","callApi","historyData","chartData","entry","rawValue","last_updated","isNaN","friendlyName","calculateGraphSpan","setMinutes","ApexCharts","_getApexCharts","graphSpan","intervalMs","allTimestamps","flatMap","serie","minTimestamp","maxTimestamp","groupedSeries","_groupByNearest","grafic_forcast","forcast","forecastEntity","detailedForecast","estimate","pv_estimate","period_start","color","pv_estimate10","pv_estimate90","summedData","acc","chartContainer","getElementById","chart","destroy","fill","gradient","inverseColors","opacityFrom","opacityTo","stops","zoom","enabled","toolbar","show","dataLabels","xaxis","tooltip","labels","formatter","date","getHours","padStart","yaxis","shared","intersect","theme","custom","seriesIndex","dataPointIndex","w","timestamp","globals","seriesX","formattedDate","toLocaleString","month","year","hour","minute","tooltipHtml","idx","dataValue","seriesName","seriesNames","borderColor","strokeDashArray","stroke","curve","legend","opts","seriesColor","colors","hideSeries","groupedData","currentInterval","closestPoint","minDistance","Infinity","distance","abs","weekEntities","sensor_meter","fetchAllData","log","fetchTotalPvMeter","total_pv_power","all","totalPvPowerResponse","formattedData","sensorId","sensorValues","needsConversion","previousSum","dailyValue","totalSeries","totalData","daysCount","sommaYUltimi7","chartObj","serieTotale","ultimiSette","somma","punto","chartOptions","containerId","weekChart","events","mounted","setDefaultZoom","hideNonTotaleSeries","resetZoom","format","val","visible","allDataPoints","lastIndex","firstIndex","startDate","endDate","updateOptions","seriesItem","default","waitForApexCharts","interval","setInterval","clearInterval","updateDateRange","newStartTime","newEndTime","today","entitiesToPass","end_time","total_pv_meter","processResponse","isSummed","dawnExtended","toLocaleTimeString","hour12","duskExtended","hourlyData","keys","sensor","previousEntry","entryDate","hourKey","dateString","split","heatmapObj","initializeHeatmapChart2","totalMaxPowerArray","dataPoint","autoScaleYaxis","plotOptions","heatmap","shadeIntensity","useFillColorAsStroke","radius","colorScale","ranges","gradients","background","title","text","align","chartElement","lastDate","firstDate","filteredData","toLocaleDateString","updateSeries","insertAdjacentHTML","entityinfo","popupEvent","Event","bubbles","cancelable","composed","detail","ownerDocument","dispatchEvent","__decorate","property","attribute","prototype","customElement"],"mappings":"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CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,GAAG,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EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,EAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAE,CAAC,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,QAAA,IAAI,CAAC9N,aAAa,GAAG8N,OAAO,CAAC5F,MAAM;AACrC,OAAC,CAAC;AACJ;AAEA,IAAA,IAAI,CAAAY,EAAA,GAAA,CAAAC,EAAA,GAAA,IAAI,CAAClK,MAAM,0CAAEd,OAAO,MAAA,IAAA,IAAA+K,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEiF,aAAa,EAAE;AACvC,MAAA,IAAI,CAACzH,YAAY,CACf,IAAI,CAACzH,MAAM,CAACd,OAAO,CAACgQ,aAAa,EACjC,CAAC,EACD,CAAA/E,EAAA,GAAA,IAAI,CAACnK,MAAM,CAACd,OAAO,MAAA,IAAA,IAAAiL,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAE6E,mBAAmB,CACzC,CAAChG,IAAI,CAAEmG,UAAU,IAAI;QACpB,IAAI,CAACC,WAAW,GAAGD,UAAU;AAC7B,QAAA,IAAI,CAACE,gBAAgB,GAAGF,UAAU,CAAC9F,MAAM;AAC3C,OAAC,CAAC;AACJ;AACF;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}