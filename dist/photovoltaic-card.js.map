{"version":3,"file":"photovoltaic-card.js","sources":["../node_modules/tslib/tslib.es6.js","../node_modules/@lit/reactive-element/css-tag.js","../node_modules/@lit/reactive-element/reactive-element.js","../node_modules/lit-html/lit-html.js","../node_modules/lit-element/lit-element.js","../node_modules/@lit/reactive-element/decorators/custom-element.js","../node_modules/@lit/reactive-element/decorators/property.js","../node_modules/suncalc/suncalc.js","../src/icons.ts","../src/tiles.ts","../src/styles.ts","../src/photovoltaic-card.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nvar ownKeys = function(o) {\r\n    ownKeys = Object.getOwnPropertyNames || function (o) {\r\n        var ar = [];\r\n        for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\r\n        return ar;\r\n    };\r\n    return ownKeys(o);\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\r\n    if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\r\n        return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\r\n            return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\r\n        });\r\n    }\r\n    return path;\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __esDecorate: __esDecorate,\r\n    __runInitializers: __runInitializers,\r\n    __propKey: __propKey,\r\n    __setFunctionName: __setFunctionName,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n    __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,\r\n};\r\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1]),t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,adoptStyles,css,getCompatibleStyle,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:r,getOwnPropertyNames:h,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),y={attribute:!0,type:String,converter:u,reflect:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class b extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=y){if(s.state&&(s.attribute=!1),this._$Ei(),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),r=this.getPropertyDescriptor(t,i,s);void 0!==r&&e(this.prototype,t,r)}}static getPropertyDescriptor(t,s,i){const{get:e,set:h}=r(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get(){return e?.call(this)},set(s){const r=e?.call(this);h.call(this,s),this.requestUpdate(t,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??y}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...h(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$EC(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const r=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==r?this.removeAttribute(e):this.setAttribute(e,r),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),r=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e,this[e]=r.fromAttribute(s,t.type),this._$Em=null}}requestUpdate(t,s,i){if(void 0!==t){if(i??=this.constructor.getPropertyOptions(t),!(i.hasChanged??f)(this[t],s))return;this.P(t,s,i)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(t,s,i){this._$AL.has(t)||this._$AL.set(t,s),!0===i.reflect&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t)!0!==i.wrapped||this._$AL.has(s)||void 0===this[s]||this.P(s,this[s],i)}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EU()}catch(s){throw t=!1,this._$EU(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach((t=>this._$EC(t,this[t]))),this._$EU()}updated(t){}firstUpdated(t){}}b.elementStyles=[],b.shadowRootOptions={mode:\"open\"},b[d(\"elementProperties\")]=new Map,b[d(\"finalized\")]=new Map,p?.({ReactiveElement:b}),(a.reactiveElementVersions??=[]).push(\"2.0.4\");export{b as ReactiveElement,u as defaultConverter,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=y(3),T=Symbol.for(\"lit-noChange\"),E=Symbol.for(\"lit-nothing\"),A=new WeakMap,C=r.createTreeWalker(r,129);function P(t,i){if(!a(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":3===i?\"<math>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[P(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":3===i?\"</math>\":\"\")),o]};class N{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=V(t,s);if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?H:\"?\"===e[1]?I:\"@\"===e[1]?L:k}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),C.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){if(i===T)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);C.currentNode=e;let h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new R(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new z(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=C.nextNode(),o++)}return C.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),c(t)?t===E||null==t||\"\"===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new M(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class k{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=S(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=S(this,e[s+n],i,n),r===T&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===E?t=E:t!==E&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E?void 0:t}}class I extends k{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E)}}class L extends k{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=S(this,t,i,0)??E)===T)return;const s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const Z={M:e,P:h,A:o,C:1,L:V,R:M,D:u,V:S,I:R,H:k,N:I,U:L,B:H,F:z},j=t.litHtmlPolyfillSupport;j?.(N,R),(t.litHtmlVersions??=[]).push(\"3.2.1\");const B=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new R(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{Z as _$LH,x as html,w as mathml,T as noChange,E as nothing,B as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as s}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class r extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const s=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(s,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return s}}r._$litElement$=!0,r[\"finalized\"]=!0,globalThis.litElementHydrateSupport?.({LitElement:r});const i=globalThis.litElementPolyfillSupport;i?.({LitElement:r});const o={_$AK:(t,e,s)=>{t._$AK(e,s)},_$AL:t=>t._$AL};(globalThis.litElementVersions??=[]).push(\"4.1.1\");export{r as LitElement,o as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=t=>(e,o)=>{void 0!==o?o.addInitializer((()=>{customElements.define(t,e)})):customElements.define(t,e)};export{t as customElement};\n//# sourceMappingURL=custom-element.js.map\n","import{defaultConverter as t,notEqual as e}from\"../reactive-element.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const o={attribute:!0,type:String,converter:t,reflect:!1,hasChanged:e},r=(t=o,e,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(void 0===s&&globalThis.litPropertyMetadata.set(i,s=new Map),s.set(r.name,t),\"accessor\"===n){const{name:o}=r;return{set(r){const n=e.get.call(this);e.set.call(this,r),this.requestUpdate(o,n,t)},init(e){return void 0!==e&&this.P(o,void 0,t),e}}}if(\"setter\"===n){const{name:o}=r;return function(r){const n=this[o];e.call(this,r),this.requestUpdate(o,n,t)}}throw Error(\"Unsupported decorator location: \"+n)};function n(t){return(e,o)=>\"object\"==typeof o?r(t,e,o):((t,e,o)=>{const r=e.hasOwnProperty(o);return e.constructor.createProperty(o,r?{...t,wrapped:!0}:t),r?Object.getOwnPropertyDescriptor(e,o):void 0})(t,e,o)}export{n as property,r as standardProperty};\n//# sourceMappingURL=property.js.map\n","/*\n (c) 2011-2015, Vladimir Agafonkin\n SunCalc is a JavaScript library for calculating sun/moon position and light phases.\n https://github.com/mourner/suncalc\n*/\n\n(function () { 'use strict';\n\n// shortcuts for easier to read formulas\n\nvar PI   = Math.PI,\n    sin  = Math.sin,\n    cos  = Math.cos,\n    tan  = Math.tan,\n    asin = Math.asin,\n    atan = Math.atan2,\n    acos = Math.acos,\n    rad  = PI / 180;\n\n// sun calculations are based on http://aa.quae.nl/en/reken/zonpositie.html formulas\n\n\n// date/time constants and conversions\n\nvar dayMs = 1000 * 60 * 60 * 24,\n    J1970 = 2440588,\n    J2000 = 2451545;\n\nfunction toJulian(date) { return date.valueOf() / dayMs - 0.5 + J1970; }\nfunction fromJulian(j)  { return new Date((j + 0.5 - J1970) * dayMs); }\nfunction toDays(date)   { return toJulian(date) - J2000; }\n\n\n// general calculations for position\n\nvar e = rad * 23.4397; // obliquity of the Earth\n\nfunction rightAscension(l, b) { return atan(sin(l) * cos(e) - tan(b) * sin(e), cos(l)); }\nfunction declination(l, b)    { return asin(sin(b) * cos(e) + cos(b) * sin(e) * sin(l)); }\n\nfunction azimuth(H, phi, dec)  { return atan(sin(H), cos(H) * sin(phi) - tan(dec) * cos(phi)); }\nfunction altitude(H, phi, dec) { return asin(sin(phi) * sin(dec) + cos(phi) * cos(dec) * cos(H)); }\n\nfunction siderealTime(d, lw) { return rad * (280.16 + 360.9856235 * d) - lw; }\n\nfunction astroRefraction(h) {\n    if (h < 0) // the following formula works for positive altitudes only.\n        h = 0; // if h = -0.08901179 a div/0 would occur.\n\n    // formula 16.4 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\n    // 1.02 / tan(h + 10.26 / (h + 5.10)) h in degrees, result in arc minutes -> converted to rad:\n    return 0.0002967 / Math.tan(h + 0.00312536 / (h + 0.08901179));\n}\n\n// general sun calculations\n\nfunction solarMeanAnomaly(d) { return rad * (357.5291 + 0.98560028 * d); }\n\nfunction eclipticLongitude(M) {\n\n    var C = rad * (1.9148 * sin(M) + 0.02 * sin(2 * M) + 0.0003 * sin(3 * M)), // equation of center\n        P = rad * 102.9372; // perihelion of the Earth\n\n    return M + C + P + PI;\n}\n\nfunction sunCoords(d) {\n\n    var M = solarMeanAnomaly(d),\n        L = eclipticLongitude(M);\n\n    return {\n        dec: declination(L, 0),\n        ra: rightAscension(L, 0)\n    };\n}\n\n\nvar SunCalc = {};\n\n\n// calculates sun position for a given date and latitude/longitude\n\nSunCalc.getPosition = function (date, lat, lng) {\n\n    var lw  = rad * -lng,\n        phi = rad * lat,\n        d   = toDays(date),\n\n        c  = sunCoords(d),\n        H  = siderealTime(d, lw) - c.ra;\n\n    return {\n        azimuth: azimuth(H, phi, c.dec),\n        altitude: altitude(H, phi, c.dec)\n    };\n};\n\n\n// sun times configuration (angle, morning name, evening name)\n\nvar times = SunCalc.times = [\n    [-0.833, 'sunrise',       'sunset'      ],\n    [  -0.3, 'sunriseEnd',    'sunsetStart' ],\n    [    -6, 'dawn',          'dusk'        ],\n    [   -12, 'nauticalDawn',  'nauticalDusk'],\n    [   -18, 'nightEnd',      'night'       ],\n    [     6, 'goldenHourEnd', 'goldenHour'  ]\n];\n\n// adds a custom time to the times config\n\nSunCalc.addTime = function (angle, riseName, setName) {\n    times.push([angle, riseName, setName]);\n};\n\n\n// calculations for sun times\n\nvar J0 = 0.0009;\n\nfunction julianCycle(d, lw) { return Math.round(d - J0 - lw / (2 * PI)); }\n\nfunction approxTransit(Ht, lw, n) { return J0 + (Ht + lw) / (2 * PI) + n; }\nfunction solarTransitJ(ds, M, L)  { return J2000 + ds + 0.0053 * sin(M) - 0.0069 * sin(2 * L); }\n\nfunction hourAngle(h, phi, d) { return acos((sin(h) - sin(phi) * sin(d)) / (cos(phi) * cos(d))); }\nfunction observerAngle(height) { return -2.076 * Math.sqrt(height) / 60; }\n\n// returns set time for the given sun altitude\nfunction getSetJ(h, lw, phi, dec, n, M, L) {\n\n    var w = hourAngle(h, phi, dec),\n        a = approxTransit(w, lw, n);\n    return solarTransitJ(a, M, L);\n}\n\n\n// calculates sun times for a given date, latitude/longitude, and, optionally,\n// the observer height (in meters) relative to the horizon\n\nSunCalc.getTimes = function (date, lat, lng, height) {\n\n    height = height || 0;\n\n    var lw = rad * -lng,\n        phi = rad * lat,\n\n        dh = observerAngle(height),\n\n        d = toDays(date),\n        n = julianCycle(d, lw),\n        ds = approxTransit(0, lw, n),\n\n        M = solarMeanAnomaly(ds),\n        L = eclipticLongitude(M),\n        dec = declination(L, 0),\n\n        Jnoon = solarTransitJ(ds, M, L),\n\n        i, len, time, h0, Jset, Jrise;\n\n\n    var result = {\n        solarNoon: fromJulian(Jnoon),\n        nadir: fromJulian(Jnoon - 0.5)\n    };\n\n    for (i = 0, len = times.length; i < len; i += 1) {\n        time = times[i];\n        h0 = (time[0] + dh) * rad;\n\n        Jset = getSetJ(h0, lw, phi, dec, n, M, L);\n        Jrise = Jnoon - (Jset - Jnoon);\n\n        result[time[1]] = fromJulian(Jrise);\n        result[time[2]] = fromJulian(Jset);\n    }\n\n    return result;\n};\n\n\n// moon calculations, based on http://aa.quae.nl/en/reken/hemelpositie.html formulas\n\nfunction moonCoords(d) { // geocentric ecliptic coordinates of the moon\n\n    var L = rad * (218.316 + 13.176396 * d), // ecliptic longitude\n        M = rad * (134.963 + 13.064993 * d), // mean anomaly\n        F = rad * (93.272 + 13.229350 * d),  // mean distance\n\n        l  = L + rad * 6.289 * sin(M), // longitude\n        b  = rad * 5.128 * sin(F),     // latitude\n        dt = 385001 - 20905 * cos(M);  // distance to the moon in km\n\n    return {\n        ra: rightAscension(l, b),\n        dec: declination(l, b),\n        dist: dt\n    };\n}\n\nSunCalc.getMoonPosition = function (date, lat, lng) {\n\n    var lw  = rad * -lng,\n        phi = rad * lat,\n        d   = toDays(date),\n\n        c = moonCoords(d),\n        H = siderealTime(d, lw) - c.ra,\n        h = altitude(H, phi, c.dec),\n        // formula 14.1 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\n        pa = atan(sin(H), tan(phi) * cos(c.dec) - sin(c.dec) * cos(H));\n\n    h = h + astroRefraction(h); // altitude correction for refraction\n\n    return {\n        azimuth: azimuth(H, phi, c.dec),\n        altitude: h,\n        distance: c.dist,\n        parallacticAngle: pa\n    };\n};\n\n\n// calculations for illumination parameters of the moon,\n// based on http://idlastro.gsfc.nasa.gov/ftp/pro/astro/mphase.pro formulas and\n// Chapter 48 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\n\nSunCalc.getMoonIllumination = function (date) {\n\n    var d = toDays(date || new Date()),\n        s = sunCoords(d),\n        m = moonCoords(d),\n\n        sdist = 149598000, // distance from Earth to Sun in km\n\n        phi = acos(sin(s.dec) * sin(m.dec) + cos(s.dec) * cos(m.dec) * cos(s.ra - m.ra)),\n        inc = atan(sdist * sin(phi), m.dist - sdist * cos(phi)),\n        angle = atan(cos(s.dec) * sin(s.ra - m.ra), sin(s.dec) * cos(m.dec) -\n                cos(s.dec) * sin(m.dec) * cos(s.ra - m.ra));\n\n    return {\n        fraction: (1 + cos(inc)) / 2,\n        phase: 0.5 + 0.5 * inc * (angle < 0 ? -1 : 1) / Math.PI,\n        angle: angle\n    };\n};\n\n\nfunction hoursLater(date, h) {\n    return new Date(date.valueOf() + h * dayMs / 24);\n}\n\n// calculations for moon rise/set times are based on http://www.stargazing.net/kepler/moonrise.html article\n\nSunCalc.getMoonTimes = function (date, lat, lng, inUTC) {\n    var t = new Date(date);\n    if (inUTC) t.setUTCHours(0, 0, 0, 0);\n    else t.setHours(0, 0, 0, 0);\n\n    var hc = 0.133 * rad,\n        h0 = SunCalc.getMoonPosition(t, lat, lng).altitude - hc,\n        h1, h2, rise, set, a, b, xe, ye, d, roots, x1, x2, dx;\n\n    // go in 2-hour chunks, each time seeing if a 3-point quadratic curve crosses zero (which means rise or set)\n    for (var i = 1; i <= 24; i += 2) {\n        h1 = SunCalc.getMoonPosition(hoursLater(t, i), lat, lng).altitude - hc;\n        h2 = SunCalc.getMoonPosition(hoursLater(t, i + 1), lat, lng).altitude - hc;\n\n        a = (h0 + h2) / 2 - h1;\n        b = (h2 - h0) / 2;\n        xe = -b / (2 * a);\n        ye = (a * xe + b) * xe + h1;\n        d = b * b - 4 * a * h1;\n        roots = 0;\n\n        if (d >= 0) {\n            dx = Math.sqrt(d) / (Math.abs(a) * 2);\n            x1 = xe - dx;\n            x2 = xe + dx;\n            if (Math.abs(x1) <= 1) roots++;\n            if (Math.abs(x2) <= 1) roots++;\n            if (x1 < -1) x1 = x2;\n        }\n\n        if (roots === 1) {\n            if (h0 < 0) rise = i + x1;\n            else set = i + x1;\n\n        } else if (roots === 2) {\n            rise = i + (ye < 0 ? x2 : x1);\n            set = i + (ye < 0 ? x1 : x2);\n        }\n\n        if (rise && set) break;\n\n        h0 = h2;\n    }\n\n    var result = {};\n\n    if (rise) result.rise = hoursLater(t, rise);\n    if (set) result.set = hoursLater(t, set);\n\n    if (!rise && !set) result[ye > 0 ? 'alwaysUp' : 'alwaysDown'] = true;\n\n    return result;\n};\n\n\n// export as Node module / AMD module / browser variable\nif (typeof exports === 'object' && typeof module !== 'undefined') module.exports = SunCalc;\nelse if (typeof define === 'function' && define.amd) define(SunCalc);\nelse window.SunCalc = SunCalc;\n\n}());\n","import { html } from \"lit\";\r\n\r\nexport function loader() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 140 139.11\">\r\n                    <defs>\r\n                        <style>\r\n                        .loader-cls-1 {\r\n                            fill: #898989;\r\n                        }\r\n\r\n                        .loader-cls-2 {\r\n                            fill: #141414;\r\n                        }\r\n\r\n                        .loader-cls-3 {\r\n                            fill: #b1b1b1;\r\n                        }\r\n\r\n                        .loader-cls-4 {\r\n                            fill: #4e4e4e;\r\n                        }\r\n\r\n                        .loader-cls-5 {\r\n                            fill: #767676;\r\n                        }\r\n\r\n                        .loader-cls-6 {\r\n                            fill: #272727;\r\n                        }\r\n\r\n                        .loader-cls-7 {\r\n                            fill: #626262;\r\n                        }\r\n\r\n                        .loader-cls-8 {\r\n                            fill: #fff;\r\n                        }\r\n\r\n                        .loader-cls-9 {\r\n                            fill: #3b3b3b;\r\n                        }\r\n\r\n                        .loader-cls-10 {\r\n                            fill: #d8d8d8;\r\n                        }\r\n\r\n                        .loader-cls-11 {\r\n                            fill: #c4c4c4;\r\n                        }\r\n\r\n                        .loader-cls-12 {\r\n                            fill: #ebebeb;\r\n                        }\r\n\r\n                        .loader-cls-13 {\r\n                            fill: #9d9d9d;\r\n                        }\r\n                        </style>\r\n                    </defs>\r\n                    <g id=\"Layer\">\r\n                        <g>\r\n                        <circle class=\"loader-cls-8\" cx=\"70\" cy=\"11.04\" r=\"11.04\" />\r\n                        <circle class=\"loader-cls-12\" cx=\"97.94\" cy=\"18\" r=\"11.04\" />\r\n                        <circle class=\"loader-cls-10\" cx=\"118.78\" cy=\"36.51\" r=\"11.04\" transform=\"translate(-4.93 48.23) rotate(-22.5)\" />\r\n                        <circle class=\"loader-cls-11\" cx=\"128.96\" cy=\"63.01\" r=\"11.04\" />\r\n                        <circle class=\"loader-cls-3\" cx=\"125.43\" cy=\"91.94\" r=\"11.04\" />\r\n                        <circle class=\"loader-cls-13\" cx=\"109.47\" cy=\"114.89\" r=\"11.04\" />\r\n                        <circle class=\"loader-cls-1\" cx=\"84.63\" cy=\"128.07\" r=\"11.04\" transform=\"translate(-55.35 191.1) rotate(-80.78)\" />\r\n                        <circle class=\"loader-cls-5\" cx=\"55.37\" cy=\"128.07\" r=\"11.04\" transform=\"translate(-74.35 76.66) rotate(-45)\" />\r\n                        <circle class=\"loader-cls-7\" cx=\"30.53\" cy=\"114.89\" r=\"11.04\" />\r\n                        <circle class=\"loader-cls-4\" cx=\"14.57\" cy=\"91.94\" r=\"11.04\" />\r\n                        <circle class=\"loader-cls-9\" cx=\"11.04\" cy=\"63.01\" r=\"11.04\" />\r\n                        <circle class=\"loader-cls-6\" cx=\"21.22\" cy=\"36.51\" r=\"11.04\" transform=\"translate(-19.6 25.7) rotate(-45)\" />\r\n                        <circle class=\"loader-cls-2\" cx=\"42.06\" cy=\"18\" r=\"11.04\" />\r\n                        <circle cx=\"70\" cy=\"11.04\" r=\"11.04\" />\r\n                        </g>\r\n                        <animateTransform\r\n                        attributeName=\"transform\"\r\n                        type=\"rotate\"\r\n                        from=\"0 70 70\"\r\n                        to=\"360 70 70\"\r\n                        dur=\"1s\"\r\n                        repeatCount=\"indefinite\"\r\n                        />\r\n                    </g>\r\n                    </svg>\r\n          `;\r\n  }\r\n\r\n\r\nexport function rainy() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 380.22 370.91\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"meteo-icon-svg\" d=\"M141.41,251.36l-32.02,55.87M172.51,286.52l-44.07,76.88M243.91,251.36l-32.02,55.87M167.63,216.29c134.94,0,103.8,0,123.38,0,45.13,0,81.7-33.46,81.7-74.74s-36.58-74.75-81.7-74.75c-5.66,0-11.2.53-16.54,1.53-15.18-35.6-53.02-60.83-97.32-60.83-57.67,0-104.42,42.77-104.42,95.53v1.38c-1.32-.08-2.66-.13-4.02-.13-33.81,0-61.22,25.08-61.22,56.01s27.41,56,61.22,56h98.91Z\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function cloudeCoverage() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 358.91 295.78\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"meteo-icon-svg\" d=\"M163.15,120.82c5.05-27.28,27.53-49.16,56.53-52.19,35.3-3.69,66.91,21.94,70.61,57.24,1.97,18.83-4.41,36.61-16.14,49.66M216.64,31.76l-2.53-24.26,2.53,24.26h0ZM167.55,50.12l-14.33-19.74,14.33,19.74h0ZM134.22,90.57l-22.28-9.93,22.28,9.93h0ZM318.5,174.53l22.28,9.94-22.28-9.94h0ZM327.14,122.84l24.26-2.54-24.26,2.54h0ZM308.79,73.74l19.74-14.33-19.74,14.33h0ZM268.34,40.41l9.93-22.28-9.93,22.28h0ZM133.38,288.28c106.07,0,81.59,0,96.99,0,35.47,0,64.22-26.31,64.22-58.76s-28.75-58.76-64.22-58.76c-4.45,0-8.8.42-13,1.21-11.93-27.99-41.68-47.82-76.5-47.82-45.33,0-82.08,33.62-82.08,75.09v1.08c-1.04-.06-2.09-.1-3.16-.1-26.58,0-48.12,19.71-48.12,44.02s21.54,44.02,48.12,44.02h77.76Z\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function uvIndex() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 361.09 361.09\">\r\n                <defs>\r\n                    <style>\r\n                    .cls-2 {\r\n                        fill: #fff;\r\n                        font-family: MyriadPro-Regular, 'Myriad Pro';\r\n                        font-size: 100px;\r\n                    }\r\n                    </style>\r\n                </defs>\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"meteo-icon-svg\" d=\"M180.54,83.01c53.87,0,97.54,43.67,97.54,97.54s-43.67,97.54-97.54,97.54-97.54-43.67-97.54-97.54,43.67-97.54,97.54-97.54h0Z\"/>\r\n                    <polyline class=\"meteo-icon-svg\" points=\"181.67 7.5 181.67 41.1 181.67 41.1 181.67 7.5\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"111.8 59.22 95 30.12 111.8 59.22 111.8 59.22\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"60.34 109.84 31.25 93.04 60.34 109.84 60.34 109.84\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"41.1 179.41 7.5 179.41 41.1 179.41 41.1 179.41\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"59.21 249.29 30.11 266.09 59.21 249.29 59.21 249.29\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"109.84 300.75 93.04 329.84 109.84 300.75 109.84 300.75\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"179.41 319.99 179.41 353.59 179.41 319.99 179.41 319.99\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"249.29 301.87 266.09 330.97 249.29 301.87 249.29 301.87\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"300.74 251.25 329.84 268.05 300.74 251.25 300.74 251.25\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"319.99 181.68 353.59 181.68 319.99 181.68 319.99 181.68\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"301.88 111.8 330.97 95 301.88 111.8 301.88 111.8\"/>\r\n                    <polygon class=\"meteo-icon-svg\" points=\"251.25 60.35 268.04 31.25 251.25 60.35 251.25 60.35\"/>\r\n                    <text class=\"meteo-icon-svg-cl2\" transform=\"translate(120.14 209.9)\"><tspan x=\"0\" y=\"0\">UV</tspan></text>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n  \r\n  export function temperature() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 243.22 384.87\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"meteo-icon-svg\" d=\"M92.84,7.5h.69c20.38,0,37.06,16.67,37.06,37.06v170.03c28.58,13.89,48.28,43.19,48.28,77.1,0,47.32-38.36,85.68-85.68,85.68S7.5,339.01,7.5,291.69c0-33.91,19.7-63.21,48.28-77.1V44.56c0-20.38,16.67-37.06,37.06-37.06h0ZM93.18,256.31c19.54,0,35.38,15.84,35.38,35.38s-15.84,35.38-35.38,35.38-35.38-15.84-35.38-35.38,15.84-35.38,35.38-35.38h0ZM93.18,252.69V99.36M235.72,45.34h-61.85M209.66,82.48h-35.79M235.72,119.62h-61.85M209.66,156.77h-35.79M235.72,193.91h-61.85\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function clearnight() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 339.7 364.5\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"meteo-icon-svg\" d=\"M332.2,277.32c-25.62,38.87-66.15,67.05-113.46,76.35-11.1,2.18-22.59,3.33-34.33,3.33-84.49,0-155.15-59.24-172.71-138.43-2.74-12.39-4.2-25.26-4.2-38.47C7.5,95.77,66.5,25.24,145.48,7.5c-18.39,27.9-29.11,61.31-29.11,97.23,0,97.7,79.21,176.9,176.9,176.9,13.38,0,26.4-1.49,38.93-4.31h0Z\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function cloudy() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 378.11 295.31\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"meteo-icon-svg\" d=\"M185.9,287.81c72.89,0,52.49,0,68.8,0,37.58,0,68.04-27.87,68.04-62.24s-30.46-62.24-68.04-62.24c-4.72,0-9.32.44-13.77,1.28-12.64-29.65-44.16-50.66-81.04-50.66-48.03,0-86.96,35.62-86.96,79.55v1.15c-1.1-.07-2.22-.1-3.35-.1-28.16,0-50.98,20.88-50.98,46.64s22.82,46.64,50.98,46.64h116.32ZM33.03,194.86c-15.71-13.55-25.53-32.77-25.53-54.09,0-41.05,36.37-74.31,81.23-74.31,5.63,0,11.13.53,16.44,1.52,15.09-35.4,52.72-60.48,96.76-60.48,57.34,0,103.82,42.52,103.82,94.98l-.02,1.37c1.33-.08,2.67-.12,4.02-.12,33.61,0,60.86,24.93,60.86,55.68,0,23.95-16.53,44.36-39.71,52.22\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function day() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 361.09 361.09\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"meteo-icon-svg\" d=\"M180.54,83.01c53.87,0,97.54,43.67,97.54,97.54s-43.67,97.54-97.54,97.54-97.54-43.67-97.54-97.54,43.67-97.54,97.54-97.54h0ZM181.67,41.1V7.5v33.6h0ZM111.8,59.22l-16.8-29.1,16.8,29.1h0ZM60.34,109.84l-29.1-16.8,29.1,16.8h0ZM41.1,179.41H7.5h33.6ZM59.21,249.29l-29.1,16.8,29.1-16.8h0ZM109.84,300.75l-16.8,29.1,16.8-29.1h0ZM179.41,319.99v33.6-33.6h0ZM249.29,301.87l16.8,29.1-16.8-29.1h0ZM300.74,251.25l29.1,16.8-29.1-16.8h0ZM319.99,181.68h33.6-33.6ZM301.88,111.8l29.09-16.8-29.09,16.8h0ZM251.25,60.35l16.8-29.1-16.8,29.1h0Z\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function partlycloudy() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 388.11 361.09\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"meteo-icon-svg\" d=\"M267.64,224.5c-16.07,31.79-49.04,53.59-87.1,53.59-53.87,0-97.53-43.67-97.53-97.54s43.67-97.54,97.53-97.54c22.11,0,39.94,5.3,56,17.46M181.67,41.1V7.5v33.6h0ZM111.8,59.22l-16.8-29.1,16.8,29.1h0ZM60.34,109.84l-29.1-16.8,29.1,16.8h0ZM41.1,179.42H7.5h33.6ZM59.21,249.29l-29.1,16.8,29.1-16.8h0ZM109.84,300.75l-16.8,29.1,16.8-29.1h0ZM179.41,319.99v33.6-33.6h0ZM249.29,301.87l16.8,29.1-16.8-29.1h0ZM300.75,251.25l29.1,16.8-29.1-16.8h0ZM251.25,60.35l16.8-29.1-16.8,29.1h0ZM279.72,224.41c53.74,0,38.7,0,50.72,0,27.7,0,50.16-20.54,50.16-45.89s-22.46-45.89-50.16-45.89c-3.48,0-6.88.33-10.16.94-9.32-21.86-32.56-37.35-59.75-37.35-35.41,0-64.12,26.26-64.12,58.66v.84c-.81-.05-1.63-.07-2.47-.07-20.76,0-37.59,15.39-37.59,34.39s16.83,34.39,37.59,34.39h85.77Z\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function hail() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 380.21 320.89\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"meteo-icon-svg\" d=\"M291.02,216.29c45.12,0,81.7-33.46,81.7-74.74s-36.58-74.75-81.7-74.75c-5.67,0-11.2.53-16.54,1.53-15.18-35.6-53.02-60.83-97.32-60.83-57.67,0-104.42,42.77-104.42,95.53l.02,1.38c-1.33-.08-2.68-.12-4.04-.12-33.81,0-61.22,25.07-61.22,56s27.41,56,61.22,56h38.15\"/>\r\n                    <circle class=\"meteo-icon-svg\" cx=\"158.23\" cy=\"156.15\" r=\"30.79\"/>\r\n                    <circle class=\"meteo-icon-svg\" cx=\"216.54\" cy=\"234.77\" r=\"17.04\"/>\r\n                    <circle class=\"meteo-icon-svg\" cx=\"131.36\" cy=\"292.43\" r=\"20.97\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function lightningrainy() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 380.22 370.9\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"meteo-icon-svg\" d=\"M204.32,251.37l-32.02,55.86M235.41,286.53l-44.07,76.88M306.81,251.37l-32.02,55.86M218.99,216.29c87.52,0,52.44,0,72.02,0,45.12,0,81.7-33.46,81.7-74.75s-36.58-74.74-81.7-74.74c-5.67,0-11.2.53-16.54,1.53-15.18-35.6-53.02-60.83-97.32-60.83-57.67,0-104.42,42.77-104.42,95.53l.02,1.38c-1.34-.08-2.68-.12-4.04-.12-33.81,0-61.22,25.07-61.22,56,0,22.03,13.9,41.08,34.11,50.23M70.8,337.51l39.72-93.62-39.07.59,44.38-100.99,57.21-.15-49.62,73.39,48.82.22-101.43,120.57h0Z\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function lightning() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 380.22 345\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"cls-1\" d=\"M219,216.29c87.52,0,52.44,0,72.02,0,45.12,0,81.7-33.46,81.7-74.74s-36.58-74.75-81.7-74.75c-5.67,0-11.2.53-16.54,1.53-15.18-35.6-53.02-60.83-97.32-60.83-57.67,0-104.42,42.77-104.42,95.53v1.38c-1.32-.08-2.66-.13-4.02-.13-33.81,0-61.22,25.07-61.22,56.01,0,22.02,13.9,41.08,34.11,50.23M70.81,337.5l39.71-93.63-39.06.59,44.38-100.99,57.2-.15-49.62,73.4,48.81.21-101.43,120.57h0Z\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function partlycloudynight() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 367.62 364.5\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"cls-1\" d=\"M188.35,247.17c29.35,21.65,65.64,34.46,104.93,34.46,13.38,0,26.4-1.49,38.93-4.31-25.62,38.87-66.16,67.05-113.46,76.35-11.1,2.18-22.59,3.33-34.33,3.33-84.49,0-155.15-59.24-172.71-138.43-2.74-12.39-4.2-25.26-4.2-38.47C7.5,95.77,66.5,25.24,145.47,7.5c-18.39,27.9-29.11,61.31-29.11,97.23,0,17.42,2.52,34.26,7.21,50.15M230.96,245.51c68.8,0,49.54,0,64.94,0,35.47,0,64.22-26.3,64.22-58.75s-28.75-58.76-64.22-58.76c-4.45,0-8.8.42-13,1.21-11.93-27.99-41.68-47.82-76.5-47.82-45.33,0-82.08,33.62-82.08,75.09l.02,1.08c-1.05-.06-2.11-.1-3.18-.1-26.58,0-48.12,19.71-48.12,44.02s21.54,44.02,48.12,44.02h109.8Z\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function pouring() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 380.22 341.95\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"cls-1\" d=\"M101.38,253.02l-46.68,81.44M167.63,216.29c134.94,0,103.8,0,123.38,0,45.12,0,81.7-33.46,81.7-74.74s-36.58-74.74-81.7-74.74c-5.67,0-11.2.53-16.54,1.53-15.18-35.61-53.03-60.84-97.32-60.84-57.67,0-104.42,42.77-104.42,95.53l.02,1.38c-1.34-.08-2.68-.12-4.04-.12-33.81,0-61.22,25.07-61.22,56.01s27.4,56,61.22,56h98.91ZM157.19,255.12l-45.09,78.66M213,255.12l-45.1,78.66M268.8,255.12l-45.1,78.66\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function snowyrainy() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 380.21 351.11\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"cls-1\" d=\"M291.02,216.29c45.12,0,81.7-33.46,81.7-74.74s-36.58-74.75-81.7-74.75c-5.67,0-11.2.53-16.54,1.53-15.18-35.6-53.02-60.83-97.32-60.83-57.67,0-104.42,42.77-104.42,95.53l.02,1.38c-1.33-.08-2.68-.12-4.04-.12-33.81,0-61.22,25.07-61.22,56s27.41,56,61.22,56h38.15\"/>\r\n                    <line class=\"cls-1\" x1=\"230.73\" y1=\"188.11\" x2=\"230.73\" y2=\"262.38\"/>\r\n                    <line class=\"cls-1\" x1=\"262.89\" y1=\"243.81\" x2=\"198.57\" y2=\"206.68\"/>\r\n                    <line class=\"cls-1\" x1=\"198.57\" y1=\"243.81\" x2=\"262.89\" y2=\"206.68\"/>\r\n                    <line class=\"cls-1\" x1=\"87.02\" y1=\"248.3\" x2=\"42.95\" y2=\"325.17\"/>\r\n                    <line class=\"cls-1\" x1=\"158.42\" y1=\"213.14\" x2=\"126.4\" y2=\"269\"/>\r\n                    <line class=\"cls-1\" x1=\"180.4\" y1=\"292.11\" x2=\"180.4\" y2=\"343.61\"/>\r\n                    <line class=\"cls-1\" x1=\"202.7\" y1=\"330.74\" x2=\"158.1\" y2=\"304.99\"/>\r\n                    <line class=\"cls-1\" x1=\"158.1\" y1=\"330.74\" x2=\"202.7\" y2=\"304.99\"/>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function windyvariant() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 356.02 280.76\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <path class=\"cls-1\" d=\"M291.02,66.8c-5.67,0-11.2.53-16.54,1.53-15.18-35.6-53.02-60.83-97.32-60.83-57.67,0-104.42,42.77-104.42,95.53l.02,1.38c-1.34-.08-2.68-.12-4.04-.12-33.81,0-61.22,25.07-61.22,56.01s27.41,56,61.22,56h51.5\"/>\r\n                    <g>\r\n                    <path class=\"cls-1\" d=\"M348.22,184.2h-192.03c-20.45,0-37.03-16.58-37.03-37.03s16.58-37.03,37.03-37.03c10.23,0,19.49,4.15,26.19,10.85,6.7,6.7,10.85,15.96,10.85,26.18\"/>\r\n                    <path class=\"cls-1\" d=\"M309.75,211.05h-118.17c-17.18,0-31.1,13.93-31.1,31.1s13.93,31.1,31.1,31.1,31.1-13.93,31.1-31.1\"/>\r\n                    <path class=\"cls-1\" d=\"M348.52,157.27h-107.28c-14.65,0-26.53-11.88-26.53-26.53,0-14.65,11.88-26.53,26.53-26.53,7.33,0,13.96,2.97,18.76,7.77,4.8,4.8,7.77,11.43,7.77,18.76\"/>\r\n                    </g>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function windy() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 423.96 316.44\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <g>\r\n                    <path class=\"cls-1\" d=\"M284.4,84.11c0-18.24,7.39-34.74,19.34-46.69,11.95-11.95,28.46-19.35,46.69-19.35,36.47,0,66.03,29.56,66.03,66.03s-29.56,66.03-66.03,66.03H8.03\"/>\r\n                    <path class=\"cls-1\" d=\"M231.88,253.48c0,30.63,24.83,55.46,55.46,55.46s55.46-24.83,55.46-55.46-24.83-55.46-55.46-55.46H76.63\"/>\r\n                    <path class=\"cls-1\" d=\"M151.47,54.81c0-13.06,5.29-24.89,13.86-33.45,8.56-8.56,20.39-13.86,33.45-13.86,26.13,0,47.31,21.18,47.31,47.31s-21.18,47.31-47.31,47.31H7.5\"/>\r\n                    </g>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }\r\n\r\n  export function fog() {\r\n    return html`<svg id=\"Livello_2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 445.43 211.55\">\r\n                <g id=\"Livello_1-2\" data-name=\"Livello_1\">\r\n                    <g>\r\n                    <line class=\"cls-1\" x1=\"7.5\" y1=\"204.05\" x2=\"281.18\" y2=\"204.05\"/>\r\n                    <line class=\"cls-1\" x1=\"59.75\" y1=\"164.74\" x2=\"383.19\" y2=\"164.74\"/>\r\n                    <line class=\"cls-1\" x1=\"17.45\" y1=\"125.43\" x2=\"313.53\" y2=\"125.43\"/>\r\n                    <line class=\"cls-1\" x1=\"159.27\" y1=\"86.12\" x2=\"437.93\" y2=\"86.12\"/>\r\n                    <line class=\"cls-1\" x1=\"72.19\" y1=\"46.81\" x2=\"286.16\" y2=\"46.81\"/>\r\n                    <line class=\"cls-1\" x1=\"146.83\" y1=\"7.5\" x2=\"370.75\" y2=\"7.5\"/>\r\n                    </g>\r\n                </g>\r\n                </svg>\r\n          `;\r\n  }","import { html } from 'lit';\r\n\r\nexport function pvIcon(state) {\r\n    return html`\r\n        <svg id=\"Livello_1\" xmlns=\"http://www.w3.org/2000/svg\"  version=\"1.1\" viewBox=\"0 0 200 200\">\r\n          <defs>\r\n            <style>\r\n              .st0 {\r\n                fill: #465e5e;\r\n              }\r\n\r\n              .st1 {\r\n                fill: #fffeff;\r\n              }\r\n\r\n              .st3 {\r\n                fill: #5e7574;\r\n              }\r\n\r\n              .st4 {\r\n                fill: #4d636c;\r\n              }\r\n\r\n              .st5 {\r\n                fill: #7b908e;\r\n              }\r\n\r\n              .st6 {\r\n                fill: #b1bfbe;\r\n              }\r\n\r\n              .st7 {\r\n                fill: #91a3a2;\r\n              }\r\n            </style>\r\n          </defs>\r\n          <g id=\"Oggetto_generativo\">\r\n            <g>\r\n            <foreignObject id=\"foreign\" class=\"st1\" x=\"25\" y=\"158\" width=\"152\" height=\"34\">\r\n                <div xmlns=\"http://www.w3.org/1999/xhtml\" \r\n                  style=\"\r\n                  display: flex;\r\n                  justify-content: center;\r\n                  align-items: center;\r\n                  width: 100%;\r\n                  height: 100%;\r\n                  font-size: 34px;\r\n                  text-align: center;\r\n                  \">\r\n              <!-- Inserisci qui il contenuto che desideri -->\r\n              <p>${state}w</p>\r\n            </div>\r\n          </foreignObject>\r\n              <g>\r\n                <polygon class=\"st1\" points=\"33.01 96.79 166.88 96.79 167 104.87 108.14 105.22 108.02 118.91 123.58 119.03 123.58 130.96 76.31 130.96 76.31 119.03 91.87 118.91 91.75 105.22 33.24 105.22 33.01 96.79\"/>\r\n                <path class=\"st4\" d=\"M166.53,93.52c.02.43.58,2.25.12,2.57H33.01c-1.27-4.06,4.46-1.53,6.67-2.57h126.85Z\"/>\r\n                <g>\r\n                  <path class=\"st1\" d=\"M166.53,93.52H33.48l-.35-.59,12.29-52.31h109.06l12.29,52.07c.06.52-.24.64-.23.82Z\"/>\r\n                  <polygon class=\"st5\" points=\"136.22 78.77 158.93 78.77 161.85 90.82 138.1 91.17 136.22 78.77\"/>\r\n                  <polygon class=\"st5\" points=\"100.41 78.77 122.41 78.77 123.7 91.06 100.41 91.17 100.41 78.77\"/>\r\n                  <polygon class=\"st0\" points=\"41.2 78.77 63.2 78.77 61.91 90.82 38.39 91.17 41.2 78.77\"/>\r\n                  <polygon class=\"st3\" points=\"77.01 78.77 98.54 79 98.66 91.06 75.84 91.17 77.01 78.77\"/>\r\n                  <polygon class=\"st7\" points=\"134.12 65.9 156.12 65.9 158.81 77.48 135.99 77.83 134.12 65.9\"/>\r\n                  <polygon class=\"st5\" points=\"99.95 65.9 121.24 65.9 122.53 77.48 100.18 77.83 99.95 65.9\"/>\r\n                  <polygon class=\"st5\" points=\"77.71 65.9 98.54 65.9 98.66 77.72 76.78 77.6 77.71 65.9\"/>\r\n                  <polygon class=\"st0\" points=\"43.54 65.9 64.84 65.9 63.55 77.48 41.2 77.6 43.54 65.9\"/>\r\n                  <polygon class=\"st7\" points=\"132.48 53.96 153.54 53.96 156 64.61 133.88 64.73 132.48 53.96\"/>\r\n                  <polygon class=\"st7\" points=\"100.18 53.96 120.07 53.96 121.36 64.61 99.95 64.73 100.18 53.96\"/>\r\n                  <polygon class=\"st3\" points=\"46.12 53.96 66.48 54.2 65.19 64.61 44.01 64.73 46.12 53.96\"/>\r\n                  <polygon class=\"st5\" points=\"78.65 53.96 98.54 53.96 98.66 64.61 77.71 64.73 78.65 53.96\"/>\r\n                  <polygon class=\"st6\" points=\"130.84 42.73 151.44 42.73 153.43 52.91 132.24 53.03 130.84 42.73\"/>\r\n                  <polygon class=\"st7\" points=\"100.41 42.73 119.14 42.73 120.19 52.91 99.95 53.03 99.83 43.08 100.41 42.73\"/>\r\n                  <path class=\"st5\" d=\"M88.48,42.73c1.28-.04,10.19-.15,10.41.35l-.35,9.95-20.01-.12.7-9.83c3.08-.03,6.18-.26,9.24-.35Z\"/>\r\n                  <path class=\"st3\" d=\"M67.18,42.73c.2.02.47-.09.59.12l-1.29,10.18-20.24-.35,1.99-9.71,18.96-.23Z\"/>\r\n                  <polygon class=\"st5\" points=\"124.05 78.77 134.7 79.12 136.22 91.17 125.11 91.06 124.05 78.77\"/>\r\n                  <polygon class=\"st3\" points=\"64.84 78.77 75.25 79.12 73.97 91.17 63.32 91.06 64.84 78.77\"/>\r\n                  <polygon class=\"st7\" points=\"122.65 65.9 132.83 66.02 134.35 77.83 123.7 77.48 122.65 65.9\"/>\r\n                  <polygon class=\"st3\" points=\"66.24 65.9 76.42 66.02 75.14 77.83 64.96 77.72 66.24 65.9\"/>\r\n                  <polygon class=\"st5\" points=\"67.88 53.96 77.36 54.31 76.31 64.73 66.36 64.61 67.88 53.96\"/>\r\n                  <polygon class=\"st7\" points=\"121.71 53.96 130.84 53.96 132.6 64.61 122.65 64.73 121.71 53.96\"/>\r\n                  <polygon class=\"st5\" points=\"69.29 42.73 78.3 43.08 77.24 53.03 67.77 52.67 69.29 42.73\"/>\r\n                  <path class=\"st6\" d=\"M120.78,42.73l8.78.12,1.05,10.18-9.24-.12c-.09-1.37-1.42-9.79-.59-10.18Z\"/>\r\n                </g>\r\n              </g>\r\n            </g>\r\n          </g>\r\n        </svg>\r\n    `;\r\n  }\r\n\r\n\r\n  \r\n\r\n\r\n  export function battery(state, batteryPercentageState) {\r\n    return html`\r\n<svg id=\"Battery\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 200 200\">\r\n  <defs>\r\n    <style>\r\n      .battBackground {\r\n        fill: ${batteryPercentageState > 23 ? '#009245' : 'red'};\r\n        ${state < 0  ? 'animation: slide-in-out 2s infinite;' : ' '}\r\n    </style>\r\n    <linearGradient id=\"Sfumatura_icon\" data-name=\"Sfumatura icon\" x1=\"5.79\" y1=\"-680\" x2=\"5.79\" y2=\"-560\" gradientTransform=\"translate(-520 80) rotate(90)\" gradientUnits=\"userSpaceOnUse\">\r\n      <stop offset=\"0\" stop-color=\"#e7dfdc\"/>\r\n      <stop offset=\"1\" stop-color=\"#b8b9ba\"/>\r\n    </linearGradient>\r\n  </defs>\r\n  <text class=\"white font43\" transform=\"translate(51.09 175.53)\"><tspan x=\"0\" y=\"0\">${state}w</tspan></text>\r\n  <rect id=\"back_x5F_battery\" class=\"battBackground\" x=\"65\" y=\"50\" width=\"60\" height=\"${batteryPercentageState}\" transform=\"translate(-5 195) rotate(-90)\"/>\r\n  <path id=\"battery\" class=\"battColor\" d=\"M150,129v-14h5.52c2.47,0,4.48-2.01,4.48-4.48v-21.04c0-2.47-2.01-4.48-4.48-4.48h-5.52v-14c0-3.31-2.69-6-6-6H46c-3.31,0-6,2.69-6,6v58c0,3.31,2.69,6,6,6h98c3.31,0,6-2.69,6-6ZM49,130c-2.21,0-4-1.79-4-4v-52c0-2.21,1.79-4,4-4h17v60h-17ZM69,130v-60h24v60h-24ZM96,130v-60h24v60h-24ZM123,130v-60h18c2.21,0,4,1.79,4,4v52c0,2.21-1.79,4-4,4h-18Z\"/>\r\n  <text id=\"percentage\" class=\"white font36\" transform=\"translate(67.28 52)\"><tspan x=\"0\" y=\"0\">${batteryPercentageState}%</tspan></text>\r\n  </svg>\r\n     `;\r\n  }\r\n\r\n  export function gridPower(gridPower) {\r\n    return html`\r\n        <svg id=\"grid\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 200 200\">\r\n          \r\n          <g id=\"traliccio\" class=\"opcity76\">\r\n            <path class=\"gridIconColor\" d=\"M76.91,77.4s0,.03,0,.05c0,.16-.03.31-.09.44h13.01v-.49h-12.92Z\"/>\r\n            <path class=\"gridIconColor\" d=\"M122.86,77.45s0-.03,0-.05h-12.53v.49h12.62c-.06-.14-.09-.28-.09-.44\"/>\r\n            <path class=\"gridIconColor\" d=\"M145.85,74.14s-.03-.01-.04-.01l-14.43,2.54c.13.12.22.28.28.45l14.17-2.49s.04-.02.04-.05v-.4s0-.03-.02-.04\"/>\r\n            <path class=\"gridIconColor\" d=\"M68.43,76.63l-14.24-2.51s-.03,0-.04.01c-.01,0-.02.02-.02.04v.4s.02.04.04.05l13.95,2.46c.06-.17.17-.32.3-.44\"/>\r\n            <path class=\"gridIconColor\" d=\"M68.06,79.41s0-.03,0-.05h-13.88s-.05.02-.05.05v.39s.02.05.05.05h13.97c-.06-.13-.09-.28-.09-.44\"/>\r\n            <path class=\"gridIconColor\" d=\"M76.91,79.36s0,.03,0,.05c0,.16-.03.31-.09.44h13.01v-.49h-12.92Z\"/>\r\n            <path class=\"gridIconColor\" d=\"M122.86,79.41s0-.03,0-.05h-12.53v.49h12.62c-.06-.13-.09-.28-.09-.44\"/>\r\n            <path class=\"gridIconColor\" d=\"M145.81,79.36h-14.11s0,.03,0,.05c0,.16-.03.31-.09.44h14.2s.05-.02.05-.05v-.39s-.02-.05-.05-.05\"/>\r\n            <path class=\"gridIconColor\" d=\"M126.99,68.6v2.31c0,.16.13.29.29.29s.29-.13.29-.29v-2.31h-.59Z\"/>\r\n            <path class=\"gridIconColor\" d=\"M131.02,75.49c0-.23-.19-.4-.42-.42-.49-.03-1.31-.14-1.88-.58-.19-.14-.33-.34-.44-.55h2.32c.23,0,.42-.19.42-.42s-.19-.4-.42-.42c-.49-.03-1.31-.14-1.88-.58-.49-.38-.68-1.09-.72-1.5-.04-.39-.32-.72-.72-.72s-.7.32-.72.72c-.02.41-.09,1.04-.7,1.5-.6.46-1.4.56-1.9.58-.23.01-.42.19-.42.42s.19.42.42.42h2.37c-.1.19-.25.38-.47.55-.6.46-1.4.56-1.9.58-.23.01-.42.19-.42.42s.19.42.42.42h2.37c-.1.19-.25.38-.47.55-.6.46-1.4.56-1.9.58-.23.01-.42.19-.42.42s.19.42.42.42h2.37c-.1.19-.25.38-.47.55-.6.46-1.4.56-1.9.58-.23.01-.42.19-.42.42s.19.42.42.42h6.63c.23,0,.42-.19.42-.42s-.19-.4-.42-.42c-.49-.03-1.31-.14-1.88-.58-.19-.14-.33-.34-.44-.55h2.32c.23,0,.42-.19.42-.42s-.19-.4-.42-.42c-.49-.03-1.31-.14-1.88-.58-.19-.14-.33-.34-.44-.55h2.32c.23,0,.42-.19.42-.42\"/>\r\n            <path class=\"gridIconColor\" d=\"M72.19,68.58v2.33c0,.16.13.29.29.29s.29-.13.29-.29v-2.33h-.59Z\"/>\r\n            <path class=\"gridIconColor\" d=\"M76.22,75.49c0-.23-.19-.4-.42-.42-.49-.03-1.31-.14-1.88-.58-.19-.14-.33-.34-.44-.55h2.32c.23,0,.42-.19.42-.42s-.19-.4-.42-.42c-.49-.03-1.31-.14-1.88-.58-.49-.38-.68-1.09-.72-1.5-.04-.39-.32-.72-.72-.72s-.7.32-.72.72c-.02.41-.09,1.04-.7,1.5-.6.46-1.4.56-1.9.58-.23.01-.42.19-.42.42s.19.42.42.42h2.37c-.1.19-.25.38-.47.55-.6.46-1.4.56-1.9.58-.23.01-.42.19-.42.42s.19.42.42.42h2.37c-.1.19-.25.38-.47.55-.6.46-1.4.56-1.9.58-.23.01-.42.19-.42.42s.19.42.42.42h2.37c-.1.19-.25.38-.47.55-.6.46-1.4.56-1.9.58-.23.01-.42.19-.42.42s.19.42.42.42h6.63c.23,0,.42-.19.42-.42s-.19-.4-.42-.42c-.49-.03-1.31-.14-1.88-.58-.19-.14-.33-.34-.44-.55h2.32c.23,0,.42-.19.42-.42s-.19-.4-.42-.42c-.49-.03-1.31-.14-1.88-.58-.19-.14-.33-.34-.44-.55h2.32c.23,0,.42-.19.42-.42\"/>\r\n            <path class=\"gridIconColor\" d=\"M131.18,66.22l-21.88-11.48c-.1-.08-.23-.14-.36-.17l-8.41-20.68c-.07-.18-.25-.31-.45-.31s-.38.12-.45.31l-8.41,20.68s0,0,0,0c-.05.01-.1.03-.14.04-.01,0-.02.01-.04.02-.02,0-.03.01-.05.02l-22.06,11.57c-.36.19-.54.6-.45.99.1.39.45.67.86.67h21.18v22.14l-13.87,46.85c-.11.37.04.78.36.99.15.09.31.14.48.14.2,0,.41-.07.57-.21l13.08-11.18h17.87l13.08,11.18c.16.14.37.21.57.21.17,0,.33-.05.48-.14.33-.21.48-.61.36-.99l-9.12-30.82-4.74-16.02v-22.12h21.18c.49,0,.88-.39.88-.88,0-.36-.22-.67-.53-.81M118.08,66.14l-2.24-5.99,5.67,2.97-3.37,3.01h-.06ZM111.73,126.61h6.73l-2.35,3.74-4.38-3.74ZM82.02,66.12l-3.37-3.01,5.67-2.97-2.24,5.99h-.06ZM85.57,59.6l4.61,6.53h-7.05l2.45-6.53ZM94.47,49.17l11.27,5.38h-13.45l2.19-5.38ZM97.91,40.72l5.19,3.26-7.98,3.58,2.78-6.85ZM107.84,54.47l-12.47-5.95,8.5-3.82,3.97,9.76ZM107.88,65.83l-6.92-4.61,6.92-4.61v9.22ZM106.56,66.12h-12.96l6.48-4.32,6.48,4.32ZM106.56,56.31l-6.48,4.32-6.48-4.32h12.96ZM99.2,61.22l-6.92,4.61v-9.22l6.92,4.61ZM106.56,67.88l-6.48,4.32-6.48-4.32h12.96ZM99.2,72.79l-6.92,4.61v-9.22l6.92,4.61ZM93.44,91.03h13.29l-6.64,4.84-6.64-4.84ZM99.25,96.48l-11.23,8.19,3.99-13.47,7.24,5.28ZM100.08,97.08l11.43,8.34h-22.87l11.43-8.34ZM100.91,96.48l7.24-5.28,3.99,13.47-11.23-8.19ZM111.15,107.18l-11.07,9.46-11.07-9.46h22.14ZM93.6,89.27l6.48-4.32,6.48,4.32h-12.96ZM92.28,88.97v-9.22l6.92,4.61-6.92,4.61ZM87.08,107.85l11.07,9.46h-13.87l2.8-9.46ZM113.08,107.85l2.8,9.46h-13.87l11.07-9.46ZM100.96,84.36l6.92-4.61v9.22l-6.92-4.61ZM100.08,83.77l-7.8-5.2,7.8-5.2,7.8,5.2-7.8,5.2ZM83.73,119.15l5.56,6.47h-7.48l1.92-6.47ZM81.22,127.65l2.1,3.33-.51.43h-2.71l1.11-3.77ZM84.06,130.34l-2.35-3.74h6.72l-4.37,3.74ZM84.28,118.29h13.88l-8,6.84-5.88-6.84ZM115.89,118.29l-5.89,6.85-8.01-6.85h13.89ZM117.35,131.42l-.5-.43,2.09-3.33,1.11,3.75h-2.71ZM110.88,125.63l5.55-6.46,1.91,6.46h-7.47ZM100.96,72.79l6.92-4.61v9.22l-6.92-4.61ZM114.59,59.62l2.45,6.53h-7.05l4.61-6.53ZM109.64,64.93v-8.02l4.13,2.17-4.13,5.85ZM100.08,35.37l3.03,7.46-4.83-3.04,1.8-4.42ZM90.52,64.91l-4.13-5.85,4.13-2.17v8.02ZM77.73,63.59l2.82,2.53h-7.64l4.82-2.53ZM92.29,125.63l7.79-6.66,7.79,6.66h-15.58ZM119.6,66.14l2.82-2.53,4.82,2.53h-7.64Z\"/>\r\n          </g>\r\n          <foreignObject id=\"foreign\" class=\"st1\" x=\"25\" y=\"158\" width=\"152\" height=\"34\">\r\n                <div xmlns=\"http://www.w3.org/1999/xhtml\" \r\n                  style=\"\r\n                  display: flex;\r\n                  justify-content: center;\r\n                  align-items: center;\r\n                  width: 100%;\r\n                  height: 100%;\r\n                  font-size: 34px;\r\n                  text-align: center;\r\n                  \">\r\n              <!-- Inserisci qui il contenuto che desideri -->\r\n              <p>${gridPower}w</p>\r\n            </div>\r\n          </foreignObject>\r\n        </svg>\r\n       `;\r\n  }\r\n\r\n//   export function home_no_meter(totalPower) {\r\n\r\n//     return html`\r\n//     <svg id=\"home\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 200 200\">\r\n//       <defs>\r\n//         <linearGradient id=\"home_gradient_1\" data-name=\"Sfumatura senza nome 137\" x1=\"61.53\" y1=\"91.73\" x2=\"140.14\" y2=\"106.85\" gradientUnits=\"userSpaceOnUse\">\r\n//           <stop offset=\"0\" stop-color=\"#dedfdf\"/>\r\n//           <stop offset=\"1\" stop-color=\"#9ca09f\"/>\r\n//         </linearGradient>\r\n//         <linearGradient id=\"home_gradient_2\" data-name=\"Sfumatura senza nome 138\" x1=\"52.04\" y1=\"60.27\" x2=\"148.68\" y2=\"67.3\" gradientUnits=\"userSpaceOnUse\">\r\n//           <stop offset=\"0\" stop-color=\"#ececec\"/>\r\n//           <stop offset=\"1\" stop-color=\"#9da09f\"/>\r\n//         </linearGradient>\r\n//       </defs>\r\n//       <text class=\"white font43\" transform=\"translate(43.07 176.31)\"><tspan x=\"0\" y=\"0\">${totalPower}w</tspan></text>\r\n//       <polygon class=\"home_st2\" points=\"99.54 59.67 138.62 85.48 138.3 131.29 112.08 130.98 111.97 90.43 87.43 90.74 87.33 131.29 60.89 130.98 60.89 85.27 99.54 59.67\"/>\r\n//       <polygon class=\"home_st0\" points=\"99.54 40.29 152.1 76.21 144.62 83.9 99.75 53.35 54.67 83.9 47.2 76.21 99.54 40.29\"/>\r\n//     </svg>\r\n//            `;\r\n//   }\r\n\r\n  export function home(totalPower, pvPercentage, batteryPercentage) {\r\n\r\n    return html`\r\n    <svg id=\"home\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 200 200\">\r\n      <defs>\r\n        <style>\r\n          .home_meter_st0 {\r\n            fill: #606060;\r\n          }\r\n\r\n          .home_meter_st0, .home_meter_st1 {\r\n            opacity: .56;\r\n            stroke: #4d4d4d;\r\n            stroke-miterlimit: 10;\r\n          }\r\n\r\n          .home_meter_st1 {\r\n            fill: url(#Sfumatura_senza_nome_28);\r\n          }\r\n\r\n          .home_meter_st2 {\r\n            fill: none;\r\n          }\r\n\r\n          .home_meter_st3 {\r\n            fill: url(#Sfumatura_senza_nome_138);\r\n          }\r\n\r\n          .home_meter_st4 {\r\n            fill: url(#sfumatura_traliccio);\r\n          }\r\n\r\n          .home_meter_st5 {\r\n            fill: url(#Sfumatura_senza_nome_137);\r\n          }\r\n        </style>\r\n        <linearGradient id=\"sfumatura_traliccio\" data-name=\"sfumatura traliccio\" x1=\"150.45\" y1=\"-8.54\" x2=\"49.91\" y2=\"207.72\" gradientUnits=\"userSpaceOnUse\">\r\n          <stop offset=\"0\" stop-color=\"#959c98\"/>\r\n          <stop offset=\"1\" stop-color=\"#254344\"/>\r\n        </linearGradient>\r\n        <linearGradient id=\"Sfumatura_senza_nome_137\" data-name=\"Sfumatura senza nome 137\" x1=\"61.88\" y1=\"105.94\" x2=\"140.49\" y2=\"121.06\" gradientUnits=\"userSpaceOnUse\">\r\n          <stop offset=\"0\" stop-color=\"#dedfdf\"/>\r\n          <stop offset=\"1\" stop-color=\"#9ca09f\"/>\r\n        </linearGradient>\r\n        <linearGradient id=\"Sfumatura_senza_nome_138\" data-name=\"Sfumatura senza nome 138\" x1=\"52.39\" y1=\"74.48\" x2=\"149.03\" y2=\"81.51\" gradientUnits=\"userSpaceOnUse\">\r\n          <stop offset=\"0\" stop-color=\"#ececec\"/>\r\n          <stop offset=\"1\" stop-color=\"#9da09f\"/>\r\n        </linearGradient>\r\n        <linearGradient id=\"Sfumatura_senza_nome_28\" data-name=\"Sfumatura senza nome 28\" x1=\"26.16\" y1=\"27\" x2=\"174.16\" y2=\"27\" gradientUnits=\"userSpaceOnUse\">\r\n          <stop offset=\"0\" stop-color=\"#51d400\"/>\r\n              <stop offset=\".${pvPercentage}\" stop-color=\"#51d400\"/>\r\n              <stop offset=\".${pvPercentage}\" stop-color=\"#ff9115\"/>\r\n              <stop offset=\".${pvPercentage + batteryPercentage}\" stop-color=\"#ff9115\"/>\r\n              <stop offset=\".${pvPercentage + batteryPercentage}\" stop-color=\"#2ac0ff\"/>\r\n        </linearGradient>\r\n      </defs>\r\n      <g id=\"casa\">\r\n        <g>\r\n          <path class=\"home_meter_st4\" d=\"M171.56.08H28.56C13.81,2.08,2.45,13.54.36,28.28c-.01,4.9-.03,9.81-.05,14.72C.23,61.85.07,80.71,0,99.57v2.49c-.05,24.04.09,48.07.82,72.03,2.78,12.03,11.78,21.52,23.75,24.69,49.82,1.71,100.17,1.25,150.03.24,14.23-3.22,24.46-15.5,25.39-30.08V30.62c-1-15.6-12.85-28.64-28.44-30.54Z\"/>\r\n          <path class=\"home_meter_st0\" d=\"M164.07,11.04c-.22-.03-.44-.04-.66-.04H36.73c-.24,0-.49.02-.73.05-12.84,1.9-22.72,11.87-24.7,24.7-.04.25-.05.5-.05.74,0,.63,0,1.26,0,1.9,0,2.54,2.06,4.61,4.6,4.61h168.62c2.54,0,4.6-2.06,4.6-4.6h0c0-.13,0-.26-.01-.4-.97-13.69-11.33-25.14-24.99-26.96Z\"/>\r\n          <g>\r\n            <polygon class=\"home_meter_st5\" points=\"99.89 73.88 138.97 99.68 138.65 145.5 112.43 145.18 112.32 104.63 87.78 104.95 87.68 145.5 61.24 145.18 61.24 99.47 99.89 73.88\"/>\r\n            <polygon class=\"home_meter_st3\" points=\"99.89 54.5 152.45 90.42 144.97 98.1 100.11 67.56 55.03 98.1 47.55 90.42 99.89 54.5\"/>\r\n          </g>\r\n        </g>\r\n      </g>\r\n      <foreignObject id=\"foreign\" class=\"st1\" x=\"25\" y=\"158\" width=\"152\" height=\"34\">\r\n                <div xmlns=\"http://www.w3.org/1999/xhtml\" \r\n                  style=\"\r\n                  display: flex;\r\n                  justify-content: center;\r\n                  align-items: center;\r\n                  width: 100%;\r\n                  height: 100%;\r\n                  font-size: 34px;\r\n                  text-align: center;\r\n                  \">\r\n                  <!-- Inserisci qui il contenuto che desideri -->\r\n                  <p>${totalPower}w</p>\r\n                </div>\r\n              </foreignObject>\r\n      <rect class=\"home_meter_st1\" x=\"26.16\" y=\"14.5\" width=\"148\" height=\"25\" rx=\"10\" ry=\"10\"/>\r\n    </svg>\r\n           `;\r\n  }\r\n\r\n\r\n\r\nexport function inverter() {\r\n  return html`\r\n\r\n<svg id=\"home\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 200 200\">\r\n  <path class=\"inverter_st1\" d=\"M76.67,174.39h-29.16c-4.3,0-7.78-5.55-7.78-12.42V37.79c0-6.87,3.47-12.42,7.78-12.42h104.97c4.3,0,7.78,5.55,7.78,12.42v124.18c0,6.87-3.47,12.42-7.78,12.42h-75.81Z\"/>\r\n  <path id=\"displaybottom\" class=\"inverter_st3\" d=\"M61.12,100.52h81.65c2.15,0,3.89,1.74,3.89,3.89v31.1c0,2.15-1.74,3.89-3.89,3.89H57.23c-2.15,0-3.89-1.74-3.89-3.89v-31.1c0-2.15,1.74-3.89,3.89-3.89h3.89Z\"/>\r\n  <text class=\"inverter_st4\" transform=\"translate(66.24 129.77)\"><tspan x=\"0\" y=\"0\">220v</tspan></text>\r\n  <path id=\"displayup\" class=\"inverter_st3\" d=\"M60.78,47.16h81.65c2.15,0,3.89,1.74,3.89,3.89v31.1c0,2.15-1.74,3.89-3.89,3.89H56.89c-2.15,0-3.89-1.74-3.89-3.89v-31.1c0-2.15,1.74-3.89,3.89-3.89h3.89Z\"/>\r\n  <text class=\"inverter_st4\" transform=\"translate(74.81 76.41)\"><tspan x=\"0\" y=\"0\">12v</tspan></text>\r\n  <g id=\"led\">\r\n    <circle class=\"inverter_st0\" cx=\"126.4\" cy=\"36.51\" r=\"3.34\"/>\r\n    <circle class=\"inverter_st0\" cx=\"99.66\" cy=\"36.51\" r=\"3.34\"/>\r\n    <circle class=\"inverter_st0\" cx=\"72.92\" cy=\"36.51\" r=\"3.34\"/>\r\n  </g>\r\n  <line class=\"inverter_st2\" x1=\"72.78\" y1=\"153.01\" x2=\"88.34\" y2=\"153.01\"/>\r\n  <line class=\"inverter_st2\" x1=\"72.78\" y1=\"160.78\" x2=\"88.34\" y2=\"160.78\"/>\r\n  <line class=\"inverter_st2\" x1=\"100\" y1=\"149.12\" x2=\"100\" y2=\"164.67\"/>\r\n  <path class=\"inverter_st2\" d=\"M127.22,156.9c0,2.14-1.75,3.89-3.89,3.89s-3.89-1.75-3.89-3.89-1.75-3.89-3.89-3.89-3.89,1.75-3.89,3.89\"/>\r\n  <path class=\"inverter_st2\" d=\"M76.67,174.39v7.78c0,3.23,2.6,5.83,5.83,5.83h3.89c3.23,0,5.83-2.6,5.83-5.83v-7.78\"/>\r\n  <path class=\"inverter_st2\" d=\"M107.78,174.39v7.78c0,3.23,2.6,5.83,5.83,5.83h3.89c3.23,0,5.83-2.6,5.83-5.83v-7.78\"/>\r\n  <path class=\"inverter_st2\" d=\"M123.33,25.61v-7.78c0-3.23-2.6-5.83-5.83-5.83h-3.89c-3.23,0-5.83,2.6-5.83,5.83v7.78\"/>\r\n  <path class=\"inverter_st2\" d=\"M92.22,25.61v-7.78c0-3.23-2.6-5.83-5.83-5.83h-3.89c-3.23,0-5.83,2.6-5.83,5.83v7.78\"/>\r\n</svg>\r\n`;\r\n}","import { css } from \"lit\";\r\nexport default css`\r\n  // **************  css svg  ***************\r\n\r\n  .foreign-content {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: 14px;\r\n    text-align: center;\r\n    color: #000;\r\n    background-color: yellow;\r\n  }\r\n  .st0 {\r\n    fill: #465e5e;\r\n  }\r\n\r\n  .st1 {\r\n    fill: #fffeff;\r\n  }\r\n\r\n  .st2 {\r\n    fill: #fff;\r\n    /* font-family: MyriadPro-Regular, 'Myriad Pro'; */\r\n    font-size: 43px;\r\n  }\r\n\r\n  .st3 {\r\n    fill: #5e7574;\r\n  }\r\n\r\n  .st4 {\r\n    fill: #4d636c;\r\n  }\r\n\r\n  .st5 {\r\n    fill: #7b908e;\r\n  }\r\n\r\n  .st6 {\r\n    fill: #b1bfbe;\r\n  }\r\n\r\n  .st7 {\r\n    fill: #91a3a2;\r\n  }\r\n\r\n  .battColor {\r\n    fill: url(#Sfumatura_icon);\r\n  }\r\n\r\n  .white {\r\n    fill: #fff;\r\n  }\r\n\r\n  .font43 {\r\n    font-size: 36px;\r\n  }\r\n\r\n  .font36 {\r\n    font-size: 36px;\r\n  }\r\n\r\n  .opacity76 {\r\n    opacity: 0.76;\r\n  }\r\n\r\n  .gridIconColor {\r\n    fill: #b3b3b3;\r\n  }\r\n\r\n  .batterypercent {\r\n    fill: url(#Sfumatura_senza_nome_48);\r\n    stroke: #254344;\r\n  }\r\n\r\n  .inverter_st0 {\r\n    fill: #69ea00;\r\n    stroke-miterlimit: 10;\r\n    stroke: #b3b3b3;\r\n    stroke-width: 2px;\r\n  }\r\n\r\n  .inverter_st1 {\r\n    fill: rgba(110, 0, 0, 0.6);\r\n    stroke: #b3b3b3;\r\n    stroke-width: 2px;\r\n    stroke-linecap: round;\r\n    stroke-linejoin: round;\r\n  }\r\n\r\n  .inverter_st2 {\r\n    fill: none;\r\n    stroke: #b3b3b3;\r\n    stroke-width: 2px;\r\n    stroke-linecap: round;\r\n    stroke-linejoin: round;\r\n  }\r\n\r\n  .inverter_st3 {\r\n    fill: rgba(0, 0, 0, 0.3);\r\n    stroke: #b3b3b3;\r\n    stroke-width: 2px;\r\n    stroke-linecap: round;\r\n    stroke-linejoin: round;\r\n  }\r\n\r\n  .inverter_st4 {\r\n    fill: #fff;\r\n    font-size: 26px;\r\n  }\r\n\r\n  .inverter_st5 {\r\n    fill: none;\r\n    stroke: #039;\r\n    stroke-width: 2px;\r\n    stroke-linecap: round;\r\n    stroke-linejoin: round;\r\n  }\r\n\r\n  .home_st0 {\r\n    fill: url(#home_gradient_2);\r\n  }\r\n\r\n  .home_st2 {\r\n    fill: url(#home_gradient_1);\r\n  }\r\n\r\n  // ***************fine svg *******************\r\n\r\n  @keyframes blinker {\r\n    50% {\r\n      opacity: 0;\r\n    }\r\n  }\r\n\r\n  @keyframes dash-move {\r\n    0% {\r\n      stroke-dashoffset: 20; /* Cambia il valore per regolare la velocit */\r\n    }\r\n    100% {\r\n      stroke-dashoffset: 0;\r\n    }\r\n  }\r\n\r\n  @keyframes draw-line {\r\n    0% {\r\n      stroke-dasharray: 0, 1000; /* Inizia da zero */\r\n    }\r\n    100% {\r\n      stroke-dasharray: 1000, 0; /* Completa la linea */\r\n    }\r\n  }\r\n\r\n  @keyframes slide-in-out {\r\n    0% {\r\n      height: 0;\r\n    }\r\n    100% {\r\n      height: 50%;\r\n    }\r\n  }\r\n\r\n  @keyframes circular-border {\r\n    0% {\r\n      border: 2px solid transparent;\r\n    }\r\n    50% {\r\n      border: 2px solid rgba(255, 0, 0, 0.7);\r\n    }\r\n    100% {\r\n      border: 2px solid transparent;\r\n    }\r\n  }\r\n\r\n  ha-card {\r\n    padding: 16px;\r\n    // display: flex;\r\n    // flex-direction: column;\r\n    // height: 92vh;\r\n    background: linear-gradient(180deg, #61716e, #253835);\r\n    display: grid;\r\n    grid-template-rows: 100px minmax(0, auto) 100px;\r\n  }\r\n\r\n  .line-style {\r\n    // stroke: red; /* Cambia questo valore con la tua variabile o colore */\r\n    stroke-width: 3;\r\n    stroke-dasharray: 5.5, 5;\r\n    opacity: 0.5;\r\n    fill: none;\r\n    stroke: #333333;\r\n    // stroke-width:4;\r\n    // stroke-miterlimit:10;\r\n    // stroke-dasharray: 6, 8;\r\n    // animation: dash-move 1s linear infinite; /* Durata e loop infinito */\r\n    animation: draw-line 2s ease-in-out forwards; /* Durata e curva animazione */\r\n  }\r\n\r\n  .meteo-icon-svg {\r\n    fill: none;\r\n    stroke: #fff;\r\n    stroke-linecap: round;\r\n    stroke-linejoin: round;\r\n    stroke-width: 5px;\r\n  }\r\n\r\n  .title {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n  .title {\r\n    font-size: 2rem;\r\n    font-weight: bold;\r\n    background-color: #565656;\r\n    color: transparent;\r\n    text-shadow: 1.5px 1.5px 1.5px rgba(255, 255, 255, 0.3);\r\n    -webkit-background-clip: text;\r\n    -moz-background-clip: text;\r\n    background-clip: text;\r\n\r\n    margin: 5% 10% 15%;\r\n  }\r\n  #chart {\r\n    width: 100%;\r\n    height: 300px;\r\n  }\r\n  input[type=\"range\"] {\r\n    width: 100%;\r\n  }\r\n  button {\r\n    margin-bottom: 10px;\r\n    padding: 5px 10px;\r\n    border: none;\r\n    background-color: #007bff;\r\n    color: white;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n  }\r\n  button:hover {\r\n    background-color: #0056b3;\r\n  }\r\n\r\n  input[type=\"range\"]:focus {\r\n    outline: transparent;\r\n  }\r\n\r\n  input[type=\"range\"]::-webkit-slider-thumb {\r\n    background-color: #255ff4;\r\n    border: 0;\r\n    border-radius: 50%;\r\n    box-shadow:\r\n      -1px -1px 6px #0937aa inset,\r\n      0 -2px 2px 0 #0004,\r\n      2px 2px 6px #0007;\r\n    cursor: pointer;\r\n    position: relative;\r\n    width: 24px;\r\n    height: 24px;\r\n    transition: all var(--transDur) linear;\r\n    z-index: 1;\r\n    -webkit-appearance: none;\r\n    appearance: none;\r\n  }\r\n  input[type=\"range\"]:focus::-webkit-slider-thumb {\r\n    background-color: #5583f6;\r\n    box-shadow:\r\n      -1px -1px 6px #0937aa inset,\r\n      0 -2px 2px 0 #0004,\r\n      2px 2px 6px #0007;\r\n  }\r\n  input[type=\"range\"]::-moz-range-thumb {\r\n    background-color: #255ff4;\r\n    border: 0;\r\n    border-radius: 50%;\r\n    box-shadow:\r\n      -1px -1px 6px #0937aa inset,\r\n      0 -2px 2px 0 #0004,\r\n      2px 2px 6px #0007;\r\n    cursor: pointer;\r\n    position: relative;\r\n    width: 24px;\r\n    height: 24px;\r\n    transform: translateZ(1px);\r\n    transition: all var(--transDur) linear;\r\n    z-index: 1;\r\n    -moz-appearance: none;\r\n    appearance: none;\r\n  }\r\n  input[type=\"range\"]:focus::-moz-range-thumb {\r\n    background-color: #5583f6;\r\n    box-shadow:\r\n      -1px -1px 6px #0937aa inset,\r\n      0 -2px 2px 0 #0004,\r\n      2px 2px 6px #0007;\r\n  }\r\n\r\n  input[type=\"range\"]::-moz-focus-outer {\r\n    border: 0;\r\n  }\r\n\r\n  @media (prefers-color-scheme: dark) {\r\n    :host {\r\n      --bg: #2e3138;\r\n      --fg: #e3e4e8;\r\n      --bs1: #3c4049;\r\n      --bs2: #202227;\r\n      --tick: rgb(55, 61, 63);\r\n    }\r\n  }\r\n\r\n  .production_range {\r\n    position: relative;\r\n    height: 70px;\r\n  }\r\n\r\n  .range__ticks {\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    pointer-events: none;\r\n    position: absolute;\r\n    top: 28px;\r\n    left: 12px;\r\n    width: calc(100% - 28px);\r\n    height: 100%;\r\n  }\r\n  .range__tick,\r\n  .range__tick-text {\r\n    display: inline-block;\r\n  }\r\n  .range__tick {\r\n    color: var(--tick);\r\n    font-size: 12px;\r\n    text-align: center;\r\n    width: 0;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    user-select: none;\r\n  }\r\n  .range__tick-text {\r\n    transform: translateX(-50%);\r\n  }\r\n\r\n  .range-thumb-label {\r\n    position: absolute;\r\n    width: 16px;\r\n    height: 22px;\r\n    top: 24px; /* Posiziona il label sopra il thumb */\r\n    transform: translateX(-50%);\r\n    // background-color: rgba(255, 0, 0, 0.6);\r\n    color: white;\r\n    padding: 2px 5px;\r\n    border-radius: 4px;\r\n    font-size: 12px;\r\n    pointer-events: none;\r\n    white-space: nowrap;\r\n    z-index: 11;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  .custom-legend-btn {\r\n    background-color: transparent;\r\n    color: white;\r\n    border: 2px solid transparent;\r\n    padding: 5px 10px;\r\n    margin: 5px;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n  }\r\n\r\n  .custom-legend-btn:hover {\r\n    background-color: rgba(255, 255, 255, 0.1);\r\n  }\r\n\r\n  .apexcharts-legend-series .apexcharts-legend-marker {\r\n    display: none;\r\n  }\r\n\r\n  .loading {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border: solid 2px red;\r\n    border-radius: 25px;\r\n    // animation: blinker 1.5s linear infinite;\r\n  }\r\n\r\n  .bottom_bar {\r\n    height: 60px;\r\n    background-color: rgba(125, 125, 125, 0.1);\r\n    border-radius: 12px;\r\n    margin-top: auto;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 0 10%;\r\n  }\r\n\r\n  .home_info {\r\n    height: 150px;\r\n    background-color: rgba(125, 125, 125, 0.1);\r\n    border-radius: 12px;\r\n    // margin-top: auto;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    /* padding: 0 30%; */\r\n    // margin-left: 5%;\r\n    // margin-right: 5%;\r\n    -webkit-box-shadow: 1px 1px 2px 2px rgba(0, 0, 0, 0.1);\r\n    box-shadow: 1px 1px 2px 2px rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n  .info_icon {\r\n    color: #7a8683;\r\n    --mdc-icon-size: 40px;\r\n  }\r\n\r\n  .info_column {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    height: 100%;\r\n  }\r\n\r\n  .menu_icon {\r\n    cursor: pointer;\r\n    color: var(--state-icon-color);\r\n    --mdc-icon-size: 40px;\r\n  }\r\n\r\n  .menu_icon_on {\r\n    color: var(--state-icon-active-color);\r\n  }\r\n\r\n  .tile-container {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\r\n    gap: 16px;\r\n    margin: 16px 0;\r\n  }\r\n\r\n  .lines-svg {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 10;\r\n    pointer-events: none;\r\n  }\r\n\r\n  .tile {\r\n    width: 70px;\r\n    height: 70px;\r\n    // background-color: red;\r\n    border-radius: 15px;\r\n    -webkit-box-shadow: 2px 2px 5px 3px rgba(0, 0, 0, 0.2);\r\n    box-shadow: 2px 2px 5px 3px rgba(0, 0, 0, 0.2);\r\n  }\r\n\r\n  .weather_attributes {\r\n    display: flex;\r\n    gap: 5px;\r\n    // margin-top: 10px;\r\n  }\r\n\r\n  .weather_attributes_vertical {\r\n    display: flex;\r\n    gap: 10px;\r\n    margin-top: 10px;\r\n  }\r\n\r\n  .glow-line {\r\n    // stroke: rgba(0, 191, 255, 0.8);\r\n    stroke-width: 4;\r\n    fill: none;\r\n    stroke-dasharray: 10, 40;\r\n    filter: url(#glow-blur); /* Usa il filtro SVG */\r\n    animation: glow-animation 1s infinite linear;\r\n  }\r\n\r\n  @keyframes glow-animation {\r\n    from {\r\n      stroke-dashoffset: 50;\r\n    }\r\n    to {\r\n      stroke-dashoffset: 0;\r\n    }\r\n  }\r\n\r\n  .apexcharts-legend {\r\n    display: flex !important;\r\n    gap: 0px !important; /* Rimuove lo spazio tra i pulsanti */\r\n    justify-content: center; /* Allinea i pulsanti */\r\n    flex-wrap: nowrap;\r\n  }\r\n\r\n  .apexcharts-legend-series {\r\n    margin: 0 !important; /* Rimuove il margine tra i pulsanti */\r\n    padding: 0 !important;\r\n  }\r\n\r\n  .chart-navigator {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n  .chart-navigator-button {\r\n    width: 150px;\r\n    background-color: rgba(125, 125, 125, 0.1);\r\n    box-shadow: 1px 1px 2px 2px rgba(0, 0, 0, 0.1);\r\n    margin: 0 18px;\r\n  }\r\n\r\n  hui-tile-card {\r\n    /* Esempio: sovrascrivi la custom property usata da ha-card per lo sfondo */\r\n    --ha-card-background: rgba(125, 125, 125, 0.1);\r\n    --ha-card-box-shadow: 1px 1px 2px 2px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  hui-entities-card {\r\n    /* Esempio: sovrascrivi la custom property usata da ha-card per lo sfondo */\r\n    --ha-card-background: rgba(125, 125, 125, 0.1);\r\n    --ha-card-box-shadow: 1px 1px 2px 2px rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n  .chart-cutton-container {\r\n    display: flex;\r\n    background-color: rgba(125, 125, 125, 0.1);\r\n    border-radius: var(--ha-card-border-radius, 12px);\r\n    -webkit-box-shadow: 1px 1px 2px 2px rgba(0, 0, 0, 0.1);\r\n    box-shadow: 1px 1px 2px 2px rgba(0, 0, 0, 0.1);\r\n    margin-left: 5%;\r\n    margin-right: 5%;\r\n    height: 100px;\r\n    margin-top: auto;\r\n    // flex-grow: 1;\r\n  }\r\n\r\n  .chart-button-select {\r\n    background-color: transparent;\r\n    width: 50%;\r\n    height: 100%;\r\n    border-radius: var(--ha-card-border-radius, 12px);\r\n  }\r\n\r\n  .chart-button-select:hover {\r\n    background-color: rgba(125, 125, 125, 0.5);\r\n  }\r\n\r\n  .more_elements_container {\r\n  display: flex; \r\n  flex-direction: \r\n  column; gap: 10px; \r\n  background-color: rgba(125, 125, 125, 0.3);\r\n  border-radius: 12px;\r\n  overflow: auto;\r\n  height: auto;\r\n  // height: -webkit-fill-available;\r\n  }\r\n\r\n  .more_elements {\r\n  display: flex; \r\n  flex-direction: \r\n  column; gap: 10px; \r\n  border-radius: 12px;\r\n  overflow: auto;\r\n  height: -webkit-fill-available;\r\n  padding: 0 20px;\r\n  flex-grow:4;\r\n    height: 1px;\r\n  }\r\n\r\n  #style-2::-webkit-scrollbar-track {\r\n    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.4);\r\n    border-radius: 12px;\r\n    background-color: transparent; /* Rendi trasparente lo sfondo della traccia */\r\n}\r\n\r\n#style-2::-webkit-scrollbar {\r\n    width: 24px;\r\n    background-color: transparent; /* Rendi trasparente anche lo sfondo della scrollbar */\r\n}\r\n\r\n#style-2::-webkit-scrollbar-thumb {\r\n    border-radius: 12px;\r\n    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);\r\n    background-color: transparent;\r\n}\r\n\r\n .more_elemnts_divider  {\r\n    \r\n    height: 100%;\r\n    // width: 100%;\r\n    /* background-color: red; */\r\n    border-bottom: 1px solid var(--divider-color);\r\n    border-right: 1px solid var(--divider-color);\r\n    /* border-radius: 12px; */\r\n    border-radius: 0 0 20px 0;\r\n    flex-grow: 2;\r\n    margin: 10px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    text-shadow: 1.5px 1.5px 1.5px rgba(255, 255, 255, 0.3);\r\n    font-size: 2rem;\r\n    font-weight: bold;\r\n    background-color: #565656;\r\n    color: transparent;\r\n    -webkit-background-clip: text;\r\n    -moz-background-clip: text;\r\n    background-clip: text;\r\n    \r\n}\r\n\r\n.back_button {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    cursor: pointer;\r\n    width:70px;\r\n    height:70px;\r\n    \r\n        \r\n\r\n\r\n    }\r\n\r\n\r\n`;\r\n","import { type CSSResultGroup, html, LitElement, } from \"lit\";\r\nimport { customElement, property } from \"lit/decorators.js\";\r\nimport SunCalc from \"suncalc\"; // Importa la libreria SunCalc\r\n// import { CARD_VERSION,  DEFAULT_ID, } from \"./const\";\r\nimport {\r\n  loader,\r\n  clearnight,\r\n  cloudy,\r\n  day,\r\n  fog,\r\n  partlycloudy,\r\n  hail,\r\n  lightningrainy,\r\n  lightning,\r\n  partlycloudynight,\r\n  pouring,\r\n  snowyrainy,\r\n  windyvariant,\r\n  windy,\r\n  rainy,\r\n  cloudeCoverage,\r\n  uvIndex,\r\n  temperature,\r\n} from \"./icons\";\r\nimport { pvIcon, battery, gridPower, home, inverter } from \"./tiles\";\r\nimport styles from \"./styles\";\r\ndeclare global {\r\n  interface Window {\r\n    ApexCharts: any;\r\n  }\r\n}\r\n\r\n@customElement(\"photovoltaic-card\")\r\nclass PhotovoltaicCard extends LitElement {\r\n  @property({ attribute: false }) public hass!: any;\r\n  @property() public config!: any;\r\n  @property({ type: Number }) private _interval: number = 25; // Intervallo iniziale in minuti\r\n  private showChart: boolean; // Stato per mostrare/nascondere la sezione\r\n  private swicthChart: boolean; // Stato per mostrare/nascondere la sezione\r\n  private panelMode: boolean; // Stato per mostrare/nascondere la sezione\r\n  private seriesData?: { name: string; data: { x: number; y: number }[] }[];\r\n  private chart: any;\r\n  private weekChart: any;\r\n  private _debounceFetchHistory: number | null = null;\r\n  private chartHeight: number = 400; // Imposta la variabile con il valore iniziale\r\n  // private seriesDataLast7Days: {\r\n  //   name: string;\r\n  //   data: { x: number; y: number }[];\r\n  // }[] = [];\r\n  // private weeklyChart: any | null = null; // Dichiarazione della propriet\r\n  private activeMenu: \"home\" | \"chart\" | \"tile\" | \"heatmap\" = \"home\";\r\n  private _tileCards: HTMLElement[] | null = null;\r\n  private moreElements_Cards: HTMLElement[] | null = null;\r\n  // private moreElements_tileCard: HTMLElement[] | null = null;\r\n  private _moreElementsContainer: any = null;\r\n  private previousWidth: number = 0;\r\n  private weekGridConsumption: number = 0;\r\n  private chartMap: any = null; // Variabile per mantenere l'istanza del grafico\r\n  private dawnTime: any;\r\n  private duskTime: any;\r\n  private entities: any;\r\n  private chartdata: any;\r\n  private cardCardWidth: number;\r\n  private batteryWeekTotal: any;\r\n  private gridWeekTotal: any | null = null;\r\n  private totalWekkPvProduction: number = 0;\r\n  private daysToEvaluate: number = 7;\r\n  private startTime: Date;\r\n  private endTime: Date;\r\n  private heatmapObj: any;\r\n  private disableLeftButtonHeatmap: boolean = false;\r\n\r\n  private sensorData: any = [];\r\n  private aggregatedData: any = [];\r\n  private showMoreElements: boolean = false;\r\n  private dinamicContent: any = [];\r\n  private moreElemetsName: string = \"\";\r\n  private moreElemetsFunction: string = \"\";\r\n\r\n  static get properties() {\r\n    return {\r\n      hass: {},\r\n      config: {},\r\n      activeMenu: {},\r\n      showChart: {},\r\n      swicthChart: {},\r\n      panelMode: {},\r\n      showMoreElements: {},\r\n    };\r\n  }\r\n\r\n  static get iconMapping() {\r\n    return {\r\n      loader: loader(),\r\n      cloudeCoverage: cloudeCoverage(),\r\n      uvIndex: uvIndex(),\r\n      rainy: rainy(),\r\n      temperature: temperature(),\r\n      \"clear-night\": clearnight(),\r\n      cloudy: cloudy(),\r\n      day: day(),\r\n      sunny: day(),\r\n      partlycloudy: partlycloudy(),\r\n      hail: hail(),\r\n      \"lightning-rainy\": lightningrainy(),\r\n      lightning: lightning(),\r\n      night: clearnight(),\r\n      \"partlycloudy-night\": partlycloudynight(),\r\n      pouring: pouring(),\r\n      \"snowy-rainy\": snowyrainy,\r\n      \"windy-variant\": windyvariant(),\r\n      windy: windy(),\r\n      fog: fog(),\r\n    };\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n    this.showChart = false;\r\n    this.swicthChart = true;\r\n  }\r\n\r\n  static get styles(): CSSResultGroup {\r\n    return styles;\r\n  }\r\n\r\n  public setConfig(config: any): void {\r\n    if (!config.entities || !Array.isArray(config.entities)) {\r\n      throw new Error(\r\n        \"Invalid configuration: entities must be a list of entity IDs\"\r\n      );\r\n    }\r\n\r\n    const updatedConfig = { ...config };\r\n\r\n    // Genera una chiave univoca basata sulla configurazione\r\n    const uniqueKey =\r\n      JSON.stringify(config.entities) + (config.card?.type || \"default\");\r\n    const hash = this._generateHash(uniqueKey);\r\n\r\n    const storageKey = `local_conditional_card_id_${hash}`;\r\n    let savedId = localStorage.getItem(storageKey);\r\n\r\n    // Se non esiste, genera un ID univoco\r\n    if (!savedId) {\r\n      savedId = `card_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`;\r\n      localStorage.setItem(storageKey, savedId);\r\n    }\r\n\r\n    // Assegna l'ID generato o recuperato\r\n    updatedConfig.id = savedId;\r\n\r\n    // Imposta la configurazione aggiornata\r\n    this.config = updatedConfig;\r\n\r\n    // Recupera il valore dello slider dal localStorage o usa il valore predefinito\r\n    const sliderKey = `slider_value_${this.config.id}`;\r\n    const savedSliderValue = localStorage.getItem(sliderKey);\r\n\r\n    this._interval = savedSliderValue\r\n      ? parseInt(savedSliderValue, 10)\r\n      : (config.options?.data_time_period ?? 25);\r\n\r\n    // legge le entit in enetities\r\n    this.entities = this.config.entities;\r\n  }\r\n\r\n  private _generateHash(input: string): string {\r\n    let hash = 0;\r\n    for (let i = 0; i < input.length; i++) {\r\n      const char = input.charCodeAt(i);\r\n      hash = (hash << 5) - hash + char;\r\n      hash |= 0; // Convert to 32bit integer\r\n    }\r\n    return hash.toString(36);\r\n  }\r\n\r\n  connectedCallback() {\r\n    super.connectedCallback();\r\n\r\n    // Aggiungi il listener per il resize della finestra\r\n    window.addEventListener(\"resize\", this.handleResize.bind(this));\r\n\r\n    // Calcola inizialmente la larghezza\r\n    this.handleResize();\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    super.disconnectedCallback();\r\n\r\n    // Rimuovi il listener per evitare memory leak\r\n    window.removeEventListener(\"resize\", this.handleResize.bind(this));\r\n  }\r\n\r\n  private handleResize() {\r\n    // Ottieni la larghezza corrente della card\r\n    const currentWidth = this.getBoundingClientRect().width;\r\n\r\n    // Confronta la larghezza corrente con quella precedente\r\n    if (currentWidth !== this.previousWidth) {\r\n      this.previousWidth = currentWidth;\r\n      this.initializeLines(); // Richiama la funzione solo se la larghezza  cambiata\r\n    }\r\n  }\r\n\r\n  private createTileCards() {\r\n    if (!this.config.tile_cards || !Array.isArray(this.config.tile_cards)) {\r\n        return [];\r\n    }\r\n\r\n    if (!this._tileCards) {\r\n        this._tileCards = this.config.tile_cards.map((entity) => {\r\n            const tileConfig = {\r\n                type: \"tile\",\r\n                entity: entity,\r\n            };\r\n\r\n            const tile = document.createElement(\"hui-tile-card\") as any;\r\n            tile.setConfig(tileConfig);\r\n            return tile;\r\n        });\r\n    }\r\n\r\n    this._tileCards.forEach((tile) => {\r\n        (tile as any).hass = this.hass;\r\n    });\r\n\r\n    return this._tileCards;\r\n}\r\n\r\n// private entitiesCard() {\r\n//   if (!this.config.more_elements || !Array.isArray(this.config.more_elements)) {\r\n//       return [];\r\n//   }\r\n\r\n//   if (!this.moreElements_tileCard) {\r\n//       const sensorEntities = this.config.more_elements\r\n//           .filter(entity => entity.startsWith(\"sensor.\")); // Filtra solo i sensori\r\n\r\n//       if (sensorEntities.length === 0) {\r\n//           return []; // Nessun sensore, nessuna card\r\n//       }\r\n\r\n//       const tileConfig = {\r\n//           type: \"entities\",\r\n//           entities: sensorEntities, // Passa tutte le entit insieme\r\n//       };\r\n\r\n//       const tile = document.createElement(\"hui-entities-card\") as any;\r\n//       tile.setConfig(tileConfig);\r\n\r\n//       this.moreElements_tileCard = tile;\r\n//   }\r\n\r\n//   (this.moreElements_tileCard as any).hass = this.hass;\r\n\r\n//   return [this.moreElements_tileCard]; // Deve restituire un array con una sola card\r\n// }\r\n\r\n\r\n// private more_elements() {\r\n//   if (!this.config.more_elements || !Array.isArray(this.config.more_elements)) {\r\n//       return [];\r\n//   }\r\n\r\n//   if (!this.moreElements_EntitiesCards) {\r\n//       this.moreElements_EntitiesCards = this.config.more_elements\r\n//           .filter(entity => !entity.startsWith(\"sensor.\")) // Filtro i sensori\r\n//           .map((entity) => {\r\n//               const tileConfig = {\r\n//                   type: \"tile\",\r\n//                   entity: entity,\r\n//               };\r\n\r\n//               const tile = document.createElement(\"hui-tile-card\") as any;\r\n//               tile.setConfig(tileConfig);\r\n//               return tile;\r\n//           });\r\n//   }\r\n\r\n//   this.moreElements_EntitiesCards.forEach((tile) => {\r\n//       (tile as any).hass = this.hass;\r\n//   });\r\n\r\n//   return this.moreElements_EntitiesCards;\r\n// }\r\n\r\nprivate generateMoreElements(more_elements) {\r\n  if (!more_elements || !Array.isArray(more_elements)) {\r\n      return [];\r\n  }\r\n\r\n  if (!this.moreElements_Cards) {\r\n      this.moreElements_Cards = [];\r\n\r\n      const sensorEntities = more_elements.filter(entity => entity.startsWith(\"sensor.\"));\r\n      const otherEntities = more_elements.filter(entity => !entity.startsWith(\"sensor.\"));\r\n\r\n      // Se ci sono sensori, crea una Entities Card\r\n      if (sensorEntities.length > 0) {\r\n          const tileConfig = {\r\n              type: \"entities\",\r\n              entities: sensorEntities, \r\n          };\r\n\r\n          const tile = document.createElement(\"hui-entities-card\") as any;\r\n          tile.setConfig(tileConfig);\r\n\r\n          this.moreElements_Cards.push(tile);\r\n      }\r\n\r\n      // Crea Tile Cards per le altre entit\r\n      this.moreElements_Cards.push(...otherEntities.map(entity => {\r\n          const tileConfig = {\r\n              type: \"tile\",\r\n              entity: entity,\r\n          };\r\n\r\n          const tile = document.createElement(\"hui-tile-card\") as any;\r\n          tile.setConfig(tileConfig);\r\n          return tile;\r\n      }));\r\n  }\r\n\r\n  // Aggiorna `hass` per tutte le card\r\n  this.moreElements_Cards.forEach(tile => {\r\n      (tile as any).hass = this.hass;\r\n  });\r\n\r\n   return this.moreElements_Cards;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n  // *********************** calolo pv settimanale ********************\r\n\r\n  private getTotalSum(chartdata) {\r\n    let sum = 0;\r\n\r\n    // Se c' una sola entit, somma solo gli ultimi 7 valori della sua serie\r\n    if (this.entities.length === 1) {\r\n      const seriesData = chartdata.series[0].data;\r\n      const last7Values = seriesData.slice(-7); // Prende solo gli ultimi 7 valori\r\n      sum = last7Values.reduce((total, point) => total + point.y, 0);\r\n    } else {\r\n      // Trova la serie con nome \"totale\"\r\n      const totaleSeries = chartdata.series.find(\r\n        (series) => series.name === \"totale\"\r\n      );\r\n\r\n      // Se la serie esiste, somma solo gli ultimi 7 valori\r\n      if (totaleSeries) {\r\n        const seriesData = totaleSeries.data;\r\n        const last7Values = seriesData.slice(-7); // Prende solo gli ultimi 7 valori\r\n        sum = last7Values.reduce((total, point) => total + point.y, 0);\r\n      }\r\n    }\r\n\r\n    // Restituisce la somma arrotondata a due decimali\r\n    return Number(sum.toFixed(2));\r\n  }\r\n  //*********************** fine calolo pv settimanale ********************\r\n\r\n  // ********************** interrogazione singola entit ******************\r\n\r\n  askForEntity(\r\n    consumer: string,\r\n    days: number,\r\n    unit: string\r\n  ): Promise<{\r\n    days: Array<{ start: number; end: number; sum: number }>;\r\n    totale: number;\r\n  }> {\r\n    return new Promise((resolve, reject) => {\r\n      const now = new Date();\r\n      const startTime = new Date();\r\n\r\n      // Sottraggo giorni per ottenere il range corretto\r\n      startTime.setDate(now.getDate() - (days - 1));\r\n      startTime.setHours(0, 0, 0, 0); // Imposta a mezzanotte esatta\r\n\r\n      // Recupero i dettagli dell'entit per verificare l'unit di misura\r\n      const entity = this.hass.states[consumer];\r\n      const entityUnit =\r\n        entity?.attributes?.unit_of_measurement?.toLowerCase() || \"\";\r\n      const isWatt = entityUnit === \"w\" || unit.toLowerCase() === \"watt\"; // Controlla se  in watt\r\n\r\n      this.hass\r\n        .callWS({\r\n          type: \"recorder/statistics_during_period\",\r\n          statistic_ids: [consumer], // Deve sempre essere un array\r\n          period: \"day\",\r\n          start_time: startTime.toISOString(),\r\n          types: [\"sum\", \"mean\"],\r\n        })\r\n        .then(\r\n          (\r\n            recorderResponse: Record<\r\n              string,\r\n              Array<{ start: number; end: number; sum: number }>\r\n            >\r\n          ) => {\r\n            // Prendi i dati e calcola il valore corretto\r\n            const entityData = recorderResponse[consumer] || [];\r\n            if (entityData.length < 2) {\r\n              console.warn(\r\n                \"Dati insufficienti per il calcolo del valore giornaliero.\"\r\n              );\r\n              return resolve({ days: [], totale: 0 }); // Restituisco dati vuoti invece di undefined\r\n            }\r\n\r\n            // Array per i valori giornalieri corretti\r\n            let correctedDays: Array<{\r\n              start: number;\r\n              end: number;\r\n              sum: number;\r\n            }> = [];\r\n            let totalSum: number = 0;\r\n\r\n            for (let i = 1; i < entityData.length; i++) {\r\n              // Calcola la differenza tra giorni consecutivi\r\n              let correctedSum = entityData[i].sum - entityData[i - 1].sum;\r\n\r\n              // Se l'unit  in watt, divido per 1000 per ottenere i kWh\r\n              if (isWatt) {\r\n                correctedSum /= 1000;\r\n              }\r\n\r\n              // Arrotondo il valore a 2 decimali\r\n              correctedSum = parseFloat(correctedSum.toFixed(2));\r\n\r\n              // Aggiungo il valore alla lista dei giorni\r\n              correctedDays.push({\r\n                start: entityData[i].start, // Timestamp del giorno\r\n                end: entityData[i].end, // Fine del periodo\r\n                sum: correctedSum,\r\n              });\r\n\r\n              // Aggiorno il totale\r\n              totalSum += correctedSum;\r\n            }\r\n\r\n            // Arrotondo il totale a massimo 2 decimali\r\n            totalSum = parseFloat(totalSum.toFixed(2));\r\n\r\n            // Oggetto finale con days e totale\r\n            const correctedData = {\r\n              days: correctedDays,\r\n              totale: totalSum,\r\n            };\r\n\r\n            resolve(correctedData); // Restituisce i dati corretti\r\n          }\r\n        )\r\n        .catch((error) => {\r\n          console.error(\"Errore nella richiesta al recorder:\", error);\r\n          reject(error); // Propaga l'errore\r\n        });\r\n    });\r\n  }\r\n\r\n  // isPanelMode() {\r\n  //   const huiRoot = document.querySelector(\"home-assistant\")?.shadowRoot\r\n  //     ?.querySelector(\"home-assistant-main\")?.shadowRoot\r\n  //     ?.querySelector(\"ha-panel-lovelace\")?.shadowRoot\r\n  //     ?.querySelector(\"hui-root\") as any; //  CAST a \"any\"\r\n\r\n  // return huiRoot?.lovelace?.config?.views[huiRoot?.lovelace?.current_view]?.panel || false;\r\n\r\n  // }\r\n\r\n  isPanelMode(): boolean {\r\n    const huiRoot = document\r\n      .querySelector(\"home-assistant\")\r\n      ?.shadowRoot?.querySelector(\"home-assistant-main\")\r\n      ?.shadowRoot?.querySelector(\"ha-panel-lovelace\")\r\n      ?.shadowRoot?.querySelector(\"hui-root\");\r\n\r\n    return !!huiRoot?.shadowRoot?.querySelector(\"hui-panel-view\");\r\n  }\r\n\r\n  isVericarlCard(): boolean {\r\n    const haCard = this.shadowRoot?.querySelector(\"ha-card\") as any;\r\n    return haCard ? haCard.offsetHeight > haCard.offsetWidth : false;\r\n  }\r\n\r\n  private dynamicFunction: () => unknown = () => \"\";\r\n\r\n  // ********************** fine interrogazione singola entit ******************\r\n\r\n  render() {\r\n    const verticalCard = this.isVericarlCard();\r\n    const panelMode = this.isPanelMode();\r\n    const pv_nemuber = this.config.entities.length;\r\n    const linesSvg = this.shadowRoot.querySelector(\r\n      \".lines-svg\"\r\n    ) as SVGSVGElement;\r\n    this.cardCardWidth = Math.round(this.getBoundingClientRect().width);\r\n    // Inizializza le linee SVG solo se necessario\r\n    if (\r\n      linesSvg &&\r\n      linesSvg.querySelectorAll(\"path\").length === 0 &&\r\n      this.activeMenu === \"home\"\r\n    ) {\r\n      this.initializeLines();\r\n    }\r\n    // Gestione opzionale di weather_entity\r\n    let weatherObj = null;\r\n    let iconUrl = \"\";\r\n    let weatherSvg = \"\";\r\n    let renderIcon = \"\";\r\n\r\n    if (\r\n      this.config?.weather_entity &&\r\n      this.hass?.states[this.config.weather_entity]\r\n    ) {\r\n      weatherObj = this.hass.states[this.config.weather_entity];\r\n      weatherSvg = weatherObj.state;\r\n      iconUrl = `https://raw.githubusercontent.com/madmicio/screensaver-card/main/icons/${weatherSvg}.svg`;\r\n      renderIcon = PhotovoltaicCard.iconMapping[weatherSvg] || (() => \"\");\r\n    } else {\r\n      console.warn(\"weather_entity is not configured or not found.\");\r\n    }\r\n\r\n    // Inizializza i totali\r\n    let total = 0;\r\n    let pvTotal = 0;\r\n    let batteryTotal = 0;\r\n    let gridTotal = 0;\r\n\r\n\r\n    // Calcola i valori delle entit configurate\r\n    this.config.entities.forEach((entity) => {\r\n      const pvState = this.hass.states[entity.pv]?.state\r\n        ? parseInt(this.hass.states[entity.pv].state) || 0\r\n        : 0;\r\n\r\n      const convertedPvState =\r\n        entity.convert_to_watt ||\r\n        this.hass.states[\r\n          entity.pv\r\n        ]?.attributes.unit_of_measurement?.toLowerCase() === \"kwh\"\r\n          ? pvState * 1000\r\n          : pvState;\r\n\r\n      // Aggiungi al totale PV\r\n      pvTotal += convertedPvState;\r\n    });\r\n\r\n    // Aggiorna il totale generale\r\n    total += pvTotal;\r\n\r\n    // Calcola i valori per la griglia\r\n    if (this.config.grid?.grid_entity) {\r\n      gridTotal = this.hass.states[this.config.grid.grid_entity]?.state\r\n        ? Math.round(\r\n            parseFloat(this.hass.states[this.config.grid.grid_entity].state)\r\n          ) || 0\r\n        : 0;\r\n    }\r\n\r\n    // Calcola i valori per la batteria\r\n    if (this.config.battery?.power) {\r\n      batteryTotal = this.hass.states[this.config.battery.power]?.state\r\n        ? Math.round(\r\n            parseFloat(this.hass.states[this.config.battery.power].state)\r\n          ) || 0\r\n        : 0;\r\n    }\r\n\r\n    // Calcola il totale di potenza\r\n    const totalPower = total + batteryTotal + gridTotal;\r\n\r\n    // Calcola le percentuali\r\n    const pvPercentage =\r\n      totalPower > 0 ? Math.round((pvTotal / totalPower) * 100) : 0;\r\n    const batteryPercentage =\r\n      totalPower > 0 && batteryTotal > 0\r\n        ? Math.round((batteryTotal / totalPower) * 100)\r\n        : 0;\r\n    // stato %  batteria istantaneo\r\n    const batteryPercentageNow =\r\n      this.config.battery?.battery_state ?? \"0\";\r\n    const batteryPercentageState = this.hass.states[\r\n      batteryPercentageNow\r\n    ]?.state\r\n      ? parseInt(\r\n          this.hass.states[batteryPercentageNow].state,\r\n          10\r\n        ) || 0\r\n      : 0;\r\n\r\n    // Calcola la riduzione di CO2\r\n    const c02 = parseFloat((this.totalWekkPvProduction * 0.25).toFixed(2));\r\n\r\n    if (this.config?.grid?.grid_meter && this.gridWeekTotal === null) {\r\n      this.askForEntity(\r\n        this.config.grid.grid_meter,\r\n        7,\r\n        this.config.grid?.unit_of_measurament\r\n      ).then((gridAsk) => {\r\n        this.gridWeekTotal = gridAsk.totale;\r\n      });\r\n    }\r\n\r\n    if (this.config?.battery?.battery_meter) {\r\n      this.askForEntity(\r\n        this.config.battery.battery_meter,\r\n        7,\r\n        this.config.battery?.unit_of_measurament\r\n      ).then((batteryAsk) => {\r\n        this.batteryWeekTotal = batteryAsk.totale;\r\n      });\r\n    }\r\n\r\n    // Calcola il consumo totale settimanale\r\n    const totalConsumption =\r\n      Number(this.totalWekkPvProduction) + Number(this.gridWeekTotal);\r\n\r\n    const totalWeekKwhPercentage =\r\n      totalConsumption > 0\r\n        ? (this.totalWekkPvProduction / totalConsumption) * 100\r\n        : 0;\r\n\r\n    return html`\r\n      <ha-card style=\"height: ${panelMode ? \"100%\" : \"900px\"} !important;\">\r\n        <div class=\"title\">\r\n          <div>E</div>\r\n          <div>n</div>\r\n          <div>e</div>\r\n          <div>r</div>\r\n          <div>g</div>\r\n          <div>y</div>\r\n          <div>C</div>\r\n          <div>o</div>\r\n          <div>n</div>\r\n          <div>t</div>\r\n          <div>r</div>\r\n          <div>o</div>\r\n          <div>l</div>\r\n        </div>\r\n\r\n        ${this.activeMenu === \"home\"\r\n          ? html`\r\n              ${!this.showMoreElements\r\n                ? html`\r\n                    <div\r\n                      id=\"homeContent\"\r\n                      style=\"display: flex; flex-direction: column;\"\r\n                    >\r\n                      <div\r\n                        style=\"display: flex; justify-content: center; flex-direction: column; gap: 50px; margin: auto 10%\"\r\n                      >\r\n                        ${pv_nemuber >= 1\r\n                          ? html`\r\n                              <div\r\n                                style=\"display: flex; justify-content: ${pv_nemuber ==\r\n                                1\r\n                                  ? \"space-around\"\r\n                                  : \"space-between\"}\"\r\n                              >\r\n                                ${weatherObj && pv_nemuber <= 2\r\n                                  ? html`\r\n                                      <div\r\n                                        style=\"width: 70px;cursor:pointer;\"\r\n                                        @click=${() =>\r\n                                          this._moreinfo(\r\n                                            this.config.weather_entity\r\n                                          )}\r\n                                      >\r\n                                        ${renderIcon}\r\n                                      </div>\r\n                                    `\r\n                                  : \"\"}\r\n                                ${this.entities.map((entity) => {\r\n                                  const entityId = entity.pv; // Estrai l'ID dell'entit dalla chiave 'pv'\r\n                                  const maxPower = entity.max_power;\r\n                                  const stateObj = this.hass.states[entityId];\r\n                                  const unit =\r\n                                    stateObj &&\r\n                                    stateObj.attributes.unit_of_measurement\r\n                                      ? stateObj.attributes.unit_of_measurement\r\n                                      : \"\";\r\n                                  const state = stateObj\r\n                                    ? unit?.toLowerCase() === \"kwh\" ||\r\n                                      entity.convert_to_watt\r\n                                      ? Math.round(\r\n                                          parseFloat(stateObj.state) * 1000\r\n                                        )\r\n                                      : Math.round(parseFloat(stateObj.state))\r\n                                    : \"N/A\";\r\n                                  const percentage =\r\n                                    state !== \"N/A\" && maxPower > 0\r\n                                      ? Math.round((state / maxPower) * 100)\r\n                                      : \"N/A\";\r\n                                  return html`\r\n                                    <div\r\n                                      \r\n                                      @click=\"${() => {\r\n                                        if (entity.more_elements) {\r\n                                            this.moreElemetsName = this.hass.states[entityId].attributes.friendly_name;\r\n                                            this.dynamicFunction = () => pvIcon(state);\r\n                                            this.dinamicContent = entity.more_elements;\r\n                                            this.showMoreElements = true;\r\n                                          } else {\r\n                                            // Se more_elements non esiste, esegui this._moreinfo(entityId)\r\n                                            this._moreinfo(entityId);\r\n                                          }\r\n                                      }}\"\r\n                                      id=\"pv-element\"\r\n                                      class=\"element-svg top tile\"\r\n                                      value=\"${state}\"\r\n                                      style=\" cursor:pointer; background: linear-gradient(90deg, #4eb274 0%, #4eb274 ${percentage}%, #284932 ${percentage}%, #284932 100%);\"\r\n                                    >\r\n                                      ${pvIcon(state)}\r\n                                    </div>\r\n                                  `;\r\n                                })}\r\n                              </div>\r\n                            `\r\n                          : \"\"}\r\n                        <!-- SVG Casa -->\r\n                        <div\r\n                          style=\"display:flex; justify-content:space-evenly; align-items: center;\"\r\n                        >\r\n                          ${weatherObj && pv_nemuber > 2\r\n                            ? html`\r\n                                <div\r\n                                  style=\"display: flex; flex-direction: column;\"\r\n                                >\r\n                                  <div\r\n                                    style=\"aspect-ratio: 1 / 1; width: 70px; cursor:pointer;\"\r\n                                  >\r\n                                    ${renderIcon}\r\n                                  </div>\r\n                                  <div class=\"weather_attributes\">\r\n                                    <div style=\"display: flex;\">\r\n                                      <div style=\"width: 25px;\">\r\n                                        ${cloudeCoverage()}\r\n                                      </div>\r\n                                      <div style=\"font-size: 12px\">\r\n                                        &nbsp;${weatherObj.attributes\r\n                                          .cloud_coverage}%\r\n                                      </div>\r\n                                    </div>\r\n                                    <div style=\"font-size: 12px\">\r\n                                      Uv:${weatherObj.attributes.uv_index}\r\n                                    </div>\r\n                                    <div style=\"display: flex;\">\r\n                                      <div style=\"width: 13px;\">\r\n                                        ${temperature()}\r\n                                      </div>\r\n                                      <div style=\"font-size: 12px\">\r\n                                        &nbsp;${weatherObj.attributes\r\n                                          .temperature}${weatherObj.attributes\r\n                                          .temperature_unit}\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              `\r\n                            : \"\"}\r\n                          ${weatherObj && pv_nemuber <= 2\r\n                            ? html`\r\n                                <div\r\n                                  style=\"display: grid; grid-template-columns: auto auto; grid-template-rows: 1fr 1fr 1fr; align-items: center;grid-column-gap:5px;\"\r\n                                >\r\n                                  <div style=\"width: 25px;\">\r\n                                    ${cloudeCoverage()}\r\n                                  </div>\r\n                                  <div style=\"font-size: 12px\">\r\n                                    &nbsp;${weatherObj.attributes\r\n                                      .cloud_coverage}%\r\n                                  </div>\r\n                                  <div style=\"font-size: 12px; opacity: .76;\">\r\n                                    Uv:\r\n                                  </div>\r\n                                  <div style=\"font-size: 12px\">\r\n                                    &nbsp;${weatherObj.attributes.uv_index}\r\n                                  </div>\r\n                                  <div style=\"width: 13px;\">\r\n                                    ${temperature()}\r\n                                  </div>\r\n                                  <div style=\"font-size: 12px\">\r\n                                    &nbsp;${weatherObj.attributes\r\n                                      .temperature}${weatherObj.attributes\r\n                                      .temperature_unit}\r\n                                  </div>\r\n                                </div>\r\n                              `\r\n                            : \"\"}\r\n\r\n                          <div\r\n                            id=\"casa\"\r\n                            class=\"element-svg tile\"\r\n                            style=\"background: linear-gradient(118deg, #959c98 0%, #254344 100%);cursor: pointer;  width:70px; height:70px;${pv_nemuber >=\r\n                            3\r\n                              ? \"margin:auto;\"\r\n                              : \" \"} \"\r\n                            @click=\"${() => {\r\n                            console.log('click3');\r\n                                this.moreElemetsName = \"Inverter\";\r\n                                this.dynamicFunction = () => inverter();\r\n                                if (!this.config?.inverter?.more_elements) return; // Se non esiste, non fare nulla\r\n                                this.dinamicContent = this.config.inverter.more_elements;\r\n                                this.showMoreElements = true;\r\n                            }}\"\r\n                          >\r\n                            ${inverter()}\r\n                          </div>\r\n                        </div>\r\n                        <div\r\n                          style=\" display: flex; justify-content:space-between; \"\r\n                        \r\n                        >\r\n                          ${this.config.battery\r\n                            ? (() => {\r\n                                \r\n                                return html`\r\n                                  <div\r\n                                    id=\"battery\"\r\n                                    class=\"element-svg bottom tile\"\r\n                                    value=\"${batteryTotal}\"\r\n                                    style=\"cursor: pointer; background-color: #b95618; border: 2px solid transparent; ${batteryTotal <\r\n                                    0\r\n                                      ? \"animation: circular-border 2s infinite;\"\r\n                                      : \"\"}  \"\r\n                                        @click=\"${() => {\r\n                                          if (this.config?.battery?.more_elements) {\r\n                                            this.moreElemetsName = \"Battery\";\r\n                                            this.dynamicFunction = () => battery(batteryTotal, batteryPercentageState);\r\n                                            this.dinamicContent = this.config.battery.more_elements;\r\n                                            this.showMoreElements = true;\r\n                                          } else {\r\n                                            // Se more_elements non esiste, esegui this._moreinfo(entityId)\r\n                                            this._moreinfo(this.config?.battery?.power);\r\n                                          }\r\n                                      }}\"\r\n                                  >\r\n                                    ${battery(\r\n                                      batteryTotal,\r\n                                      batteryPercentageState\r\n                                    )}\r\n                                  </div>\r\n                                `;\r\n                              })()\r\n                            : \"\"}\r\n                          <div\r\n                            id=\"home_tile\"\r\n                            class=\"element-svg bottom tile\"\r\n                            value=\"${totalPower}\"\r\n                            style=\"background: linear-gradient(118deg, #959c98 0%, #254344 100%); \"\r\n                          >\r\n                            ${home(totalPower, pvPercentage, batteryPercentage)}\r\n                          </div>\r\n                          ${this.config.grid\r\n                            ? (() => {\r\n                                const maxPower = this.config?.grid?.max_power;\r\n                                const percentage = Math.round(\r\n                                  (gridTotal / maxPower) * 100\r\n                                );\r\n                                return html`\r\n                                  <div\r\n                                    id=\"grid-power-direct\"\r\n                                    class=\"element-svg bottom tile\"\r\n                                    value=\"${gridTotal}\"\r\n                                    style=\"cursor: pointer; background: linear-gradient(90deg, #a2d6f5 0%, #a2d6f5 ${percentage}%, #2a3948 ${percentage}%, #2a3948 100%); \"\r\n                                  @click=\"${() => {\r\n                                    if (this.config.grid.more_elements) {\r\n                                    console.log('click');\r\n                                      this.moreElemetsName = \"Grid\";\r\n                                      this.dynamicFunction = () => gridPower(gridTotal);\r\n                                      this.dinamicContent = this.config.grid.more_elements;\r\n                                      this.showMoreElements = true;\r\n                                    } else {\r\n                                      // Se more_elements non esiste, esegui this._moreinfo(entityId)\r\n                                      this._moreinfo(this.config?.grid?.grid_entity);\r\n                                    }\r\n                                }}\"\r\n                                    >\r\n                                    ${gridPower(gridTotal)}\r\n                                  </div>\r\n                                `;\r\n                              })()\r\n                            : \"\"}\r\n                        </div>\r\n                        <!-- Linee dinamiche -->\r\n                        <svg\r\n                          class=\"lines-svg\"\r\n                          style=\"width: 100%; height: 100%; z-index: 1; pointer-events: none;\"\r\n                        ></svg>\r\n                      </div>\r\n                      <!-- ****************** info **************************** -->\r\n                      <div\r\n                        style=\"margin-left: 5%; margin-right: 5%; margin-top: auto;\"\r\n                      >\r\n                        <div>produzione ultimi 7 giorni</div>\r\n                        <div class=\"home_info\">\r\n                          <div class=\"info_column\">\r\n                            <ha-icon\r\n                              icon=\"mdi:molecule-co2\"\r\n                              class=\"info_icon\"\r\n                            ></ha-icon>\r\n                            ${c02 > 0\r\n                              ? html` <div>${c02} kg</div> `\r\n                              : html` <div style=\"width:25px;\">\r\n                                  ${loader()}\r\n                                </div>`}\r\n                            <div>co2 risparmiata</div>\r\n                          </div>\r\n                          <div\r\n                            style=\"width: 2px; height: 80%; background-color: var(--divider-color);\"\r\n                          ></div>\r\n                          <div class=\"info_column\">\r\n                            <ha-icon\r\n                              icon=\"mdi:piggy-bank\"\r\n                              class=\"info_icon\"\r\n                            ></ha-icon>\r\n                            ${this.totalWekkPvProduction > 0\r\n                              ? html`\r\n                                  <div>${this.totalWekkPvProduction} Kwh</div>\r\n                                `\r\n                              : html` <div style=\"width:25px;\">\r\n                                  ${loader()}\r\n                                </div>`}\r\n\r\n                            <div>risparmio</div>\r\n                          </div>\r\n                          <div\r\n                            style=\"width: 2px; height: 80%; background-color: var(--divider-color);\"\r\n                          ></div>\r\n                          <div class=\"info_column\">\r\n                            <ha-icon\r\n                              icon=\"mdi:home\"\r\n                              class=\"info_icon\"\r\n                            ></ha-icon>\r\n                            ${totalWeekKwhPercentage > 0\r\n                              ? html`\r\n                                  <div>\r\n                                    ${totalWeekKwhPercentage.toFixed(1)}%\r\n                                  </div>\r\n                                `\r\n                              : html` <div style=\"width:25px;\">\r\n                                  ${loader()}\r\n                                </div>`}\r\n\r\n                            <div>autosufficienza</div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  `\r\n                : html`\r\n                    <div class=\"more_elements_container\">\r\n                      <div style=\"padding: 20px 20px 15px 20px; display:flex;justify-content: center; align-items: center;\">\r\n                        <div\r\n                          class=\"element-svg tile\"\r\n                          style=\"background: linear-gradient(118deg, #959c98 0%, #254344 100%);cursor: pointer;  width:70px; height:70px;\"\r\n                        >\r\n                          ${this.dynamicFunction()}\r\n                        </div>\r\n                        <div class=\"more_elemnts_divider \">${this.moreElemetsName}</div>\r\n                        <div class=\"element-svg tile back_button\" style=\"background: linear-gradient(118deg, #959c98 0%, #254344 100%);\"\r\n                        @click=\"${() => {\r\n                              this.showMoreElements = false;\r\n                              this.moreElements_Cards = null;\r\n                              \r\n                            }}\"\r\n                          >back</div>\r\n                      </div>\r\n                      <div id=\"style-2\" class=\"more_elements\">\r\n                        ${this.generateMoreElements(this.dinamicContent)}\r\n                      </div>\r\n                    </div>\r\n                  `}\r\n            `\r\n          : \"\"}\r\n        ${this.activeMenu === \"chart\"\r\n          ? html`\r\n            <div class\"arci\" style=\"display: flex; flex-direction: column;\">\r\n            <div style=\"flex-grow: 4;\"> \r\n              ${\r\n                this.swicthChart\r\n                  ? html`\r\n                      <h3>Previsioni Produzione Fotovoltaica</h3>\r\n                      <div class=\"production_range\">\r\n                        <label for=\"interval-slider\"\r\n                          >Intervallo: ${this._interval} minuti</label\r\n                        >\r\n                        <div class=\"range-container\">\r\n                          <input\r\n                            id=\"interval-slider\"\r\n                            type=\"range\"\r\n                            min=\"1\"\r\n                            max=\"30\"\r\n                            .value=\"${this._interval}\"\r\n                            @input=\"${this._onSliderInput}\"\r\n                            @change=\"${this._atSliderChange}\"\r\n                          />\r\n                          <div class=\"offset_label\">\r\n                            <span class=\"range-thumb-label\"\r\n                              >${this._interval}</span\r\n                            >\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div id=\"chart\"></div>\r\n                    `\r\n                  : html`\r\n                      <h3 style=\"margin-bottom: 70px;\">\r\n                        Andamento Settimanale (Ultimi 7 Giorni)\r\n                      </h3>\r\n                      <div id=\"week-chart\"></div>\r\n                      <!-- Nuovo contenitore per il secondo grafico -->\r\n                    `\r\n              }\r\n                </div>\r\n                <div class=\"chart-cutton-container\">\r\n                  <button class=\"chart-button-select\"\r\n                @click=\"${() => {\r\n                  this.swicthChart = true;\r\n                  // this.showWeeklyChart = false;\r\n                  this._initializeChart(this.seriesData);\r\n                }}\"\r\n              >\r\n                Toggle Chart and Update\r\n              </button>\r\n              <div style=\"width: 2px; height: 80%; background-color: var(--divider-color); align-self: center;\"></div>\r\n              <button class=\"chart-button-select\"\r\n                  @click=\"${() => {\r\n                    this.swicthChart = false;\r\n                    this.initializeApexChart(this.chartdata, \"week-chart\");\r\n                  }}\"\r\n                >\r\n                  inizilte week chart\r\n                </button>\r\n                </div>\r\n            </div>    \r\n            `\r\n          : \"\"}\r\n        ${this.activeMenu === \"tile\"\r\n          ? html`\r\n              <div style=\"display: flex; flex-direction: column; gap: 10px;\">\r\n                ${this.createTileCards().map((tile) => tile)}\r\n              </div>\r\n            `\r\n          : \"\"}\r\n        ${this.activeMenu === \"heatmap\"\r\n          ? html` <div id=\"heatmap-chart\"></div> `\r\n          : \"\"}\r\n\r\n        <!-- ******************* bottom menu ****************** -->\r\n        <div class=\"bottom_bar\">\r\n          <ha-icon\r\n            icon=\"mdi:home\"\r\n            class=\"menu_icon ${this.activeMenu === \"home\"\r\n              ? \"menu_icon_on\"\r\n              : \"\"}\"\r\n            @click=\"${() => {\r\n              this.activeMenu = \"home\";\r\n            }}\"\r\n          ></ha-icon>\r\n          <ha-icon\r\n            icon=\"mdi:chart-areaspline\"\r\n            class=\"menu_icon ${this.activeMenu === \"chart\"\r\n              ? \"menu_icon_on\"\r\n              : \"\"}\"\r\n            @click=\"${() => {\r\n              this.activeMenu = \"chart\";\r\n              this._initializeChart(this.seriesData);\r\n            }}\"\r\n          ></ha-icon>\r\n          <ha-icon\r\n            icon=\"mdi:view-grid-compact\"\r\n            class=\"menu_icon ${this.activeMenu === \"heatmap\"\r\n              ? \"menu_icon_on\"\r\n              : \"\"}\"\r\n            @click=\"${() => {\r\n              this.activeMenu = \"heatmap\";\r\n              this.get_recorder_for_heatmap();\r\n              // this.initializeHeatmapChart();\r\n            }}\"\r\n          ></ha-icon>\r\n          <ha-icon\r\n            icon=\"mdi:format-list-numbered\"\r\n            class=\"menu_icon ${this.activeMenu === \"tile\"\r\n              ? \"menu_icon_on\"\r\n              : \"\"}\"\r\n            @click=\"${() => {\r\n              this.activeMenu = \"tile\";\r\n            }}\"\r\n          ></ha-icon>\r\n        </div>\r\n      </ha-card>\r\n    `;\r\n  }\r\n\r\n  //   // ******************************* fine heatmap **********************\r\n\r\n  private getNowTime() {\r\n    this.startTime = new Date();\r\n    this.endTime = new Date();\r\n    this.startTime.setDate(this.endTime.getDate() - 7);\r\n    this.startTime.setHours(23, 0, 0);\r\n    this.endTime.setHours(23, 59, 59, 999);\r\n  }\r\n\r\n  firstUpdated() {\r\n    this.daysToEvaluate = this.config.days ? this.config.days : 7;\r\n    this.getNowTime();\r\n\r\n    // Ottieni latitudine e longitudine da Home Assistant\r\n    const latitude = this.hass.config.latitude;\r\n    const longitude = this.hass.config.longitude;\r\n    if (latitude === undefined || longitude === undefined) {\r\n      const now = new Date().getTime();\r\n      return { min: now - 6 * 60 * 60 * 1000, max: now + 6 * 60 * 60 * 1000 }; // Valori di default\r\n    }\r\n    // Calcola alba e tramonto usando SunCalc\r\n    const times = SunCalc.getTimes(new Date(), latitude, longitude);\r\n\r\n    this.dawnTime = times.sunrise.getTime(); // Alba\r\n    this.duskTime = times.sunset.getTime(); // Tramonto\r\n\r\n    this.formatDataForWeekApexChart();\r\n\r\n    this.panelMode = this.config.panel_mode ? this.config.panel_mode : false;\r\n    this._applyDynamicStyles();\r\n    const slider = this.shadowRoot?.querySelector(\r\n      'input[type=\"range\"]'\r\n    ) as HTMLInputElement;\r\n    if (slider) {\r\n      requestAnimationFrame(() => this._updateLabelPosition(slider));\r\n      this._updateLabelPosition(slider);\r\n      const resizeObserver = new ResizeObserver(() => {\r\n        this._updateLabelPosition(slider);\r\n        this.requestUpdate();\r\n      });\r\n      resizeObserver.observe(slider.parentElement!);\r\n    }\r\n\r\n    this._fetchTodayData();\r\n  }\r\n\r\n  protected updated(changedProps: Map<string, any>) {\r\n    super.updated(changedProps);\r\n\r\n    if (!this.hass) return;\r\n\r\n    // Array delle entit da monitorare\r\n    let entitiesToWatch: string[] = [];\r\n\r\n    // Aggiungi `this.config.battery.power` se esiste\r\n    if (this.config?.battery?.power) {\r\n        entitiesToWatch.push(this.config.battery.power);\r\n    }\r\n\r\n    // Aggiungi `this.config.grid.grid_entity` se esiste\r\n    if (this.config?.grid?.grid_entity) {\r\n        entitiesToWatch.push(this.config.grid.grid_entity);\r\n    }\r\n\r\n    // Aggiungi tutte le entit contenute in `this.config.entities`\r\n    if (this.config?.entities) {\r\n        this.config.entities.forEach((entityConfig: any) => {\r\n            if (entityConfig.pv) {\r\n                entitiesToWatch.push(entityConfig.pv);\r\n            }\r\n            if (entityConfig.sensor_meter) {\r\n                entitiesToWatch.push(entityConfig.sensor_meter);\r\n            }\r\n            if (entityConfig.more_elements && Array.isArray(entityConfig.more_elements)) {\r\n                entitiesToWatch.push(...entityConfig.more_elements);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Controlla se una delle entit ha cambiato stato\r\n    let hasChanged = false;\r\n\r\n    entitiesToWatch.forEach(entity => {\r\n        if (changedProps.has(\"hass\") && this.hass.states[entity] !== changedProps.get(\"hass\")?.states[entity]) {\r\n            hasChanged = true;\r\n            console.log(`L'entit ${entity}  cambiata! Nuovo stato:`, this.hass.states[entity]?.state);\r\n        }\r\n    });\r\n\r\n    // Se una delle entit  cambiata, esegui una funzione\r\n    if (hasChanged) {\r\n        this.initializeLines();\r\n    }\r\n}\r\n\r\n  initializeLines() {\r\n    const linesSvg = this.shadowRoot.querySelector(\r\n      \".lines-svg\"\r\n    ) as SVGSVGElement;\r\n    if (!linesSvg) {\r\n      return;\r\n    }\r\n\r\n    // Rimuovi tutte le linee esistenti\r\n    while (linesSvg.firstChild) {\r\n      linesSvg.removeChild(linesSvg.firstChild);\r\n    }\r\n\r\n    const photovoltaicTopElements = Array.from(\r\n      this.shadowRoot.querySelectorAll(\".element-svg.top\")\r\n    ) as SVGSVGElement[];\r\n    const photovoltaicBottomElements = Array.from(\r\n      this.shadowRoot.querySelectorAll(\".element-svg.bottom\")\r\n    ) as SVGSVGElement[];\r\n\r\n    const casaSvg = this.shadowRoot.querySelector(\r\n      \".element-svg#casa\"\r\n    ) as SVGSVGElement;\r\n    if (!casaSvg) {\r\n      return;\r\n    }\r\n\r\n    const linesSvgRect = linesSvg.getBoundingClientRect();\r\n    const casaRect = casaSvg.getBoundingClientRect();\r\n    const casaX = casaRect.x - linesSvgRect.x;\r\n    const casaY = casaRect.y - linesSvgRect.y;\r\n    const casaWidth = casaRect.width;\r\n    const casaHeight = casaRect.height;\r\n\r\n    const casaCenterX = casaX + casaWidth / 2;\r\n\r\n    const drawLines = (\r\n      photovoltaicElements: SVGSVGElement[],\r\n      isBottom: boolean\r\n    ) => {\r\n      if (photovoltaicElements.length === 0) return;\r\n\r\n      const spacing = 10;\r\n      const offsets = 10;\r\n\r\n      const elementsWithCenter = photovoltaicElements.map((element) => {\r\n        const rect = element.getBoundingClientRect();\r\n        return {\r\n          element,\r\n          centerX: rect.x - linesSvgRect.x + rect.width / 2,\r\n          rect,\r\n        };\r\n      });\r\n\r\n      const perfectlyCenteredElement = elementsWithCenter.find(\r\n        (item) => Math.abs(item.centerX - casaCenterX) < 1\r\n      );\r\n\r\n      const elementsLeft = elementsWithCenter\r\n        .filter((item) => item.centerX < casaCenterX)\r\n        .sort((a, b) => b.centerX - a.centerX);\r\n      const elementsRight = elementsWithCenter\r\n        .filter((item) => item.centerX > casaCenterX)\r\n        .sort((a, b) => a.centerX - b.centerX);\r\n\r\n      const casaLine3StartX =\r\n        casaCenterX - ((photovoltaicElements.length - 1) * spacing) / 2;\r\n      const casaPointsX = Array.from(\r\n        { length: photovoltaicElements.length },\r\n        (_, i) => casaLine3StartX + i * spacing\r\n      );\r\n\r\n      elementsWithCenter.forEach((item, index) => {\r\n        const { element, rect, centerX } = item;\r\n        const elementX = rect.x - linesSvgRect.x;\r\n        const elementY = rect.y - linesSvgRect.y;\r\n        const elementWidth = rect.width;\r\n        const elementHeight = rect.height;\r\n\r\n        const elementVerticalX = centerX;\r\n\r\n        const isLeft = elementsLeft.some((left) => left.element === element);\r\n        const isRight = elementsRight.some(\r\n          (right) => right.element === element\r\n        );\r\n\r\n        const relativeIndex = isLeft\r\n          ? elementsLeft.findIndex((left) => left.element === element)\r\n          : elementsRight.findIndex((right) => right.element === element);\r\n\r\n        let line1Length = 10;\r\n        if (relativeIndex > 0) {\r\n          line1Length += relativeIndex * offsets;\r\n        }\r\n\r\n        const line1StartY = isBottom ? elementY : elementY + elementHeight;\r\n        const line1EndY = isBottom\r\n          ? elementY - line1Length\r\n          : elementY + elementHeight + line1Length;\r\n\r\n        let lineColor = \"red\";\r\n        if (\r\n          (isLeft && item === elementsLeft[0]) ||\r\n          (isRight && item === elementsRight[0])\r\n        ) {\r\n          lineColor = \"green\";\r\n        }\r\n        if (\r\n          perfectlyCenteredElement &&\r\n          perfectlyCenteredElement.element === element\r\n        ) {\r\n          lineColor = \"blue\";\r\n        }\r\n\r\n        const casaPointX = casaPointsX[index];\r\n        const casaPointY = isBottom ? casaY + casaHeight : casaY;\r\n\r\n        // Creazione di un unico path che unisce line1, line2 e line3\r\n        let path;\r\n        let d;\r\n\r\n        // Definizione del filtro per l'effetto blur (spostata fuori dal ciclo)\r\n        const createGlowFilter = () => {\r\n          const existingDefs = linesSvg.querySelector(\"defs\");\r\n          if (existingDefs) return; // Evita di ridefinire il filtro se gi esiste\r\n\r\n          const defs = document.createElementNS(\r\n            \"http://www.w3.org/2000/svg\",\r\n            \"defs\"\r\n          );\r\n          const filter = document.createElementNS(\r\n            \"http://www.w3.org/2000/svg\",\r\n            \"filter\"\r\n          );\r\n          filter.setAttribute(\"id\", \"glow-blur\");\r\n          filter.setAttribute(\"x\", \"-50%\");\r\n          filter.setAttribute(\"y\", \"-50%\");\r\n          filter.setAttribute(\"width\", \"200%\");\r\n          filter.setAttribute(\"height\", \"200%\");\r\n\r\n          const feGaussianBlur = document.createElementNS(\r\n            \"http://www.w3.org/2000/svg\",\r\n            \"feGaussianBlur\"\r\n          );\r\n          feGaussianBlur.setAttribute(\"in\", \"SourceGraphic\");\r\n          feGaussianBlur.setAttribute(\"stdDeviation\", \"1.5\"); // Intensit del blur\r\n          filter.appendChild(feGaussianBlur);\r\n\r\n          defs.appendChild(filter);\r\n          linesSvg.appendChild(defs);\r\n        };\r\n\r\n        createGlowFilter();\r\n\r\n        if (element.id === \"grid-power-direct\") {\r\n          const homeTile = this.shadowRoot.querySelector(\r\n            \".element-svg#home_tile\"\r\n          ) as SVGSVGElement;\r\n          if (!homeTile) {\r\n            console.error(\"Home Tile SVG element not found.\");\r\n            return;\r\n          }\r\n\r\n          const homeTileRect = homeTile.getBoundingClientRect();\r\n          const homeTileX = homeTileRect.x - linesSvgRect.x;\r\n          const homeTileY = homeTileRect.y - linesSvgRect.y;\r\n          const homeTileHeight = homeTileRect.height;\r\n\r\n          // Calcola i punti di partenza e di arrivo\r\n          const gridPowerX = elementX;\r\n          const gridPowerCenterY = elementY + elementHeight / 2;\r\n\r\n          const homeTileXEnd = homeTileX + homeTileRect.width;\r\n          const homeTileCenterY = homeTileY + homeTileHeight / 2;\r\n\r\n          // Disegna una linea statica tratteggiata\r\n          const staticLine = document.createElementNS(\r\n            \"http://www.w3.org/2000/svg\",\r\n            \"line\"\r\n          );\r\n          staticLine.setAttribute(\"x1\", gridPowerX.toString()); // Punto iniziale X\r\n          staticLine.setAttribute(\"y1\", gridPowerCenterY.toString()); // Punto iniziale Y\r\n          staticLine.setAttribute(\"x2\", homeTileXEnd.toString()); // Punto finale X\r\n          staticLine.setAttribute(\"y2\", homeTileCenterY.toString()); // Punto finale Y\r\n          staticLine.setAttribute(\"stroke\", \"#999\"); // Colore della linea statica\r\n          staticLine.setAttribute(\"stroke-width\", \"2\"); // Spessore\r\n          staticLine.setAttribute(\"stroke-dasharray\", \"7,5\"); // Tratteggio\r\n          staticLine.setAttribute(\"stroke-linecap\", \"round\"); // Bordi arrotondati\r\n          linesSvg.appendChild(staticLine);\r\n\r\n          // Aggiungi una linea glow se il valore  maggiore di 0\r\n          const stateValue = parseFloat(element.getAttribute(\"value\") || \"0\");\r\n          if (stateValue > 0) {\r\n            // Creazione della glowLine\r\n            const glowLine = document.createElementNS(\r\n              \"http://www.w3.org/2000/svg\",\r\n              \"line\"\r\n            );\r\n            glowLine.setAttribute(\"x1\", gridPowerX.toString()); // Punto iniziale X\r\n            glowLine.setAttribute(\"y1\", gridPowerCenterY.toString()); // Punto iniziale Y\r\n            glowLine.setAttribute(\"x2\", homeTileXEnd.toString()); // Punto finale X\r\n            glowLine.setAttribute(\"y2\", homeTileCenterY.toString()); // Punto finale Y\r\n\r\n            glowLine.setAttribute(\"stroke\", \"rgba(0, 191, 255, 0.8)\"); // Colore azzurro\r\n            glowLine.setAttribute(\"stroke-width\", \"4\"); // Spessore\r\n            glowLine.setAttribute(\"stroke-dasharray\", \"10,15\"); // Tratteggio per il bagliore\r\n            glowLine.setAttribute(\"stroke-linecap\", \"round\"); // Bordi arrotondati\r\n\r\n            // Aggiungi l'animazione alla glowLine\r\n            const animate = document.createElementNS(\r\n              \"http://www.w3.org/2000/svg\",\r\n              \"animate\"\r\n            );\r\n            animate.setAttribute(\"attributeName\", \"stroke-dashoffset\");\r\n            animate.setAttribute(\"from\", \"50\"); // Direzione inversa\r\n            animate.setAttribute(\"to\", \"0\");\r\n            animate.setAttribute(\"dur\", \"2s\");\r\n            animate.setAttribute(\"repeatCount\", \"indefinite\");\r\n            glowLine.appendChild(animate);\r\n\r\n            linesSvg.appendChild(glowLine);\r\n          }\r\n        } else {\r\n          // Logica originale per disegnare line1, line2 e line3\r\n          const casaPointX = casaPointsX[index];\r\n          const casaPointY = isBottom ? casaY + casaHeight : casaY;\r\n\r\n          d =\r\n            `M ${elementVerticalX} ${line1StartY} ` + // Inizio di line1\r\n            `L ${elementVerticalX} ${line1EndY} ` + // Fine di line1\r\n            `L ${casaPointX} ${line1EndY} ` + // Line2 orizzontale\r\n            `L ${casaPointX} ${casaPointY}`; // Line3 verticale\r\n\r\n          // Linea statica tratteggiata\r\n          const staticLine = document.createElementNS(\r\n            \"http://www.w3.org/2000/svg\",\r\n            \"path\"\r\n          );\r\n          staticLine.setAttribute(\"d\", d);\r\n          staticLine.setAttribute(\"stroke\", \"#999\"); // Colore della linea statica\r\n          staticLine.setAttribute(\"stroke-width\", \"2\");\r\n          staticLine.setAttribute(\"fill\", \"none\");\r\n          staticLine.setAttribute(\"stroke-dasharray\", \"7,5\"); // Tratteggio\r\n          staticLine.setAttribute(\"stroke-linecap\", \"round\"); // Bordi arrotondati\r\n          linesSvg.appendChild(staticLine);\r\n        }\r\n\r\n        // Linea dinamica per l'effetto bagliore\r\n        const glowLine = document.createElementNS(\r\n          \"http://www.w3.org/2000/svg\",\r\n          \"path\"\r\n        );\r\n        glowLine.setAttribute(\"d\", d);\r\n\r\n        // Applica il filtro blur al glowLine\r\n        // glowLine.setAttribute('filter', 'url(#glow-blur)');\r\n\r\n        // Controlla l'id per configurare il colore\r\n        if (element.id === \"grid-power\") {\r\n          glowLine.setAttribute(\"stroke\", \"rgba(0, 191, 255, 0.6)\"); // Colore azzurro\r\n        } else {\r\n          glowLine.setAttribute(\"stroke\", \"rgba(0, 255, 0, 0.6)\"); // Colore verde per default\r\n        }\r\n\r\n        glowLine.setAttribute(\"stroke-width\", \"4\");\r\n        glowLine.setAttribute(\"fill\", \"none\");\r\n        glowLine.setAttribute(\"stroke-dasharray\", \"10,40\"); // Configura tratteggio per il bagliore\r\n        glowLine.setAttribute(\"stroke-linecap\", \"round\"); // Bordi arrotondati\r\n\r\n        // Recupera il valore dell'attributo \"value\"\r\n        const stateValue = parseFloat(element.getAttribute(\"value\") || \"0\");\r\n        console.log('statevalue',stateValue);\r\n        \r\n\r\n        // Logica per gli elementi\r\n        if (element.id === \"battery\") {\r\n          // const stateValue = parseFloat(this.config?.battery?.power || \"0\");\r\n          if (stateValue > 0) {\r\n            // Direzione inversa per battery con value > 0\r\n            const animate = document.createElementNS(\r\n              \"http://www.w3.org/2000/svg\",\r\n              \"animate\"\r\n            );\r\n            animate.setAttribute(\"attributeName\", \"stroke-dashoffset\");\r\n            animate.setAttribute(\"from\", \"50\"); // Direzione inversa\r\n            animate.setAttribute(\"to\", \"0\");\r\n            animate.setAttribute(\"dur\", \"1s\");\r\n            animate.setAttribute(\"repeatCount\", \"indefinite\");\r\n            glowLine.appendChild(animate);\r\n            linesSvg.appendChild(glowLine);\r\n          } else if (stateValue < 0) {\r\n            // Direzione normale per battery con value < 0\r\n            const animate = document.createElementNS(\r\n              \"http://www.w3.org/2000/svg\",\r\n              \"animate\"\r\n            );\r\n            animate.setAttribute(\"attributeName\", \"stroke-dashoffset\");\r\n            animate.setAttribute(\"from\", \"0\"); // Direzione normale\r\n            animate.setAttribute(\"to\", \"50\");\r\n            animate.setAttribute(\"dur\", \"1s\");\r\n            animate.setAttribute(\"repeatCount\", \"indefinite\");\r\n            glowLine.appendChild(animate);\r\n            linesSvg.appendChild(glowLine);\r\n          } else {\r\n            // Non aggiungere il glowLine se stateValue == 0\r\n            console.log(\r\n              `GlowLine nascosto per elemento con id \"battery\" e stateValue = 0`\r\n            );\r\n          }\r\n        } else if (element.id === \"pv-element\" || element.id === \"grid-power\") {\r\n          // Direzione inversa per pv-element e grid-power\r\n          const animate = document.createElementNS(\r\n            \"http://www.w3.org/2000/svg\",\r\n            \"animate\"\r\n          );\r\n          animate.setAttribute(\"attributeName\", \"stroke-dashoffset\");\r\n          animate.setAttribute(\"from\", \"50\"); // Direzione inversa\r\n          animate.setAttribute(\"to\", \"0\");\r\n          animate.setAttribute(\"dur\", \"1s\");\r\n          animate.setAttribute(\"repeatCount\", \"indefinite\");\r\n          glowLine.appendChild(animate);\r\n          linesSvg.appendChild(glowLine);\r\n        } else if (stateValue > 0) {\r\n          // Altri elementi con stateValue > 0\r\n          const animate = document.createElementNS(\r\n            \"http://www.w3.org/2000/svg\",\r\n            \"animate\"\r\n          );\r\n          animate.setAttribute(\"attributeName\", \"stroke-dashoffset\");\r\n          animate.setAttribute(\"from\", \"0\"); // Direzione normale\r\n          animate.setAttribute(\"to\", \"50\");\r\n          animate.setAttribute(\"dur\", \"1s\");\r\n          animate.setAttribute(\"repeatCount\", \"indefinite\");\r\n          glowLine.appendChild(animate);\r\n          linesSvg.appendChild(glowLine);\r\n        }\r\n      });\r\n    };\r\n\r\n    drawLines(photovoltaicTopElements, false);\r\n    drawLines(photovoltaicBottomElements, true);\r\n  }\r\n\r\n  private _applyDynamicStyles() {\r\n    const currentTheme = this.hass.themes?.darkMode; // Verifica se il tema  scuro\r\n    const shadowDark_dark = \"rgba(0, 0, 0, 0.3)\";\r\n    const shadowLight_dark = \"rgba(255, 255, 255, 0.1)\";\r\n    const shadowDark_light = \"rgba(0, 0, 0, 0.15)\";\r\n    const shadowLight_light = \"rgba(125, 125, 125, 0.1)\";\r\n\r\n    const darkThemeStyles = `\r\n  input[type='range'] {\r\n    background-color: transparent;\r\n    box-shadow: \r\n      6px 6px 6px ${shadowDark_dark} inset, \r\n      -4px -4px 6px ${shadowLight_dark} inset;\r\n    display: block;\r\n    padding: 0 1.6px;\r\n    width: 100%;\r\n    height: 30px;\r\n    -webkit-appearance: none;\r\n    -moz-appearance: none;\r\n    appearance: none;\r\n    border-radius: 15px;\r\n  }\r\n`;\r\n\r\n    const lightThemeStyles = `\r\n  input[type='range'] {\r\n    background-color: transparent;\r\n    box-shadow: \r\n      6px 6px 6px ${shadowLight_light} inset, \r\n      -4px -4px 6px ${shadowDark_light} inset;\r\n    display: block;\r\n    padding: 0 1.6px;\r\n    width: 100%;\r\n    height: 30px;\r\n    -webkit-appearance: none;\r\n    -moz-appearance: none;\r\n    appearance: none;\r\n    border-radius: 15px;\r\n  }\r\n\r\n    `;\r\n\r\n    const styleSheet = document.createElement(\"style\");\r\n    styleSheet.innerHTML = currentTheme ? darkThemeStyles : lightThemeStyles;\r\n    this.shadowRoot?.appendChild(styleSheet);\r\n  }\r\n\r\n  private _updateLabelPosition(slider: HTMLInputElement) {\r\n    let offsetValue;\r\n    if (this.panelMode) {\r\n      offsetValue = 0.2;\r\n    } else {\r\n      offsetValue = 1;\r\n    }\r\n    const label = this.shadowRoot?.querySelector(\r\n      \".range-thumb-label\"\r\n    ) as HTMLElement;\r\n    if (!label || !slider) return;\r\n\r\n    const sliderWidth = slider.offsetWidth - 2;\r\n\r\n    const thumbWidth = 24; // Larghezza del thumb in px (aggiorna se diversa)\r\n    const min = parseInt(slider.min, 10);\r\n    const max = parseInt(slider.max, 10);\r\n    const percentage =\r\n      ((+slider.value - min) / (max - min)) * 100 + offsetValue;\r\n\r\n    // Calcola la posizione del label in px\r\n    const labelPosition =\r\n      (percentage / 100) * (sliderWidth - thumbWidth) + thumbWidth / 2;\r\n\r\n    // Aggiorna lo stile del label per posizionarlo correttamente sopra il thumb\r\n    label.style.left = `${labelPosition}px`;\r\n  }\r\n\r\n  private _addTicks() {\r\n    // Seleziona lo slider\r\n    const slider = this.shadowRoot?.querySelector(\r\n      'input[type=\"range\"]'\r\n    ) as HTMLInputElement;\r\n    if (!slider) {\r\n      // console.error('Slider element not found');\r\n      return;\r\n    }\r\n\r\n    // Rimuove eventuali tick esistenti\r\n    let tickContainer = this.shadowRoot?.querySelector(\r\n      \".range__ticks\"\r\n    ) as HTMLElement;\r\n    if (tickContainer) {\r\n      tickContainer.remove();\r\n    }\r\n\r\n    // Crea un nuovo contenitore per i tick\r\n    tickContainer = document.createElement(\"div\");\r\n\r\n    tickContainer.className = \"range__ticks\";\r\n    slider.parentElement?.appendChild(tickContainer);\r\n\r\n    // Configura intervalli e tick\r\n    const min = parseInt(slider.min, 10) || 1; // Inizia da 1\r\n    const max = parseInt(slider.max, 10) || 30; // Termina a 30\r\n    const step = 5; // Intervallo dei tick (multipli di 5)\r\n\r\n    // Aggiunge il tick iniziale (1)\r\n    const tickStart = document.createElement(\"span\");\r\n    tickStart.className = \"range__tick\";\r\n    tickStart.textContent = min.toString();\r\n    tickStart.style.position = \"absolute\";\r\n    tickStart.style.left = \"0%\"; // Il primo tick  sempre all'inizio (0%)\r\n    tickContainer.appendChild(tickStart);\r\n\r\n    // Aggiunge i tick successivi (multipli di 5 fino a 30)\r\n    for (let i = step; i <= max; i += step) {\r\n      const tick = document.createElement(\"span\");\r\n      tick.className = \"range__tick\";\r\n      tick.textContent = i.toString();\r\n      tick.style.position = \"absolute\";\r\n      tick.style.left = `${((i - min) / (max - min)) * 100}%`; // Calcola la posizione relativa in %\r\n      tickContainer.appendChild(tick);\r\n    }\r\n  }\r\n\r\n  private _onSliderInput(event: Event) {\r\n    const slider = event.target as HTMLInputElement;\r\n    this._interval = parseInt(slider.value, 10);\r\n    // Aggiorna la posizione della label\r\n    this._updateLabelPosition(slider);\r\n\r\n    if (this._debounceFetchHistory) {\r\n      clearTimeout(this._debounceFetchHistory);\r\n    }\r\n  }\r\n\r\n  private _atSliderChange(event: Event) {\r\n    const slider = event.target as HTMLInputElement;\r\n    this._interval = parseInt(slider.value, 10);\r\n    // Salva il valore dello slider nel localStorage\r\n    if (this.config?.id) {\r\n      const sliderKey = `slider_value_${this.config.id}`;\r\n      localStorage.setItem(sliderKey, slider.value);\r\n    } else {\r\n      console.warn(\"Unable to save slider value: no config.id found.\");\r\n    }\r\n\r\n    // Debounce per ridurre chiamate e aggiornare i dati\r\n    this._debounceFetchHistory = window.setTimeout(() => {\r\n      this._fetchTodayData();\r\n    }, 300);\r\n  }\r\n\r\n  private async _fetchTodayData() {\r\n    const entities = this.config.entities.map(\r\n      (item: { pv: string; max_power: number; unit_of_mesurament: string }) =>\r\n        item\r\n    );\r\n\r\n    const startTime = new Date();\r\n    startTime.setHours(0, 0, 0, 0); // Inizio del giorno corrente\r\n    const endTime = new Date();\r\n    endTime.setHours(23, 59, 59, 999); // Fine del giorno corrente\r\n\r\n    const seriesData: { name: string; data: { x: number; y: number }[] }[] = [];\r\n\r\n    try {\r\n      for (const entity of entities) {\r\n        const { pv: entityId, unit_of_mesurament } = entity;\r\n\r\n        const response = await this.hass.callApi(\r\n          \"GET\",\r\n          `history/period/${startTime.toISOString()}?filter_entity_id=${entityId}&end_time=${endTime.toISOString()}`\r\n        );\r\n\r\n        const historyData = response[0] || [];\r\n        const chartData = historyData\r\n          .map((entry: any) => {\r\n            const rawValue = parseFloat(entry.state);\r\n            const value =\r\n              unit_of_mesurament.toLowerCase() === \"watt\"\r\n                ? rawValue / 1000\r\n                : rawValue;\r\n            return {\r\n              x: new Date(entry.last_updated).getTime(),\r\n              y: value,\r\n            };\r\n          })\r\n          .filter(\r\n            (point: { x: number; y: number }) =>\r\n              point.y !== null && !isNaN(point.y)\r\n          );\r\n\r\n        const friendlyName =\r\n          this.hass.states[entityId]?.attributes?.friendly_name;\r\n        seriesData.push({\r\n          name: friendlyName || entityId,\r\n          data: chartData,\r\n        });\r\n      }\r\n\r\n      this.seriesData = seriesData;\r\n      this._initializeChart(this.seriesData); // Inizializza il primo grafico con i dati di oggi\r\n    } catch (error) {\r\n      console.error(\"Errore durante il recupero dei dati di oggi:\", error);\r\n    }\r\n  }\r\n\r\n  private calculateGraphSpan(): { min: number; max: number } {\r\n    // Sottrai un'ora all'alba e aggiungi un'ora al tramonto\r\n    const min = new Date(this.dawnTime - 60 * 60 * 1000).setMinutes(0, 0, 0); // Ora intera prima dell'alba\r\n    const max = new Date(this.duskTime + 60 * 60 * 1000).setMinutes(0, 0, 0); // Ora intera dopo il tramonto\r\n\r\n    return { min, max };\r\n  }\r\n\r\n  private async _initializeChart(\r\n    series: { name: string; data: { x: number; y: number }[] }[]\r\n  ) {\r\n    const ApexCharts = await this._getApexCharts();\r\n    const graphSpan = this.calculateGraphSpan();\r\n    const intervalMs = this._interval * 60 * 1000;\r\n    const allTimestamps = series.flatMap((serie) =>\r\n      serie.data.map((point) => point.x)\r\n    );\r\n    const minTimestamp = Math.min(...allTimestamps);\r\n    const maxTimestamp = Math.max(...allTimestamps);\r\n\r\n    const groupedSeries = series.map((serie) => ({\r\n      name: serie.name,\r\n      data: this._groupByNearest(\r\n        serie.data,\r\n        intervalMs,\r\n        minTimestamp,\r\n        maxTimestamp\r\n      ).filter(\r\n        (point) => point.y !== null && point.y !== undefined && !isNaN(point.y)\r\n      ),\r\n    }));\r\n\r\n    const slider = this.shadowRoot?.querySelector(\r\n      'input[type=\"range\"]'\r\n    ) as HTMLInputElement;\r\n    if (slider) {\r\n      this._updateLabelPosition(slider); // Aggiorna la posizione dell'etichetta\r\n    }\r\n\r\n    if (this.config.grafic_forcast?.forcast) {\r\n      const forecastEntity =\r\n        this.hass.states[this.config.grafic_forcast.forcast];\r\n\r\n      if (forecastEntity && forecastEntity.attributes.detailedForecast) {\r\n        const detailedForecast = forecastEntity.attributes.detailedForecast;\r\n\r\n        groupedSeries.push(\r\n          {\r\n            name: \"Stima media\",\r\n            data: detailedForecast\r\n              .filter((item: any) => {\r\n                const estimate = item.pv_estimate;\r\n                return (\r\n                  typeof estimate === \"number\" &&\r\n                  !isNaN(estimate) &&\r\n                  estimate !== 0\r\n                );\r\n              })\r\n              .map((item: any) => ({\r\n                x: new Date(item.period_start).getTime(),\r\n                y: item.pv_estimate,\r\n              })),\r\n            type: \"line\",\r\n            color: \"rgba(0, 0, 255, 1)\",\r\n          } as any,\r\n          {\r\n            name: \"Intervallo (min - max)\",\r\n            data: detailedForecast\r\n              .filter((item: any) => {\r\n                const min = item.pv_estimate10;\r\n                const max = item.pv_estimate90;\r\n                return (\r\n                  typeof min === \"number\" &&\r\n                  typeof max === \"number\" &&\r\n                  !isNaN(min) &&\r\n                  !isNaN(max) &&\r\n                  (min !== 0 || max !== 0)\r\n                );\r\n              })\r\n              .map((item: any) => ({\r\n                x: new Date(item.period_start).getTime(),\r\n                y: [item.pv_estimate10, item.pv_estimate90],\r\n              })),\r\n            type: \"rangeArea\",\r\n            color: \"rgba(0, 255, 0, 0.6)\",\r\n          } as any\r\n        );\r\n      }\r\n    }\r\n\r\n    const summedData = groupedSeries\r\n      .filter(\r\n        (serie) =>\r\n          ![\"Stima media\", \"Intervallo (min - max)\"].includes(serie.name)\r\n      ) // Esclude le serie previsionali\r\n      .reduce(\r\n        (acc, serie) => {\r\n          serie.data.forEach((point, index) => {\r\n            if (!acc[index]) {\r\n              acc[index] = { x: point.x, y: 0 };\r\n            }\r\n            acc[index].y += point.y ?? 0;\r\n          });\r\n          return acc;\r\n        },\r\n        [] as { x: number; y: number }[]\r\n      );\r\n\r\n    groupedSeries.push({\r\n      name: \"Somma Totale\",\r\n      data: summedData,\r\n      type: \"area\",\r\n      color: \"red\",\r\n    } as any);\r\n\r\n    const chartContainer = this.shadowRoot?.getElementById(\"chart\");\r\n    if (chartContainer) {\r\n      if (this.chart) {\r\n        this.chart.destroy();\r\n      }\r\n\r\n      const options = {\r\n        fill: {\r\n          type: \"gradient\",\r\n          gradient: {\r\n            // shade: 'light',\r\n            type: \"vertical\",\r\n            // shadeIntensity: 0.5,\r\n            // gradientToColors: [ '#FDD835'], // optional, if not defined - uses the shades of same color in series\r\n            inverseColors: false,\r\n            opacityFrom: 0.2,\r\n            opacityTo: 0.6,\r\n            stops: [0, 100],\r\n            // colorStops: []\r\n          },\r\n        },\r\n        chart: {\r\n          type: \"rangeArea\",\r\n          height: this.chartHeight,\r\n          zoom: { enabled: true, type: \"x\" },\r\n          toolbar: { show: true },\r\n        },\r\n        series: groupedSeries,\r\n        dataLabels: {\r\n          enabled: false,\r\n        },\r\n        xaxis: {\r\n          type: \"datetime\",\r\n          min: graphSpan.min,\r\n          max: graphSpan.max,\r\n          tooltip: {\r\n            enabled: false, // Disattiva il tooltip separato per l'asse X\r\n          },\r\n          labels: {\r\n            formatter: (value: number) => {\r\n              const date = new Date(value);\r\n              return `${date.getHours().toString().padStart(2, \"0\")}:00`;\r\n            },\r\n          },\r\n        },\r\n        yaxis: {\r\n          labels: {\r\n            formatter: (value: number | null | undefined) => {\r\n              if (typeof value !== \"number\" || isNaN(value)) {\r\n                return \"\";\r\n              }\r\n              return value.toFixed(1);\r\n            },\r\n          },\r\n        },\r\n        tooltip: {\r\n          shared: true,\r\n          intersect: false,\r\n          theme: \"dark\",\r\n          custom: function ({ series, seriesIndex, dataPointIndex, w }) {\r\n            const timestamp = w.globals.seriesX[seriesIndex][dataPointIndex];\r\n            const date = new Date(timestamp);\r\n            const formattedDate = date.toLocaleString(\"it-IT\", {\r\n              day: \"2-digit\",\r\n              month: \"short\",\r\n              year: \"numeric\",\r\n              hour: \"2-digit\",\r\n              minute: \"2-digit\",\r\n            });\r\n\r\n            let tooltipHtml = `<div><strong>${formattedDate}</strong></div>`;\r\n            series.forEach((value, idx) => {\r\n              const dataValue = value[dataPointIndex];\r\n              if (dataValue !== undefined && !isNaN(dataValue)) {\r\n                const seriesName = w.globals.seriesNames[idx];\r\n                tooltipHtml += `<div>${seriesName}: ${dataValue.toFixed(1)} kW</div>`;\r\n              }\r\n            });\r\n\r\n            return tooltipHtml;\r\n          },\r\n        },\r\n        grid: {\r\n          show: true,\r\n          borderColor: \"var(--divider-color)\", // '#FF5733', // Cambia il colore delle linee tratteggiate\r\n          strokeDashArray: 4, // Lunghezza dei trattini\r\n        },\r\n        stroke: {\r\n          width: 2,\r\n          // curve: 'smooth',\r\n          curve: \"straight\",\r\n        },\r\n        legend: {\r\n          show: true,\r\n          custom: true,\r\n          formatter: function (seriesName, opts) {\r\n            // Ottiene il colore della serie dall'indice della serie\r\n            const seriesColor = opts.w.globals.colors[opts.seriesIndex];\r\n\r\n            return `\r\n              <button class=\"custom-legend-btn\" style=\"border: 2px solid ${seriesColor};\">\r\n                ${seriesName}\r\n              </button>\r\n            `;\r\n          },\r\n        },\r\n      };\r\n\r\n      this.chart = new ApexCharts(chartContainer, options);\r\n      this.chart.render().then(() => {\r\n        this.config.entities.forEach((entity: { pv: string }) => {\r\n          const friendlyName =\r\n            this.hass.states[entity.pv]?.attributes?.friendly_name || entity.pv;\r\n          this.chart.hideSeries(friendlyName); // Usa direttamente il friendlyName o l'entityId\r\n        });\r\n      });\r\n    }\r\n    this._addTicks();\r\n  }\r\n\r\n  private _groupByNearest(\r\n    data: { x: number; y: number }[],\r\n    intervalMs: number,\r\n    startTime: number,\r\n    endTime: number\r\n  ) {\r\n    const groupedData: { x: number; y: number }[] = [];\r\n    let currentInterval = startTime;\r\n\r\n    while (currentInterval <= endTime) {\r\n      let closestPoint: { x: number; y: number } | null = null;\r\n      let minDistance = Infinity;\r\n\r\n      data.forEach((point) => {\r\n        const distance = Math.abs(point.x - currentInterval);\r\n        if (distance < minDistance) {\r\n          minDistance = distance;\r\n          closestPoint = point;\r\n        }\r\n      });\r\n\r\n      if (closestPoint) {\r\n        groupedData.push({ x: currentInterval, y: closestPoint.y });\r\n      } else {\r\n        groupedData.push({ x: currentInterval, y: null });\r\n      }\r\n\r\n      currentInterval += intervalMs;\r\n    }\r\n\r\n    return groupedData;\r\n  }\r\n\r\n  // ************************* NUOVO GRAFICO Daily *****************************\r\n  formatDataForWeekApexChart() {\r\n    const weekEntities = this.config.entities.map(\r\n      (entry) => entry.sensor_meter\r\n    );\r\n    const now = new Date();\r\n    const startTime = new Date();\r\n    startTime.setDate(now.getDate() - this.daysToEvaluate);\r\n    startTime.setHours(23, 0, 0);\r\n\r\n    const fetchAllData = () => {\r\n      if (weekEntities.length === 0) {\r\n        console.log(\"Nessuna entit da interrogare\");\r\n        return Promise.resolve({});\r\n      }\r\n      return this.hass.callWS({\r\n        type: \"recorder/statistics_during_period\",\r\n        statistic_ids: weekEntities,\r\n        period: \"day\",\r\n        start_time: startTime.toISOString(),\r\n        types: [\"sum\"],\r\n      });\r\n    };\r\n\r\n    const fetchTotalPvMeter = () => {\r\n      if (!this.config.total_pv_power) {\r\n        return Promise.resolve(null);\r\n      }\r\n      return this.hass.callWS({\r\n        type: \"recorder/statistics_during_period\",\r\n        statistic_ids: [this.config.total_pv_power],\r\n        period: \"day\",\r\n        start_time: startTime.toISOString(),\r\n        types: [\"sum\"],\r\n      });\r\n    };\r\n\r\n    return Promise.all([fetchAllData(), fetchTotalPvMeter()])\r\n      .then(([recorderResponse, totalPvPowerResponse]) => {\r\n        const formattedData = weekEntities.map((sensorId) => {\r\n          const sensorValues = recorderResponse[sensorId] || [];\r\n\r\n          if (sensorValues.length < 2) {\r\n            console.warn(\r\n              `Dati insufficienti per ${sensorId}, impossibile rimuovere il valore iniziale.`\r\n            );\r\n            return {\r\n              name: sensorId,\r\n              data: [],\r\n            };\r\n          }\r\n\r\n          let previousSum = sensorValues[0].sum;\r\n          return {\r\n            name:\r\n              this.hass.states[sensorId]?.attributes?.friendly_name || sensorId,\r\n            data: sensorValues.slice(1).map((entry) => {\r\n              const dailyValue = entry.sum - previousSum;\r\n              previousSum = entry.sum;\r\n              return {\r\n                x: new Date(entry.start).getTime(),\r\n                y: dailyValue,\r\n              };\r\n            }),\r\n          };\r\n        });\r\n\r\n        let series = formattedData;\r\n        if (weekEntities.length > 1) {\r\n          let totalSeries = {\r\n            name: \"totale\",\r\n            data: [],\r\n          };\r\n\r\n          if (this.config.total_pv_power && totalPvPowerResponse) {\r\n            const totalData =\r\n              totalPvPowerResponse[this.config.total_pv_power] || [];\r\n\r\n            if (totalData.length < 2) {\r\n              console.warn(\r\n                `Dati insufficienti per ${this.config.total_pv_power}, impossibile rimuovere il valore iniziale.`\r\n              );\r\n            } else {\r\n              let previousSum = totalData[0].sum;\r\n              totalSeries = {\r\n                name:\r\n                  this.hass.states[this.config.total_pv_power]?.attributes\r\n                    ?.friendly_name || this.config.total_pv_power,\r\n                data: totalData.slice(1).map((entry) => {\r\n                  const dailyValue = entry.sum - previousSum;\r\n                  previousSum = entry.sum;\r\n                  return {\r\n                    x: new Date(entry.start).getTime(),\r\n                    y: dailyValue,\r\n                  };\r\n                }),\r\n              };\r\n            }\r\n          } else {\r\n            const daysCount =\r\n              formattedData.length > 0 ? formattedData[0].data.length : 0;\r\n            for (let i = 0; i < daysCount; i++) {\r\n              let sum = 0;\r\n              formattedData.forEach((series) => {\r\n                sum += series.data[i]?.y || 0;\r\n              });\r\n              totalSeries.data.push({\r\n                x: formattedData[0].data[i]?.x || 0,\r\n                y: sum,\r\n              });\r\n            }\r\n          }\r\n          series.push(totalSeries);\r\n        }\r\n\r\n        this.chartdata = {\r\n          chart: { type: \"bar\" },\r\n          series: series,\r\n        };\r\n        this.sommaYUltimi7(this.chartdata);\r\n        this.requestUpdate();\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Errore nel recupero dei dati:\", error);\r\n      });\r\n  }\r\n\r\n  sommaYUltimi7(chartObj: any): number {\r\n    // Cerchiamo la serie con nome \"totale\"\r\n    const serieTotale = chartObj.series.find(\r\n      (serie) => serie.name === \"totale\"\r\n    );\r\n\r\n    if (!serieTotale) {\r\n      throw new Error(\"Serie 'totale' non trovata.\");\r\n    }\r\n\r\n    // Prendiamo gli ultimi 7 elementi dell'array 'data'\r\n    const ultimiSette = serieTotale.data.slice(-7);\r\n\r\n    // Sommiamo i valori di y dei punti presi\r\n    const somma = ultimiSette.reduce((acc, punto) => acc + punto.y, 0);\r\n    this.totalWekkPvProduction = somma.toFixed(2);\r\n    return somma;\r\n  }\r\n\r\n  private async initializeApexChart(chartOptions, containerId) {\r\n    const chartContainer = await this.shadowRoot?.getElementById(containerId);\r\n    if (chartContainer) {\r\n      if (this.weekChart) {\r\n        this.weekChart.destroy();\r\n      }\r\n    }\r\n\r\n    const options = {\r\n      chart: {\r\n        type: \"bar\",\r\n        height: this.chartHeight,\r\n        events: {\r\n          mounted: () => {\r\n            this.setDefaultZoom();\r\n            this.hideNonTotaleSeries(chartOptions.series);\r\n          },\r\n          resetZoom: () => {\r\n            setTimeout(() => {\r\n              this.setDefaultZoom();\r\n            }, 100);\r\n          },\r\n        },\r\n      },\r\n      xaxis: {\r\n        type: \"datetime\",\r\n        labels: {\r\n          format: \"dd/MM\",\r\n        },\r\n      },\r\n      yaxis: {\r\n        labels: {\r\n          formatter: function (val) {\r\n            return Math.round(val);\r\n          },\r\n        },\r\n      },\r\n      dataLabels: {\r\n        enabled: false,\r\n      },\r\n      legend: {\r\n        show: true,\r\n        custom: true,\r\n        formatter: function (seriesName, opts) {\r\n          const seriesColor = opts.w.globals.colors[opts.seriesIndex];\r\n          return `\r\n                    <button class=\"custom-legend-btn\" style=\"border: 2px solid ${seriesColor}; background: none; color: ${seriesColor}; padding: 5px 10px; border-radius: 5px; cursor: pointer;\">\r\n                        ${seriesName}\r\n                    </button>\r\n                `;\r\n        },\r\n      },\r\n      tooltip: {\r\n        enabled: true,\r\n        theme: \"dark\",\r\n      },\r\n      series: chartOptions.series.map((series) => ({\r\n        ...series,\r\n        visible: series.name === \"totale\",\r\n      })),\r\n    };\r\n\r\n    this.weekChart = new ApexCharts(\r\n      this.shadowRoot?.querySelector(`#${containerId}`),\r\n      options\r\n    );\r\n    this.weekChart.render();\r\n  }\r\n\r\n  private setDefaultZoom() {\r\n    if (!this.weekChart) return;\r\n\r\n    const allDataPoints = this.weekChart.w.config.series[0].data;\r\n    if (allDataPoints.length > 7) {\r\n      const lastIndex = allDataPoints.length - 1;\r\n      const firstIndex = Math.max(0, lastIndex - 6);\r\n      const startDate = allDataPoints[firstIndex].x;\r\n      const endDate = allDataPoints[lastIndex].x;\r\n\r\n      this.weekChart.updateOptions(\r\n        {\r\n          xaxis: {\r\n            min: startDate,\r\n            max: endDate,\r\n          },\r\n        },\r\n        false,\r\n        false\r\n      );\r\n    }\r\n  }\r\n\r\n  private hideNonTotaleSeries(series) {\r\n    if (!this.weekChart) return;\r\n\r\n    series.forEach((seriesItem) => {\r\n      if (seriesItem.name !== \"totale\") {\r\n        this.weekChart.hideSeries(seriesItem.name);\r\n      }\r\n    });\r\n  }\r\n\r\n  // ************************* FINE GRAFICO daily *****************************\r\n\r\n  private async _getApexCharts() {\r\n    if (window.ApexCharts) {\r\n      return window.ApexCharts;\r\n    } else {\r\n      const { default: ApexCharts } = await import(\"apexcharts\");\r\n      window.ApexCharts = ApexCharts;\r\n      return ApexCharts;\r\n    }\r\n  }\r\n\r\n  // *********************************      test new heatmap ****************************\r\n\r\n  private waitForApexCharts(): Promise<void> {\r\n    return new Promise<void>((resolve) => {\r\n      const interval = setInterval(() => {\r\n        if (typeof ApexCharts !== \"undefined\") {\r\n          clearInterval(interval);\r\n          resolve(); // Risolve la Promise senza restituire alcun valore\r\n        }\r\n      }, 100); // Controlla ogni 100ms\r\n    });\r\n  }\r\n\r\n  private updateDateRange(days: number) {\r\n    const newStartTime = new Date(this.startTime);\r\n    const newEndTime = new Date(this.endTime);\r\n    newStartTime.setDate(newStartTime.getDate() + days);\r\n    newEndTime.setDate(newEndTime.getDate() + days);\r\n\r\n    // Assicura che endTime non superi il giorno attuale\r\n    const today = new Date();\r\n    today.setHours(23, 59, 59, 999);\r\n    if (newEndTime > today) {\r\n      return; // Se si tenta di andare oltre oggi, non fare nulla\r\n    }\r\n\r\n    this.startTime = newStartTime;\r\n    this.endTime = newEndTime;\r\n    this.get_recorder_for_heatmap(); // Ricarica i dati con le nuove date\r\n  }\r\n\r\n  private get_recorder_for_heatmap() {\r\n    const entitiesToPass = this.config.entities\r\n      .filter((entry) => entry.sensor_meter)\r\n      .map((entry) => entry.sensor_meter);\r\n\r\n    const fetchAllData = () => {\r\n      if (entitiesToPass.length === 0) {\r\n        return Promise.resolve({});\r\n      }\r\n      return this.hass.callWS({\r\n        type: \"recorder/statistics_during_period\",\r\n        statistic_ids: entitiesToPass,\r\n        period: \"hour\",\r\n        start_time: this.startTime.toISOString(),\r\n        end_time: this.endTime.toISOString(),\r\n        types: [\"sum\"],\r\n      });\r\n    };\r\n\r\n    const fetchTotalPvMeter = () => {\r\n      return this.hass.callWS({\r\n        type: \"recorder/statistics_during_period\",\r\n        statistic_ids: [this.config.total_pv_meter],\r\n        period: \"hour\",\r\n        start_time: this.startTime.toISOString(),\r\n        end_time: this.endTime.toISOString(),\r\n        types: [\"sum\"],\r\n      });\r\n    };\r\n\r\n    const processResponse = (recorderResponse, isSummed = false) => {\r\n      // Converti alba e tramonto in formato HH:mm\r\n      const dawnTime = new Date(this.dawnTime);\r\n      const duskTime = new Date(this.duskTime);\r\n\r\n      const dawnExtended = new Date(\r\n        dawnTime.getTime() - 2 * 60 * 60 * 1000\r\n      ).toLocaleTimeString(\"en-GB\", {\r\n        hour: \"2-digit\",\r\n        minute: \"2-digit\",\r\n        hour12: false,\r\n      });\r\n\r\n      const duskExtended = new Date(\r\n        duskTime.getTime() + 1 * 60 * 60 * 1000\r\n      ).toLocaleTimeString(\"en-GB\", {\r\n        hour: \"2-digit\",\r\n        minute: \"2-digit\",\r\n        hour12: false,\r\n      });\r\n\r\n      let hourlyData = {}; // Oggetto per organizzare i dati per ora\r\n\r\n      Object.keys(recorderResponse).forEach((sensor) => {\r\n        let data = recorderResponse[sensor];\r\n\r\n        if (data.length < 2) {\r\n          console.warn(`Dati insufficienti per ${sensor}`);\r\n          return;\r\n        }\r\n\r\n        data.forEach((entry, index) => {\r\n          if (index === 0) return; // Il primo valore viene ignorato per il calcolo\r\n\r\n          let previousEntry = data[index - 1]; // Valore precedente per la sottrazione\r\n          let dailyValue = Number((entry.sum - previousEntry.sum).toFixed(2)); // Differenza arrotondata a 2 decimali\r\n\r\n          let entryDate = new Date(entry.start);\r\n          let hourKey =\r\n            entryDate.getHours().toString().padStart(2, \"0\") + \":00\"; // Formato \"HH:00\"\r\n          let dateString = entryDate.toISOString().split(\"T\")[0]; // Solo la data \"YYYY-MM-DD\"\r\n\r\n          // Filtra solo le ore comprese tra 2 ore prima dell'alba e 1 ora dopo il tramonto\r\n          if (hourKey < dawnExtended || hourKey > duskExtended) {\r\n            return;\r\n          }\r\n\r\n          if (!hourlyData[hourKey]) {\r\n            hourlyData[hourKey] = {};\r\n          }\r\n\r\n          if (!hourlyData[hourKey][dateString]) {\r\n            hourlyData[hourKey][dateString] = 0;\r\n          }\r\n\r\n          // Se stiamo aggregando i sensori, sommiamo i valori\r\n          if (isSummed) {\r\n            hourlyData[hourKey][dateString] += dailyValue;\r\n          } else {\r\n            hourlyData[hourKey][dateString] = dailyValue;\r\n          }\r\n        });\r\n      });\r\n\r\n      // Convertiamo i dati nel formato richiesto (array con {name: 'HH:00', data: [...]})\r\n      let formattedData = Object.keys(hourlyData)\r\n        .sort((a, b) => parseInt(b) - parseInt(a)) // Ordine decrescente delle ore\r\n        .map((hour) => ({\r\n          name: hour,\r\n          data: Object.keys(hourlyData[hour]).map((date) => ({\r\n            x: date,\r\n            y: Number(hourlyData[hour][date].toFixed(2)),\r\n          })),\r\n        }));\r\n\r\n      const disableLeftButtonHeatmap =\r\n        formattedData.length > 0 &&\r\n        formattedData[formattedData.length - 1].data.length <= 6;\r\n\r\n      this.heatmapObj = formattedData;\r\n\r\n      this.initializeHeatmapChart2(formattedData);\r\n      this.updateNavigatorButtonsHeatmap(disableLeftButtonHeatmap);\r\n      return formattedData;\r\n    };\r\n\r\n    if (this.config.total_pv_meter) {\r\n      fetchTotalPvMeter()\r\n        .then((response) => processResponse(response, false)) // NO somma, il valore  gi aggregato\r\n        .catch((error) => {\r\n          console.error(\"Errore nel recupero dei dati:\", error);\r\n        });\r\n    } else {\r\n      fetchAllData()\r\n        .then((response) => processResponse(response, true)) // SOMMA tutti i sensori interrogati\r\n        .catch((error) => {\r\n          console.error(\"Errore nel recupero dei dati:\", error);\r\n        });\r\n    }\r\n  }\r\n\r\n  async initializeHeatmapChart2(formattedData) {\r\n    const totalMaxPower =\r\n      this.entities.reduce((sum, entity) => sum + (entity.max_power || 0), 0) /\r\n      1000;\r\n    const step = parseFloat((totalMaxPower / 5).toFixed(2));\r\n    const totalMaxPowerArray = Array.from({ length: 6 }, (_, i) =>\r\n      parseFloat(((i + 1) * step).toFixed(2))\r\n    );\r\n    await this.waitForApexCharts();\r\n\r\n    // let formattedData = this.transformToHeatmapData();\r\n\r\n    if (formattedData.length === 0) {\r\n      console.warn(\r\n        \"Dati formattati vuoti. Impossibile inizializzare il grafico.\"\r\n      );\r\n      return;\r\n    }\r\n\r\n    //  Aggiunge `min` e `max` a ogni serie\r\n    formattedData = formattedData.map((series) => ({\r\n      ...series,\r\n      data: series.data.map((dataPoint) => ({\r\n        ...dataPoint,\r\n        min: 0, // Minimo comune per tutte le serie\r\n        max: totalMaxPowerArray[5], // Massimo comune per tutte le serie\r\n      })),\r\n    }));\r\n\r\n    const options = {\r\n      chart: {\r\n        type: \"heatmap\",\r\n        height: 550,\r\n        zoom: {\r\n          enabled: true, //  Abilita il zoom manuale\r\n          autoScaleYaxis: true,\r\n        },\r\n      },\r\n      series: formattedData, //  Usa i dati aggiornati con `min` e `max`\r\n      plotOptions: {\r\n        heatmap: {\r\n          shadeIntensity: 0.8,\r\n          useFillColorAsStroke: true,\r\n          radius: 0,\r\n          colorScale: {\r\n            ranges: [\r\n              {\r\n                from: 0,\r\n                to: totalMaxPowerArray[0],\r\n                color: \"#280487\",\r\n                name: `0 - ${totalMaxPowerArray[0]}`,\r\n              }, // Blu\r\n              {\r\n                from: totalMaxPowerArray[0],\r\n                to: totalMaxPowerArray[1],\r\n                color: \"#b6346a\",\r\n              }, // Verde\r\n              {\r\n                from: totalMaxPowerArray[1],\r\n                to: totalMaxPowerArray[2],\r\n                color: \"#df6d2e\",\r\n              }, // Giallo\r\n              {\r\n                from: totalMaxPowerArray[2],\r\n                to: totalMaxPowerArray[3],\r\n                color: \"#efb03d\",\r\n              }, // Arancione\r\n              {\r\n                from: totalMaxPowerArray[3],\r\n                to: totalMaxPowerArray[4],\r\n                color: \"#f8e36c\",\r\n              }, // Rosso\r\n              {\r\n                from: totalMaxPowerArray[4],\r\n                to: totalMaxPowerArray[5],\r\n                color: \"#f3f4d0\",\r\n              }, // Bianco\r\n            ],\r\n          },\r\n        },\r\n      },\r\n      dataLabels: {\r\n        enabled: false,\r\n      },\r\n      legend: {\r\n        formatter: function (seriesName, opts) {\r\n          // Array di gradienti da assegnare in ordine\r\n          const gradients = [\r\n            \"linear-gradient(to right, #280487, #8b2572)\",\r\n            \"linear-gradient(to right, #8b2572, #c54855)\",\r\n            \"linear-gradient(to right, #c54855, #df6d2f)\",\r\n            \"linear-gradient(to right, #df6d2f, #e99838)\",\r\n            \"linear-gradient(to right, #e99838, #f0c56c)\",\r\n            \"linear-gradient(to right, #f0c56c, #f3f2cc)\",\r\n          ];\r\n\r\n          // Determina il colore in base all'indice della serie\r\n          const background = gradients[opts.seriesIndex] || \"#ccc\"; // Default a grigio se fuori range\r\n\r\n          return `<button style=\"\r\n          \r\n          background:${background}; \r\n          color:white; \r\n          border:none; \r\n          flex-grow: 1\r\n          border-radius: 0 !important;\r\n          height: 35px; /* Altezza fissa per tutti i pulsanti */\r\n          text-align: center;\r\n          cursor:pointer;\r\n          font-weight:bold;\r\n          ;\">\r\n            ${seriesName}\r\n        </button>`;\r\n        },\r\n      },\r\n      xaxis: {\r\n        labels: {\r\n          style: {\r\n            colors: \"var(--primary-text-color)\",\r\n          },\r\n        },\r\n      },\r\n      yaxis: {\r\n        labels: {\r\n          style: {\r\n            colors: \"var(--primary-text-color)\",\r\n          },\r\n        },\r\n      },\r\n\r\n      tooltip: {\r\n        enabled: true,\r\n        theme: \"dark\",\r\n      },\r\n      title: {\r\n        text: \"Produzione giornaliera\",\r\n        align: \"center\",\r\n        style: {\r\n          color: \"#FFF\",\r\n        },\r\n      },\r\n    };\r\n\r\n    const chartElement = this.shadowRoot?.querySelector(\"#heatmap-chart\");\r\n    if (!chartElement) {\r\n      console.error(\"Elemento #heatmap-chart non trovato.\");\r\n      return;\r\n    }\r\n\r\n    if (this.chartMap) {\r\n      this.chartMap.destroy();\r\n    }\r\n\r\n    this.chartMap = new ApexCharts(chartElement, options);\r\n    // this.chartMap.render();\r\n    this.chartMap.render().then(() => {\r\n      // Combiniamo tutti i dati di tutte le serie in un unico array\r\n      const allDataPoints = formattedData.flatMap((series) => series.data);\r\n\r\n      // Verifica che ci siano dati\r\n      if (!allDataPoints.length) {\r\n        console.warn(\"Nessun dato disponibile per il grafico.\");\r\n        return;\r\n      }\r\n\r\n      // Ordina per asse X (tempo) se necessario\r\n      allDataPoints.sort((a, b) => a.x - b.x);\r\n\r\n      // Se ci sono pi di 7 giorni di dati, limita la visualizzazione\r\n      if (allDataPoints.length > 7) {\r\n        const lastIndex = allDataPoints.length - 1;\r\n        const firstIndex = Math.max(0, lastIndex - 6);\r\n        const startDate = new Date(allDataPoints[firstIndex].x).getTime();\r\n        const endDate = new Date(allDataPoints[lastIndex].x).getTime();\r\n\r\n        // Converti x in Date per confronto\r\n        formattedData.forEach((series) => {\r\n          series.data.forEach((point) => {\r\n            point.x = new Date(point.x); // Converti la stringa \"YYYY-MM-DD\" in un oggetto Date\r\n          });\r\n        });\r\n\r\n        // Ordina per data (se non gi ordinato)\r\n        formattedData.forEach((series) => {\r\n          series.data.sort((a, b) => a.x - b.x);\r\n        });\r\n\r\n        // Trova la data limite per gli ultimi 7 giorni\r\n        const lastDate =\r\n          formattedData[0].data[formattedData[0].data.length - 1].x;\r\n        const firstDate = new Date(lastDate);\r\n        firstDate.setDate(firstDate.getDate() - 6); // Ultimi 7 giorni\r\n\r\n        // Filtra i dati per tenere solo gli ultimi 7 giorni\r\n        const filteredData = formattedData.map((series) => ({\r\n          name: series.name,\r\n          data: series.data.filter((point) => point.x >= firstDate),\r\n        }));\r\n\r\n        //  Converti `x` in stringa per renderlo compatibile con Heatmap\r\n        filteredData.forEach((series) => {\r\n          series.data.forEach((point) => {\r\n            point.x = point.x.toLocaleDateString(\"en-GB\", {\r\n              day: \"2-digit\",\r\n              month: \"short\",\r\n            });\r\n          });\r\n        });\r\n\r\n        //  Aggiorna il grafico con i dati corretti\r\n        this.chartMap.updateSeries(filteredData);\r\n      }\r\n\r\n      const chartContainer = this.shadowRoot?.querySelector(\"#heatmap-chart\");\r\n      // Controlla se il navigatore gi esiste per evitare duplicati\r\n\r\n      if (!this.shadowRoot?.querySelector(\".chart-cutton-container\")) {\r\n        // Aggiunge l'HTML sotto il grafico\r\n        chartContainer.insertAdjacentHTML(\r\n          \"afterend\",\r\n          `\r\n          <div class=\"chart-cutton-container\">\r\n            <button class=\"chart-button-select\" id=\"prev-day-heatmap\"> Giorno Precedente</button>\r\n            <div style=\"width: 2px; height: 80%; background-color: var(--divider-color); align-self: center;\"></div>\r\n            <button class=\"chart-button-select\" id=\"reset-heatmap\">Ripristina</button>\r\n            <div style=\"width: 2px; height: 80%; background-color: var(--divider-color); align-self: center;\"></div>\r\n            <button class=\"chart-button-select\" id=\"next-day-heatmap\">Giorno Successivo </button>\r\n          </div>\r\n        `\r\n        );\r\n\r\n        // Aggiungi gli event listener ai bottoni\r\n        this.shadowRoot\r\n          ?.querySelector(\"#prev-day-heatmap\")\r\n          ?.addEventListener(\"click\", () => {\r\n            this.updateDateRange(-1); // Cambia la data\r\n            // Aggiorna lo stato dei pulsanti\r\n          });\r\n        this.shadowRoot\r\n          ?.querySelector(\"#reset-heatmap\")\r\n          ?.addEventListener(\"click\", () => {\r\n            // this.initializeHeatmapChart2(formattedData);\r\n            this.getNowTime();\r\n            this.initializeHeatmapChart2(formattedData);\r\n          });\r\n        this.shadowRoot\r\n          ?.querySelector(\"#next-day-heatmap\")\r\n          .addEventListener(\"click\", () => this.updateDateRange(1));\r\n      }\r\n    });\r\n  }\r\n\r\n  private updateNavigatorButtonsHeatmap = (disableLeftButtonHeatmap) => {\r\n    const nextButton = this.shadowRoot?.querySelector(\r\n      \"#prev-day-heatmap\"\r\n    ) as HTMLButtonElement;\r\n    if (nextButton) {\r\n      nextButton.disabled = disableLeftButtonHeatmap;\r\n    }\r\n  };\r\n\r\n  private _moreinfo(entityinfo) {\r\n    const popupEvent = new Event(\"hass-more-info\", {\r\n      bubbles: true,\r\n      cancelable: false,\r\n      composed: true,\r\n    });\r\n\r\n    // Utilizza 'as any' per aggirare la verifica del tipo\r\n    (popupEvent as any).detail = { entityId: entityinfo };\r\n\r\n    this.ownerDocument\r\n      .querySelector(\"home-assistant\")\r\n      .dispatchEvent(popupEvent);\r\n  }\r\n\r\n\r\n\r\n}\r\n"],"names":["t","e","s","o","r","n","i","S","c","h","a","l","p","d","u","f","y","loader","html","rainy","cloudeCoverage","uvIndex","temperature","clearnight","cloudy","day","partlycloudy","hail","lightningrainy","lightning","partlycloudynight","pouring","snowyrainy","windyvariant","windy","fog","pvIcon","state","battery","batteryPercentageState","gridPower","home","totalPower","pvPercentage","batteryPercentage","inverter","css","PhotovoltaicCard","PhotovoltaicCard_1","LitElement","properties","hass","config","activeMenu","showChart","swicthChart","panelMode","showMoreElements","iconMapping","sunny","night","constructor","_interval","_debounceFetchHistory","chartHeight","_tileCards","moreElements_Cards","_moreElementsContainer","previousWidth","weekGridConsumption","chartMap","gridWeekTotal","totalWekkPvProduction","daysToEvaluate","disableLeftButtonHeatmap","sensorData","aggregatedData","dinamicContent","moreElemetsName","moreElemetsFunction","dynamicFunction","updateNavigatorButtonsHeatmap","nextButton","_a","shadowRoot","querySelector","disabled","styles","setConfig","entities","Array","isArray","Error","updatedConfig","Object","assign","uniqueKey","JSON","stringify","card","type","hash","_generateHash","storageKey","savedId","localStorage","getItem","Date","now","Math","random","toString","substr","setItem","id","sliderKey","savedSliderValue","parseInt","_c","_b","options","data_time_period","input","length","char","charCodeAt","connectedCallback","window","addEventListener","handleResize","bind","disconnectedCallback","removeEventListener","currentWidth","getBoundingClientRect","width","initializeLines","createTileCards","tile_cards","map","entity","tileConfig","tile","document","createElement","forEach","generateMoreElements","more_elements","sensorEntities","filter","startsWith","otherEntities","push","getTotalSum","chartdata","sum","seriesData","series","data","last7Values","slice","reduce","total","point","totaleSeries","find","name","Number","toFixed","askForEntity","consumer","days","unit","Promise","resolve","reject","startTime","setDate","getDate","setHours","states","entityUnit","attributes","unit_of_measurement","toLowerCase","isWatt","callWS","statistic_ids","period","start_time","toISOString","types","then","recorderResponse","entityData","console","warn","totale","correctedDays","totalSum","correctedSum","parseFloat","start","end","correctedData","catch","error","isPanelMode","huiRoot","_f","_e","_g","isVericarlCard","haCard","offsetHeight","offsetWidth","render","pv_nemuber","linesSvg","cardCardWidth","round","querySelectorAll","weatherObj","weatherSvg","renderIcon","weather_entity","pvTotal","batteryTotal","gridTotal","pvState","pv","convertedPvState","convert_to_watt","grid","grid_entity","_d","power","batteryPercentageNow","_h","battery_state","_j","c02","_l","_k","grid_meter","_m","unit_of_measurament","gridAsk","_p","_o","battery_meter","_q","batteryAsk","batteryWeekTotal","totalConsumption","totalWeekKwhPercentage","_moreinfo","entityId","maxPower","max_power","stateObj","percentage","friendly_name","cloud_coverage","uv_index","temperature_unit","log","_onSliderInput","_atSliderChange","_initializeChart","initializeApexChart","get_recorder_for_heatmap","getNowTime","endTime","firstUpdated","latitude","longitude","undefined","getTime","min","max","times","SunCalc","getTimes","dawnTime","sunrise","duskTime","sunset","formatDataForWeekApexChart","panel_mode","_applyDynamicStyles","slider","requestAnimationFrame","_updateLabelPosition","resizeObserver","ResizeObserver","requestUpdate","observe","parentElement","_fetchTodayData","updated","changedProps","entitiesToWatch","entityConfig","sensor_meter","hasChanged","has","get","firstChild","removeChild","photovoltaicTopElements","from","photovoltaicBottomElements","casaSvg","linesSvgRect","casaRect","casaX","x","casaY","casaWidth","casaHeight","height","casaCenterX","drawLines","photovoltaicElements","isBottom","spacing","offsets","elementsWithCenter","element","rect","centerX","perfectlyCenteredElement","item","abs","elementsLeft","sort","b","elementsRight","casaLine3StartX","casaPointsX","_","index","elementX","elementY","elementHeight","elementVerticalX","isLeft","some","left","isRight","right","relativeIndex","findIndex","line1Length","line1StartY","line1EndY","createGlowFilter","existingDefs","defs","createElementNS","setAttribute","feGaussianBlur","appendChild","homeTile","homeTileRect","homeTileX","homeTileY","homeTileHeight","gridPowerX","gridPowerCenterY","homeTileXEnd","homeTileCenterY","staticLine","stateValue","getAttribute","glowLine","animate","casaPointX","casaPointY","currentTheme","themes","darkMode","shadowDark_dark","shadowLight_dark","shadowDark_light","shadowLight_light","darkThemeStyles","lightThemeStyles","styleSheet","innerHTML","offsetValue","label","sliderWidth","thumbWidth","value","labelPosition","style","_addTicks","tickContainer","remove","className","step","tickStart","textContent","position","tick","event","target","clearTimeout","setTimeout","unit_of_mesurament","response","callApi","historyData","chartData","entry","rawValue","last_updated","isNaN","friendlyName","calculateGraphSpan","setMinutes","ApexCharts","_getApexCharts","graphSpan","intervalMs","allTimestamps","flatMap","serie","minTimestamp","maxTimestamp","groupedSeries","_groupByNearest","grafic_forcast","forcast","forecastEntity","detailedForecast","estimate","pv_estimate","period_start","color","pv_estimate10","pv_estimate90","summedData","includes","acc","chartContainer","getElementById","chart","destroy","fill","gradient","inverseColors","opacityFrom","opacityTo","stops","zoom","enabled","toolbar","show","dataLabels","xaxis","tooltip","labels","formatter","date","getHours","padStart","yaxis","shared","intersect","theme","custom","seriesIndex","dataPointIndex","w","timestamp","globals","seriesX","formattedDate","toLocaleString","month","year","hour","minute","tooltipHtml","idx","dataValue","seriesName","seriesNames","borderColor","strokeDashArray","stroke","curve","legend","opts","seriesColor","colors","hideSeries","groupedData","currentInterval","closestPoint","minDistance","Infinity","distance","weekEntities","fetchAllData","fetchTotalPvMeter","total_pv_power","all","totalPvPowerResponse","formattedData","sensorId","sensorValues","previousSum","dailyValue","totalSeries","totalData","daysCount","sommaYUltimi7","chartObj","serieTotale","ultimiSette","somma","punto","chartOptions","containerId","weekChart","events","mounted","setDefaultZoom","hideNonTotaleSeries","resetZoom","format","val","visible","allDataPoints","lastIndex","firstIndex","startDate","endDate","updateOptions","seriesItem","default","waitForApexCharts","interval","setInterval","clearInterval","updateDateRange","newStartTime","newEndTime","today","entitiesToPass","end_time","total_pv_meter","processResponse","isSummed","dawnExtended","toLocaleTimeString","hour12","duskExtended","hourlyData","keys","sensor","previousEntry","entryDate","hourKey","dateString","split","heatmapObj","initializeHeatmapChart2","totalMaxPower","totalMaxPowerArray","dataPoint","autoScaleYaxis","plotOptions","heatmap","shadeIntensity","useFillColorAsStroke","radius","colorScale","ranges","to","gradients","background","title","text","align","chartElement","lastDate","firstDate","filteredData","toLocaleDateString","updateSeries","insertAdjacentHTML","entityinfo","popupEvent","Event","bubbles","cancelable","composed","detail","ownerDocument","dispatchEvent","__decorate","property","attribute","prototype","customElement"],"mappings":"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CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,GAAG,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EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,EAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,SAAS,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,SAAS,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,OAAO,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,UAAU,EAAE,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,EAAC,CAAC,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,EAAC,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAC,CAAC,CAAM,MAA6D,CAAC,CAACJ,GAAC,CAAC,uBAAuB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAACA,GAAC,CAAC,eAAe,GAAG,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,YAAY,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,YAAY,EAAE,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,EAAC,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;ACJ96N;AACA;AACA;AACA;AACA,aAAG,MAAM,CAAC,SAASA,CAAC,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,SAAS,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAC,CAAC,gBAAgB,EAAE,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC,OAAO,IAAI,CAAC,aAAa,CAAC,YAAY,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAACC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,EAAC,CAAC,iBAAiB,EAAE,CAAC,KAAK,CAAC,iBAAiB,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC,CAAC,EAAC,CAAC,oBAAoB,EAAE,CAAC,KAAK,CAAC,oBAAoB,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC,CAAC,EAAC,CAAC,MAAM,EAAE,CAAC,OAAOC,CAAC,CAAC,EAACE,GAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAACA,GAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,wBAAwB,GAAG,CAAC,UAAU,CAACA,GAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,yBAAyB,CAAC,CAAC,GAAG,CAAC,UAAU,CAACA,GAAC,CAAC,CAAC,CAAsD,CAAC,UAAU,CAAC,kBAAkB,GAAG,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC;;ACLxyB;AACA;AACA;AACA;AACA;AACA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,EAAE,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC;;ACJ9G;AACA;AACA;AACA;AACA,GAAG,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAACJ,GAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAACC,GAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,EAAE,UAAU,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,KAAK,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,MAAM,KAAK,CAAC,kCAAkC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,wBAAwB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;CCCvwB,CAAC,YAAY;AAEb;;AAEA,CAAA,IAAI,EAAE,KAAK,IAAI,CAAC,EAAE;AAClB,KAAI,GAAG,IAAI,IAAI,CAAC,GAAG;AACnB,KAAI,GAAG,IAAI,IAAI,CAAC,GAAG;AACnB,KAAI,GAAG,IAAI,IAAI,CAAC,GAAG;AACnB,KAAI,IAAI,GAAG,IAAI,CAAC,IAAI;AACpB,KAAI,IAAI,GAAG,IAAI,CAAC,KAAK;AACrB,KAAI,IAAI,GAAG,IAAI,CAAC,IAAI;AACpB,KAAI,GAAG,IAAI,EAAE,GAAG,GAAG;;AAEnB;;;AAGA;;CAEA,IAAI,KAAK,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;KAC3B,KAAK,GAAG,OAAO;KACf,KAAK,GAAG,OAAO;;AAEnB,CAAA,SAAS,QAAQ,CAAC,IAAI,EAAE,EAAE,OAAO,IAAI,CAAC,OAAO,EAAE,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,CAAC;AACtE,CAAA,SAAS,UAAU,CAAC,CAAC,GAAG,EAAE,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,KAAK,IAAI,KAAK,CAAC,CAAC;AACrE,CAAA,SAAS,MAAM,CAAC,IAAI,IAAI,EAAE,OAAO,QAAQ,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;;;AAGxD;;AAEA,CAAA,IAAI,CAAC,GAAG,GAAG,GAAG,OAAO,CAAC;;AAEtB,CAAA,SAAS,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AACvF,CAAA,SAAS,WAAW,CAAC,CAAC,EAAE,CAAC,KAAK,EAAE,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;;AAExF,CAAA,SAAS,OAAO,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;AAC9F,CAAA,SAAS,QAAQ,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;;AAEjG,CAAA,SAAS,YAAY,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,OAAO,GAAG,IAAI,MAAM,GAAG,WAAW,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;;CAE5E,SAAS,eAAe,CAAC,CAAC,EAAE;KACxB,IAAI,CAAC,GAAG,CAAC;SACL,CAAC,GAAG,CAAC,CAAC;;AAEd;AACA;AACA,KAAI,OAAO,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,UAAU,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC;AAClE;;AAEA;;AAEA,CAAA,SAAS,gBAAgB,CAAC,CAAC,EAAE,EAAE,OAAO,GAAG,IAAI,QAAQ,GAAG,UAAU,GAAG,CAAC,CAAC,CAAC;;CAExE,SAAS,iBAAiB,CAAC,CAAC,EAAE;;AAE9B,KAAI,IAAI,CAAC,GAAG,GAAG,IAAI,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AAC7E,SAAQ,CAAC,GAAG,GAAG,GAAG,QAAQ,CAAC;;AAE3B,KAAI,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE;AACzB;;CAEA,SAAS,SAAS,CAAC,CAAC,EAAE;;AAEtB,KAAI,IAAI,CAAC,GAAG,gBAAgB,CAAC,CAAC,CAAC;AAC/B,SAAQ,CAAC,GAAG,iBAAiB,CAAC,CAAC,CAAC;;AAEhC,KAAI,OAAO;AACX,SAAQ,GAAG,EAAE,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC;AAC9B,SAAQ,EAAE,EAAE,cAAc,CAAC,CAAC,EAAE,CAAC;MAC1B;AACL;;;CAGA,IAAI,OAAO,GAAG,EAAE;;;AAGhB;;CAEA,OAAO,CAAC,WAAW,GAAG,UAAU,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE;;AAEhD,KAAI,IAAI,EAAE,IAAI,GAAG,GAAG,CAAC,GAAG;AACxB,SAAQ,GAAG,GAAG,GAAG,GAAG,GAAG;AACvB,SAAQ,CAAC,KAAK,MAAM,CAAC,IAAI,CAAC;;AAE1B,SAAQ,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC;SACjB,CAAC,IAAI,YAAY,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE;;AAEvC,KAAI,OAAO;SACH,OAAO,EAAE,OAAO,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC;SAC/B,QAAQ,EAAE,QAAQ,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG;MACnC;EACJ;;;AAGD;;AAEA,CAAA,IAAI,KAAK,GAAG,OAAO,CAAC,KAAK,GAAG;AAC5B,KAAI,CAAC,CAAC,KAAK,EAAE,SAAS,QAAQ,QAAQ,OAAO;AAC7C,KAAI,GAAG,CAAC,GAAG,EAAE,YAAY,KAAK,aAAa,EAAE;AAC7C,KAAI,KAAK,CAAC,CAAC,EAAE,MAAM,WAAW,MAAM,SAAS;AAC7C,KAAI,IAAI,CAAC,EAAE,EAAE,cAAc,GAAG,cAAc,CAAC;AAC7C,KAAI,IAAI,CAAC,EAAE,EAAE,UAAU,OAAO,OAAO,QAAQ;AAC7C,KAAI,MAAM,CAAC,EAAE,eAAe,EAAE,YAAY;EACzC;;AAED;;CAEA,OAAO,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE;KAClD,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;EACzC;;;AAGD;;CAEA,IAAI,EAAE,GAAG,MAAM;;CAEf,SAAS,WAAW,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;;CAExE,SAAS,aAAa,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,OAAO,EAAE,GAAG,CAAC,EAAE,GAAG,EAAE,KAAK,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC;AACzE,CAAA,SAAS,aAAa,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,OAAO,KAAK,GAAG,EAAE,GAAG,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,MAAM,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;;AAE9F,CAAA,SAAS,SAAS,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChG,CAAA,SAAS,aAAa,CAAC,MAAM,EAAE,EAAE,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;;AAExE;AACA,CAAA,SAAS,OAAO,CAAC,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;;KAEvC,IAAI,CAAC,GAAG,SAAS,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC;SAC1B,CAAC,GAAG,aAAa,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;KAC/B,OAAO,aAAa,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;AACjC;;;AAGA;AACA;;CAEA,OAAO,CAAC,QAAQ,GAAG,UAAU,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,MAAM,EAAE;;AAErD,KAAI,MAAM,GAAG,MAAM,IAAI,CAAC;;AAExB,KAAI,IAAI,EAAE,GAAG,GAAG,GAAG,CAAC,GAAG;AACvB,SAAQ,GAAG,GAAG,GAAG,GAAG,GAAG;;AAEvB,SAAQ,EAAE,GAAG,aAAa,CAAC,MAAM,CAAC;;AAElC,SAAQ,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC;AACxB,SAAQ,CAAC,GAAG,WAAW,CAAC,CAAC,EAAE,EAAE,CAAC;SACtB,EAAE,GAAG,aAAa,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;;AAEpC,SAAQ,CAAC,GAAG,gBAAgB,CAAC,EAAE,CAAC;AAChC,SAAQ,CAAC,GAAG,iBAAiB,CAAC,CAAC,CAAC;AAChC,SAAQ,GAAG,GAAG,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC;;SAEvB,KAAK,GAAG,aAAa,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;;SAE/B,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,KAAK;;;KAGjC,IAAI,MAAM,GAAG;AACjB,SAAQ,SAAS,EAAE,UAAU,CAAC,KAAK,CAAC;AACpC,SAAQ,KAAK,EAAE,UAAU,CAAC,KAAK,GAAG,GAAG;MAChC;;AAEL,KAAI,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,EAAE;AACrD,SAAQ,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC;SACf,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,GAAG;;AAEjC,SAAQ,IAAI,GAAG,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;AACjD,SAAQ,KAAK,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC;;SAE9B,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,KAAK,CAAC;SACnC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,IAAI,CAAC;AAC1C;;AAEA,KAAI,OAAO,MAAM;EAChB;;;AAGD;;CAEA,SAAS,UAAU,CAAC,CAAC,EAAE;;KAEnB,IAAI,CAAC,GAAG,GAAG,IAAI,OAAO,GAAG,SAAS,GAAG,CAAC,CAAC;SACnC,CAAC,GAAG,GAAG,IAAI,OAAO,GAAG,SAAS,GAAG,CAAC,CAAC;SACnC,CAAC,GAAG,GAAG,IAAI,MAAM,GAAG,SAAS,GAAG,CAAC,CAAC;;SAElC,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC;SAC7B,CAAC,IAAI,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC;SACzB,EAAE,GAAG,MAAM,GAAG,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;;AAErC,KAAI,OAAO;AACX,SAAQ,EAAE,EAAE,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC;AAChC,SAAQ,GAAG,EAAE,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC;AAC9B,SAAQ,IAAI,EAAE;MACT;AACL;;CAEA,OAAO,CAAC,eAAe,GAAG,UAAU,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE;;AAEpD,KAAI,IAAI,EAAE,IAAI,GAAG,GAAG,CAAC,GAAG;AACxB,SAAQ,GAAG,GAAG,GAAG,GAAG,GAAG;AACvB,SAAQ,CAAC,KAAK,MAAM,CAAC,IAAI,CAAC;;AAE1B,SAAQ,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC;SACjB,CAAC,GAAG,YAAY,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE;SAC9B,CAAC,GAAG,QAAQ,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC;AACnC;AACA,SAAQ,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;;KAElE,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,CAAC,CAAC,CAAC;;AAE/B,KAAI,OAAO;SACH,OAAO,EAAE,OAAO,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC;SAC/B,QAAQ,EAAE,CAAC;AACnB,SAAQ,QAAQ,EAAE,CAAC,CAAC,IAAI;AACxB,SAAQ,gBAAgB,EAAE;MACrB;EACJ;;;AAGD;AACA;AACA;;AAEA,CAAA,OAAO,CAAC,mBAAmB,GAAG,UAAU,IAAI,EAAE;;KAE1C,IAAI,CAAC,GAAG,MAAM,CAAC,IAAI,IAAI,IAAI,IAAI,EAAE,CAAC;AACtC,SAAQ,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC;AACxB,SAAQ,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC;;SAEjB,KAAK,GAAG,SAAS;;AAEzB,SAAQ,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;SAChF,GAAG,GAAG,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,IAAI,GAAG,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;AAC/D,SAAQ,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;iBAC3D,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;;AAE3D,KAAI,OAAO;SACH,QAAQ,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC;SAC5B,KAAK,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE;AAC/D,SAAQ,KAAK,EAAE;MACV;EACJ;;;AAGD,CAAA,SAAS,UAAU,CAAC,IAAI,EAAE,CAAC,EAAE;AAC7B,KAAI,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,GAAG,KAAK,GAAG,EAAE,CAAC;AACpD;;AAEA;;CAEA,OAAO,CAAC,YAAY,GAAG,UAAU,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE;AACxD,KAAI,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC;AAC1B,KAAI,IAAI,KAAK,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;UAC/B,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;;AAE/B,KAAI,IAAI,EAAE,GAAG,KAAK,GAAG,GAAG;AACxB,SAAQ,EAAE,GAAG,OAAO,CAAC,eAAe,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,QAAQ,GAAG,EAAE;SACvD,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;;AAE7D;AACA,KAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;SAC7B,EAAE,GAAG,OAAO,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,QAAQ,GAAG,EAAE;SACtE,EAAE,GAAG,OAAO,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,QAAQ,GAAG,EAAE;;SAE1E,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE;AAC9B,SAAQ,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC;SACjB,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SACjB,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,IAAI,EAAE,GAAG,EAAE;SAC3B,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE;SACtB,KAAK,GAAG,CAAC;;AAEjB,SAAQ,IAAI,CAAC,IAAI,CAAC,EAAE;AACpB,aAAY,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACjD,aAAY,EAAE,GAAG,EAAE,GAAG,EAAE;AACxB,aAAY,EAAE,GAAG,EAAE,GAAG,EAAE;aACZ,IAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE;aAC9B,IAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE;aAC9B,IAAI,EAAE,GAAG,CAAC,CAAC,EAAE,EAAE,GAAG,EAAE;AAChC;;AAEA,SAAQ,IAAI,KAAK,KAAK,CAAC,EAAE;aACb,IAAI,EAAE,GAAG,CAAC,EAAE,IAAI,GAAG,CAAC,GAAG,EAAE;AACrC,kBAAiB,GAAG,GAAG,CAAC,GAAG,EAAE;;AAE7B,UAAS,MAAM,IAAI,KAAK,KAAK,CAAC,EAAE;aACpB,IAAI,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC;aAC7B,GAAG,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC;AACxC;;AAEA,SAAQ,IAAI,IAAI,IAAI,GAAG,EAAE;;SAEjB,EAAE,GAAG,EAAE;AACf;;KAEI,IAAI,MAAM,GAAG,EAAE;;AAEnB,KAAI,IAAI,IAAI,EAAE,MAAM,CAAC,IAAI,GAAG,UAAU,CAAC,CAAC,EAAE,IAAI,CAAC;AAC/C,KAAI,IAAI,GAAG,EAAE,MAAM,CAAC,GAAG,GAAG,UAAU,CAAC,CAAC,EAAE,GAAG,CAAC;;AAE5C,KAAI,IAAI,CAAC,IAAI,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,EAAE,GAAG,CAAC,GAAG,UAAU,GAAG,YAAY,CAAC,GAAG,IAAI;;AAExE,KAAI,OAAO,MAAM;EAChB;;;AAGD;CACkE,MAAA,CAAA,OAAA,GAAiB,OAAO;;AAI1F,EAAC,EAAE,EAAA;;;;;;SC1TagB,MAAMA,GAAA;AAClB,EAAA,OAAOC,CAAI,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UAmFJ,CAAA;AACT;SAGcC,KAAKA,GAAA;AACjB,EAAA,OAAOD,CAAI,CAAA;;;;;UAKJ,CAAA;AACT;SAEgBE,cAAcA,GAAA;AAC5B,EAAA,OAAOF,CAAI,CAAA;;;;;UAKJ,CAAA;AACT;SAEgBG,OAAOA,GAAA;AACrB,EAAA,OAAOH,CAAI,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;UA2BJ,CAAA;AACT;SAEgBI,WAAWA,GAAA;AACzB,EAAA,OAAOJ,CAAI,CAAA;;;;;UAKJ,CAAA;AACT;SAEgBK,UAAUA,GAAA;AACxB,EAAA,OAAOL,CAAI,CAAA;;;;;UAKJ,CAAA;AACT;SAEgBM,MAAMA,GAAA;AACpB,EAAA,OAAON,CAAI,CAAA;;;;;UAKJ,CAAA;AACT;SAEgBO,GAAGA,GAAA;AACjB,EAAA,OAAOP,CAAI,CAAA;;;;;UAKJ,CAAA;AACT;SAEgBQ,YAAYA,GAAA;AAC1B,EAAA,OAAOR,CAAI,CAAA;;;;;UAKJ,CAAA;AACT;SAEgBS,IAAIA,GAAA;AAClB,EAAA,OAAOT,CAAI,CAAA;;;;;;;;UAQJ,CAAA;AACT;SAEgBU,cAAcA,GAAA;AAC5B,EAAA,OAAOV,CAAI,CAAA;;;;;UAKJ,CAAA;AACT;SAEgBW,SAASA,GAAA;AACvB,EAAA,OAAOX,CAAI,CAAA;;;;;UAKJ,CAAA;AACT;SAEgBY,iBAAiBA,GAAA;AAC/B,EAAA,OAAOZ,CAAI,CAAA;;;;;UAKJ,CAAA;AACT;SAEgBa,OAAOA,GAAA;AACrB,EAAA,OAAOb,CAAI,CAAA;;;;;UAKJ,CAAA;AACT;SAEgBc,UAAUA,GAAA;AACxB,EAAA,OAAOd,CAAI,CAAA;;;;;;;;;;;;;UAaJ,CAAA;AACT;SAEgBe,YAAYA,GAAA;AAC1B,EAAA,OAAOf,CAAI,CAAA;;;;;;;;;;UAUJ,CAAA;AACT;SAEgBgB,KAAKA,GAAA;AACnB,EAAA,OAAOhB,CAAI,CAAA;;;;;;;;;UASJ,CAAA;AACT;SAEgBiB,GAAGA,GAAA;AACjB,EAAA,OAAOjB,CAAI,CAAA;;;;;;;;;;;;UAYJ,CAAA;AACT;;AChSI,SAAUkB,MAAMA,CAACC,KAAK,EAAA;AACxB,EAAA,OAAOnB,CAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;mBA+CImB,KAAK,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAqCnB,CAAA;AACH;AAMgB,SAAAC,OAAOA,CAACD,KAAK,EAAEE,sBAAsB,EAAA;AACnD,EAAA,OAAOrB,CAAI;;;;;gBAKCqB,sBAAsB,GAAG,EAAE,GAAG,SAAS,GAAG,KAAK,CAAA;UACrDF,KAAK,GAAG,CAAC,GAAI,sCAAsC,GAAG,GAAG;;;;;;;sFAOmBA,KAAK,CAAA;wFACHE,sBAAsB,CAAA;;kGAEZA,sBAAsB,CAAA;;KAElH,CAAA;AACJ;AAEM,SAAUC,SAASA,CAACA,SAAS,EAAA;AACjC,EAAA,OAAOtB,CAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;mBA8BIsB,SAAS,CAAA;;;;OAIpB,CAAA;AACN;AAEF;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;SAEkBC,IAAIA,CAACC,UAAU,EAAEC,YAAY,EAAEC,iBAAiB,EAAA;AAE9D,EAAA,OAAO1B,CAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAgDgByB,YAAY,CAAA;+BACZA,YAAY,CAAA;AACZ,6BAAAA,EAAAA,YAAY,GAAGC,iBAAiB,CAAA;AAChC,6BAAAD,EAAAA,YAAY,GAAGC,iBAAiB,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;uBAyBxCF,UAAU,CAAA;;;;;WAKrB,CAAA;AACV;SAIcG,QAAQA,GAAA;AACtB,EAAA,OAAO3B,CAAI;;;;;;;;;;;;;;;;;;;;;;CAsBZ;AACD;;AC9RA,aAAe4B,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA2nBjB;;;AC3lBD,IAAMC,gBAAgB,GAAAC,kBAAA,GAAtB,MAAMD,gBAAiB,SAAQE,GAAU,CAAA;EA8CvC,WAAWC,UAAUA,GAAA;IACnB,OAAO;MACLC,IAAI,EAAE,EAAE;MACRC,MAAM,EAAE,EAAE;MACVC,UAAU,EAAE,EAAE;MACdC,SAAS,EAAE,EAAE;MACbC,WAAW,EAAE,EAAE;MACfC,SAAS,EAAE,EAAE;AACbC,MAAAA,gBAAgB,EAAE;KACnB;AACH;EAEA,WAAWC,WAAWA,GAAA;IACpB,OAAO;MACLzC,MAAM,EAAEA,MAAM,EAAE;MAChBG,cAAc,EAAEA,cAAc,EAAE;MAChCC,OAAO,EAAEA,OAAO,EAAE;MAClBF,KAAK,EAAEA,KAAK,EAAE;MACdG,WAAW,EAAEA,WAAW,EAAE;MAC1B,aAAa,EAAEC,UAAU,EAAE;MAC3BC,MAAM,EAAEA,MAAM,EAAE;MAChBC,GAAG,EAAEA,GAAG,EAAE;MACVkC,KAAK,EAAElC,GAAG,EAAE;MACZC,YAAY,EAAEA,YAAY,EAAE;MAC5BC,IAAI,EAAEA,IAAI,EAAE;MACZ,iBAAiB,EAAEC,cAAc,EAAE;MACnCC,SAAS,EAAEA,SAAS,EAAE;MACtB+B,KAAK,EAAErC,UAAU,EAAE;MACnB,oBAAoB,EAAEO,iBAAiB,EAAE;MACzCC,OAAO,EAAEA,OAAO,EAAE;AAClB,MAAA,aAAa,EAAEC,UAAU;MACzB,eAAe,EAAEC,YAAY,EAAE;MAC/BC,KAAK,EAAEA,KAAK,EAAE;MACdC,GAAG,EAAEA,GAAG;KACT;AACH;AAEA0B,EAAAA,WAAAA,GAAA;AACE,IAAA,KAAK,EAAE;AAjF2B,IAAA,IAAA,CAAAC,SAAS,GAAW,EAAE,CAAC;IAOnD,IAAqB,CAAAC,qBAAA,GAAkB,IAAI;AAC3C,IAAA,IAAA,CAAAC,WAAW,GAAW,GAAG,CAAC;AAClC;AACA;AACA;AACA;AACA;IACQ,IAAU,CAAAX,UAAA,GAA0C,MAAM;IAC1D,IAAU,CAAAY,UAAA,GAAyB,IAAI;IACvC,IAAkB,CAAAC,kBAAA,GAAyB,IAAI;AACvD;IACQ,IAAsB,CAAAC,sBAAA,GAAQ,IAAI;IAClC,IAAa,CAAAC,aAAA,GAAW,CAAC;IACzB,IAAmB,CAAAC,mBAAA,GAAW,CAAC;AAC/B,IAAA,IAAA,CAAAC,QAAQ,GAAQ,IAAI,CAAC;IAOrB,IAAa,CAAAC,aAAA,GAAe,IAAI;IAChC,IAAqB,CAAAC,qBAAA,GAAW,CAAC;IACjC,IAAc,CAAAC,cAAA,GAAW,CAAC;IAI1B,IAAwB,CAAAC,wBAAA,GAAY,KAAK;IAEzC,IAAU,CAAAC,UAAA,GAAQ,EAAE;IACpB,IAAc,CAAAC,cAAA,GAAQ,EAAE;IACxB,IAAgB,CAAAnB,gBAAA,GAAY,KAAK;IACjC,IAAc,CAAAoB,cAAA,GAAQ,EAAE;IACxB,IAAe,CAAAC,eAAA,GAAW,EAAE;IAC5B,IAAmB,CAAAC,mBAAA,GAAW,EAAE;AA2ZhC,IAAA,IAAA,CAAAC,eAAe,GAAkB,MAAM,EAAE;AAspEzC,IAAA,IAAA,CAAAC,6BAA6B,GAAIP,wBAAwB,IAAI;;MACnE,MAAMQ,UAAU,GAAG,CAAAC,EAAA,GAAA,IAAI,CAACC,UAAU,MAAA,IAAA,IAAAD,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEE,aAAa,CAC/C,mBAAmB,CACC;AACtB,MAAA,IAAIH,UAAU,EAAE;QACdA,UAAU,CAACI,QAAQ,GAAGZ,wBAAwB;AAChD;KACD;IA/gFC,IAAI,CAACpB,SAAS,GAAG,KAAK;IACtB,IAAI,CAACC,WAAW,GAAG,IAAI;AACzB;EAEA,WAAWgC,MAAMA,GAAA;AACf,IAAA,OAAOA,MAAM;AACf;EAEOC,SAASA,CAACpC,MAAW,EAAA;;AAC1B,IAAA,IAAI,CAACA,MAAM,CAACqC,QAAQ,IAAI,CAACC,KAAK,CAACC,OAAO,CAACvC,MAAM,CAACqC,QAAQ,CAAC,EAAE;AACvD,MAAA,MAAM,IAAIG,KAAK,CACb,8DAA8D,CAC/D;AACH;IAEA,MAAMC,aAAa,GAAAC,MAAA,CAAAC,MAAA,CAAA,EAAA,EAAQ3C,MAAM,CAAE;AAEnC;AACA,IAAA,MAAM4C,SAAS,GACbC,IAAI,CAACC,SAAS,CAAC9C,MAAM,CAACqC,QAAQ,CAAC,IAAI,CAAA,CAAAN,EAAA,GAAA/B,MAAM,CAAC+C,IAAI,0CAAEC,IAAI,KAAI,SAAS,CAAC;AACpE,IAAA,MAAMC,IAAI,GAAG,IAAI,CAACC,aAAa,CAACN,SAAS,CAAC;AAE1C,IAAA,MAAMO,UAAU,GAAG,CAA6BF,0BAAAA,EAAAA,IAAI,CAAE,CAAA;AACtD,IAAA,IAAIG,OAAO,GAAGC,YAAY,CAACC,OAAO,CAACH,UAAU,CAAC;AAE9C;IACA,IAAI,CAACC,OAAO,EAAE;MACZA,OAAO,GAAG,CAAQG,KAAAA,EAAAA,IAAI,CAACC,GAAG,EAAE,CAAA,CAAA,EAAIC,IAAI,CAACC,MAAM,EAAE,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAE,CAAA;AACzEP,MAAAA,YAAY,CAACQ,OAAO,CAACV,UAAU,EAAEC,OAAO,CAAC;AAC3C;AAEA;IACAX,aAAa,CAACqB,EAAE,GAAGV,OAAO;AAE1B;IACA,IAAI,CAACpD,MAAM,GAAGyC,aAAa;AAE3B;IACA,MAAMsB,SAAS,GAAG,CAAgB,aAAA,EAAA,IAAI,CAAC/D,MAAM,CAAC8D,EAAE,CAAE,CAAA;AAClD,IAAA,MAAME,gBAAgB,GAAGX,YAAY,CAACC,OAAO,CAACS,SAAS,CAAC;IAExD,IAAI,CAACrD,SAAS,GAAGsD,gBAAgB,GAC7BC,QAAQ,CAACD,gBAAgB,EAAE,EAAE,CAAC,GAC7B,CAAAE,EAAA,GAAA,CAAAC,EAAA,GAAAnE,MAAM,CAACoE,OAAO,MAAA,IAAA,IAAAD,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEE,gBAAgB,MAAA,IAAA,IAAAH,EAAA,KAAA,KAAA,CAAA,GAAAA,EAAA,GAAI,EAAG;AAE5C;AACA,IAAA,IAAI,CAAC7B,QAAQ,GAAG,IAAI,CAACrC,MAAM,CAACqC,QAAQ;AACtC;EAEQa,aAAaA,CAACoB,KAAa,EAAA;IACjC,IAAIrB,IAAI,GAAG,CAAC;AACZ,IAAA,KAAK,IAAI/F,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGoH,KAAK,CAACC,MAAM,EAAErH,CAAC,EAAE,EAAE;AACrC,MAAA,MAAMsH,IAAI,GAAGF,KAAK,CAACG,UAAU,CAACvH,CAAC,CAAC;MAChC+F,IAAI,GAAG,CAACA,IAAI,IAAI,CAAC,IAAIA,IAAI,GAAGuB,IAAI;MAChCvB,IAAI,IAAI,CAAC,CAAC;AACZ;AACA,IAAA,OAAOA,IAAI,CAACU,QAAQ,CAAC,EAAE,CAAC;AAC1B;AAEAe,EAAAA,iBAAiBA,GAAA;IACf,KAAK,CAACA,iBAAiB,EAAE;AAEzB;AACAC,IAAAA,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACC,YAAY,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;AAE/D;IACA,IAAI,CAACD,YAAY,EAAE;AACrB;AAEAE,EAAAA,oBAAoBA,GAAA;IAClB,KAAK,CAACA,oBAAoB,EAAE;AAE5B;AACAJ,IAAAA,MAAM,CAACK,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAACH,YAAY,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;AACpE;AAEQD,EAAAA,YAAYA,GAAA;AAClB;IACA,MAAMI,YAAY,GAAG,IAAI,CAACC,qBAAqB,EAAE,CAACC,KAAK;AAEvD;AACA,IAAA,IAAIF,YAAY,KAAK,IAAI,CAACjE,aAAa,EAAE;MACvC,IAAI,CAACA,aAAa,GAAGiE,YAAY;AACjC,MAAA,IAAI,CAACG,eAAe,EAAE,CAAC;AACzB;AACF;AAEQC,EAAAA,eAAeA,GAAA;AACrB,IAAA,IAAI,CAAC,IAAI,CAACrF,MAAM,CAACsF,UAAU,IAAI,CAAChD,KAAK,CAACC,OAAO,CAAC,IAAI,CAACvC,MAAM,CAACsF,UAAU,CAAC,EAAE;AACnE,MAAA,OAAO,EAAE;AACb;AAEA,IAAA,IAAI,CAAC,IAAI,CAACzE,UAAU,EAAE;AAClB,MAAA,IAAI,CAACA,UAAU,GAAG,IAAI,CAACb,MAAM,CAACsF,UAAU,CAACC,GAAG,CAAEC,MAAM,IAAI;AACpD,QAAA,MAAMC,UAAU,GAAG;AACfzC,UAAAA,IAAI,EAAE,MAAM;AACZwC,UAAAA,MAAM,EAAEA;SACX;AAED,QAAA,MAAME,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAQ;AAC3DF,QAAAA,IAAI,CAACtD,SAAS,CAACqD,UAAU,CAAC;AAC1B,QAAA,OAAOC,IAAI;AACf,OAAC,CAAC;AACN;AAEA,IAAA,IAAI,CAAC7E,UAAU,CAACgF,OAAO,CAAEH,IAAI,IAAI;AAC5BA,MAAAA,IAAY,CAAC3F,IAAI,GAAG,IAAI,CAACA,IAAI;AAClC,KAAC,CAAC;IAEF,OAAO,IAAI,CAACc,UAAU;AAC1B;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;EAEQiF,oBAAoBA,CAACC,aAAa,EAAA;IACxC,IAAI,CAACA,aAAa,IAAI,CAACzD,KAAK,CAACC,OAAO,CAACwD,aAAa,CAAC,EAAE;AACjD,MAAA,OAAO,EAAE;AACb;AAEA,IAAA,IAAI,CAAC,IAAI,CAACjF,kBAAkB,EAAE;MAC1B,IAAI,CAACA,kBAAkB,GAAG,EAAE;AAE5B,MAAA,MAAMkF,cAAc,GAAGD,aAAa,CAACE,MAAM,CAACT,MAAM,IAAIA,MAAM,CAACU,UAAU,CAAC,SAAS,CAAC,CAAC;AACnF,MAAA,MAAMC,aAAa,GAAGJ,aAAa,CAACE,MAAM,CAACT,MAAM,IAAI,CAACA,MAAM,CAACU,UAAU,CAAC,SAAS,CAAC,CAAC;AAEnF;AACA,MAAA,IAAIF,cAAc,CAACzB,MAAM,GAAG,CAAC,EAAE;AAC3B,QAAA,MAAMkB,UAAU,GAAG;AACfzC,UAAAA,IAAI,EAAE,UAAU;AAChBX,UAAAA,QAAQ,EAAE2D;SACb;AAED,QAAA,MAAMN,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,mBAAmB,CAAQ;AAC/DF,QAAAA,IAAI,CAACtD,SAAS,CAACqD,UAAU,CAAC;AAE1B,QAAA,IAAI,CAAC3E,kBAAkB,CAACsF,IAAI,CAACV,IAAI,CAAC;AACtC;AAEA;MACA,IAAI,CAAC5E,kBAAkB,CAACsF,IAAI,CAAC,GAAGD,aAAa,CAACZ,GAAG,CAACC,MAAM,IAAG;AACvD,QAAA,MAAMC,UAAU,GAAG;AACfzC,UAAAA,IAAI,EAAE,MAAM;AACZwC,UAAAA,MAAM,EAAEA;SACX;AAED,QAAA,MAAME,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAQ;AAC3DF,QAAAA,IAAI,CAACtD,SAAS,CAACqD,UAAU,CAAC;AAC1B,QAAA,OAAOC,IAAI;AACf,OAAC,CAAC,CAAC;AACP;AAEA;AACA,IAAA,IAAI,CAAC5E,kBAAkB,CAAC+E,OAAO,CAACH,IAAI,IAAG;AAClCA,MAAAA,IAAY,CAAC3F,IAAI,GAAG,IAAI,CAACA,IAAI;AAClC,KAAC,CAAC;IAED,OAAO,IAAI,CAACe,kBAAkB;AACjC;AAME;EAEQuF,WAAWA,CAACC,SAAS,EAAA;IAC3B,IAAIC,GAAG,GAAG,CAAC;AAEX;AACA,IAAA,IAAI,IAAI,CAAClE,QAAQ,CAACkC,MAAM,KAAK,CAAC,EAAE;MAC9B,MAAMiC,UAAU,GAAGF,SAAS,CAACG,MAAM,CAAC,CAAC,CAAC,CAACC,IAAI;MAC3C,MAAMC,WAAW,GAAGH,UAAU,CAACI,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AACzCL,MAAAA,GAAG,GAAGI,WAAW,CAACE,MAAM,CAAC,CAACC,KAAK,EAAEC,KAAK,KAAKD,KAAK,GAAGC,KAAK,CAACnJ,CAAC,EAAE,CAAC,CAAC;AAChE,KAAC,MAAM;AACL;AACA,MAAA,MAAMoJ,YAAY,GAAGV,SAAS,CAACG,MAAM,CAACQ,IAAI,CACvCR,MAAM,IAAKA,MAAM,CAACS,IAAI,KAAK,QAAQ,CACrC;AAED;AACA,MAAA,IAAIF,YAAY,EAAE;AAChB,QAAA,MAAMR,UAAU,GAAGQ,YAAY,CAACN,IAAI;QACpC,MAAMC,WAAW,GAAGH,UAAU,CAACI,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AACzCL,QAAAA,GAAG,GAAGI,WAAW,CAACE,MAAM,CAAC,CAACC,KAAK,EAAEC,KAAK,KAAKD,KAAK,GAAGC,KAAK,CAACnJ,CAAC,EAAE,CAAC,CAAC;AAChE;AACF;AAEA;IACA,OAAOuJ,MAAM,CAACZ,GAAG,CAACa,OAAO,CAAC,CAAC,CAAC,CAAC;AAC/B;AACA;AAEA;AAEAC,EAAAA,YAAYA,CACVC,QAAgB,EAChBC,IAAY,EACZC,IAAY,EAAA;AAKZ,IAAA,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAI;;AACrC,MAAA,MAAMnE,GAAG,GAAG,IAAID,IAAI,EAAE;AACtB,MAAA,MAAMqE,SAAS,GAAG,IAAIrE,IAAI,EAAE;AAE5B;AACAqE,MAAAA,SAAS,CAACC,OAAO,CAACrE,GAAG,CAACsE,OAAO,EAAE,IAAIP,IAAI,GAAG,CAAC,CAAC,CAAC;AAC7CK,MAAAA,SAAS,CAACG,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AAE/B;MACA,MAAMvC,MAAM,GAAG,IAAI,CAACzF,IAAI,CAACiI,MAAM,CAACV,QAAQ,CAAC;MACzC,MAAMW,UAAU,GACd,CAAA,MAAA,CAAAlG,EAAA,GAAAyD,MAAM,aAANA,MAAM,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAANA,MAAM,CAAE0C,UAAU,0CAAEC,mBAAmB,MAAA,IAAA,IAAAhE,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEiE,WAAW,EAAE,KAAI,EAAE;AAC9D,MAAA,MAAMC,MAAM,GAAGJ,UAAU,KAAK,GAAG,IAAIT,IAAI,CAACY,WAAW,EAAE,KAAK,MAAM,CAAC;AAEnE,MAAA,IAAI,CAACrI,IAAI,CACNuI,MAAM,CAAC;AACNtF,QAAAA,IAAI,EAAE,mCAAmC;QACzCuF,aAAa,EAAE,CAACjB,QAAQ,CAAC;AAAE;AAC3BkB,QAAAA,MAAM,EAAE,KAAK;AACbC,QAAAA,UAAU,EAAEb,SAAS,CAACc,WAAW,EAAE;AACnCC,QAAAA,KAAK,EAAE,CAAC,KAAK,EAAE,MAAM;OACtB,CAAC,CACDC,IAAI,CAEDC,gBAGC,IACC;AACF;AACA,QAAA,MAAMC,UAAU,GAAGD,gBAAgB,CAACvB,QAAQ,CAAC,IAAI,EAAE;AACnD,QAAA,IAAIwB,UAAU,CAACvE,MAAM,GAAG,CAAC,EAAE;AACzBwE,UAAAA,OAAO,CAACC,IAAI,CACV,2DAA2D,CAC5D;AACD,UAAA,OAAOtB,OAAO,CAAC;AAAEH,YAAAA,IAAI,EAAE,EAAE;AAAE0B,YAAAA,MAAM,EAAE;WAAG,CAAC,CAAC;AAC1C;AAEA;QACA,IAAIC,aAAa,GAIZ,EAAE;QACP,IAAIC,QAAQ,GAAW,CAAC;AAExB,QAAA,KAAK,IAAIjM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4L,UAAU,CAACvE,MAAM,EAAErH,CAAC,EAAE,EAAE;AAC1C;AACA,UAAA,IAAIkM,YAAY,GAAGN,UAAU,CAAC5L,CAAC,CAAC,CAACqJ,GAAG,GAAGuC,UAAU,CAAC5L,CAAC,GAAG,CAAC,CAAC,CAACqJ,GAAG;AAE5D;AACA,UAAA,IAAI8B,MAAM,EAAE;AACVe,YAAAA,YAAY,IAAI,IAAI;AACtB;AAEA;UACAA,YAAY,GAAGC,UAAU,CAACD,YAAY,CAAChC,OAAO,CAAC,CAAC,CAAC,CAAC;AAElD;UACA8B,aAAa,CAAC9C,IAAI,CAAC;AACjBkD,YAAAA,KAAK,EAAER,UAAU,CAAC5L,CAAC,CAAC,CAACoM,KAAK;AAAE;AAC5BC,YAAAA,GAAG,EAAET,UAAU,CAAC5L,CAAC,CAAC,CAACqM,GAAG;AAAE;AACxBhD,YAAAA,GAAG,EAAE6C;AACN,WAAA,CAAC;AAEF;AACAD,UAAAA,QAAQ,IAAIC,YAAY;AAC1B;AAEA;QACAD,QAAQ,GAAGE,UAAU,CAACF,QAAQ,CAAC/B,OAAO,CAAC,CAAC,CAAC,CAAC;AAE1C;AACA,QAAA,MAAMoC,aAAa,GAAG;AACpBjC,UAAAA,IAAI,EAAE2B,aAAa;AACnBD,UAAAA,MAAM,EAAEE;SACT;AAEDzB,QAAAA,OAAO,CAAC8B,aAAa,CAAC,CAAC;AACzB,OAAC,CACF,CACAC,KAAK,CAAEC,KAAK,IAAI;AACfX,QAAAA,OAAO,CAACW,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;AAC3D/B,QAAAA,MAAM,CAAC+B,KAAK,CAAC,CAAC;AAChB,OAAC,CAAC;AACN,KAAC,CAAC;AACJ;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEAC,EAAAA,WAAWA,GAAA;;IACT,MAAMC,OAAO,GAAG,CAAAC,EAAA,GAAA,CAAAC,EAAA,GAAA,MAAA,CAAA5F,EAAA,GAAA,CAAAC,EAAA,GAAA,MAAAwB,QAAQ,CACrB1D,aAAa,CAAC,gBAAgB,CAAC,MAC9B,IAAA,IAAAF,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAAC,UAAU,0CAAEC,aAAa,CAAC,qBAAqB,CAAC,MAChD,IAAA,IAAAiC,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAAlC,UAAU,0CAAEC,aAAa,CAAC,mBAAmB,CAAC,MAC9C,IAAA,IAAA6H,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAA9H,UAAU,0CAAEC,aAAa,CAAC,UAAU,CAAC;AAEzC,IAAA,OAAO,CAAC,EAAC,CAAA8H,EAAA,GAAAH,OAAO,aAAPA,OAAO,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAPA,OAAO,CAAE5H,UAAU,MAAE,IAAA,IAAA+H,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAA9H,aAAa,CAAC,gBAAgB,CAAC,CAAA;AAC/D;AAEA+H,EAAAA,cAAcA,GAAA;;IACZ,MAAMC,MAAM,GAAG,CAAAlI,EAAA,GAAA,IAAI,CAACC,UAAU,MAAA,IAAA,IAAAD,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEE,aAAa,CAAC,SAAS,CAAQ;IAC/D,OAAOgI,MAAM,GAAGA,MAAM,CAACC,YAAY,GAAGD,MAAM,CAACE,WAAW,GAAG,KAAK;AAClE;AAIA;AAEAC,EAAAA,MAAMA,GAAA;;AACJ,IAAqB,IAAI,CAACJ,cAAc;AACxC,IAAA,MAAM5J,SAAS,GAAG,IAAI,CAACuJ,WAAW,EAAE;IACpC,MAAMU,UAAU,GAAG,IAAI,CAACrK,MAAM,CAACqC,QAAQ,CAACkC,MAAM;IAC9C,MAAM+F,QAAQ,GAAG,IAAI,CAACtI,UAAU,CAACC,aAAa,CAC5C,YAAY,CACI;AAClB,IAAA,IAAI,CAACsI,aAAa,GAAG9G,IAAI,CAAC+G,KAAK,CAAC,IAAI,CAACtF,qBAAqB,EAAE,CAACC,KAAK,CAAC;AACnE;AACA,IAAA,IACEmF,QAAQ,IACRA,QAAQ,CAACG,gBAAgB,CAAC,MAAM,CAAC,CAAClG,MAAM,KAAK,CAAC,IAC9C,IAAI,CAACtE,UAAU,KAAK,MAAM,EAC1B;MACA,IAAI,CAACmF,eAAe,EAAE;AACxB;AACA;IACA,IAAIsF,UAAU,GAAG,IAAI;IAErB,IAAIC,UAAU,GAAG,EAAE;IACnB,IAAIC,UAAU,GAAG,EAAE;IAEnB,IACE,CAAA,CAAA7I,EAAA,GAAA,IAAI,CAAC/B,MAAM,0CAAE6K,cAAc,MAC3B,CAAA1G,EAAA,GAAA,IAAI,CAACpE,IAAI,MAAA,IAAA,IAAAoE,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAE6D,MAAM,CAAC,IAAI,CAAChI,MAAM,CAAC6K,cAAc,CAAC,CAAA,EAC7C;AACAH,MAAAA,UAAU,GAAG,IAAI,CAAC3K,IAAI,CAACiI,MAAM,CAAC,IAAI,CAAChI,MAAM,CAAC6K,cAAc,CAAC;MACzDF,UAAU,GAAGD,UAAU,CAACzL,KAAK;MAE7B2L,UAAU,GAAGhL,kBAAgB,CAACU,WAAW,CAACqK,UAAU,CAAC,KAAK,MAAM,EAAE,CAAC;AACrE,KAAC,MAAM;AACL5B,MAAAA,OAAO,CAACC,IAAI,CAAC,gDAAgD,CAAC;AAChE;AAEA;IACA,IAAIlC,KAAK,GAAG,CAAC;IACb,IAAIgE,OAAO,GAAG,CAAC;IACf,IAAIC,YAAY,GAAG,CAAC;IACpB,IAAIC,SAAS,GAAG,CAAC;AAGjB;IACA,IAAI,CAAChL,MAAM,CAACqC,QAAQ,CAACwD,OAAO,CAAEL,MAAM,IAAI;;MACtC,MAAMyF,OAAO,GAAG,CAAA,CAAAlJ,EAAA,GAAA,IAAI,CAAChC,IAAI,CAACiI,MAAM,CAACxC,MAAM,CAAC0F,EAAE,CAAC,0CAAEjM,KAAK,IAC9CgF,QAAQ,CAAC,IAAI,CAAClE,IAAI,CAACiI,MAAM,CAACxC,MAAM,CAAC0F,EAAE,CAAC,CAACjM,KAAK,CAAC,IAAI,CAAC,GAChD,CAAC;AAEL,MAAA,MAAMkM,gBAAgB,GACpB3F,MAAM,CAAC4F,eAAe,IACtB,CAAA,CAAAlH,EAAA,GAAA,MAAA,IAAI,CAACnE,IAAI,CAACiI,MAAM,CACdxC,MAAM,CAAC0F,EAAE,CACV,MAAA,IAAA,IAAA/G,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAE+D,UAAU,CAACC,mBAAmB,0CAAEC,WAAW,EAAE,MAAK,KAAK,GACtD6C,OAAO,GAAG,IAAI,GACdA,OAAO;AAEb;AACAH,MAAAA,OAAO,IAAIK,gBAAgB;AAC7B,KAAC,CAAC;AAEF;AACArE,IAAAA,KAAK,IAAIgE,OAAO;AAEhB;IACA,IAAI,CAAA5G,EAAA,GAAA,IAAI,CAAClE,MAAM,CAACqL,IAAI,MAAA,IAAA,IAAAnH,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEoH,WAAW,EAAE;AACjCN,MAAAA,SAAS,GAAG,CAAA,CAAAO,EAAA,GAAA,IAAI,CAACxL,IAAI,CAACiI,MAAM,CAAC,IAAI,CAAChI,MAAM,CAACqL,IAAI,CAACC,WAAW,CAAC,0CAAErM,KAAK,IAC7DwE,IAAI,CAAC+G,KAAK,CACRnB,UAAU,CAAC,IAAI,CAACtJ,IAAI,CAACiI,MAAM,CAAC,IAAI,CAAChI,MAAM,CAACqL,IAAI,CAACC,WAAW,CAAC,CAACrM,KAAK,CAAC,CACjE,IAAI,CAAC,GACN,CAAC;AACP;AAEA;IACA,IAAI,CAAA6K,EAAA,GAAA,IAAI,CAAC9J,MAAM,CAACd,OAAO,MAAA,IAAA,IAAA4K,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAE0B,KAAK,EAAE;AAC9BT,MAAAA,YAAY,GAAG,CAAA,CAAAlB,EAAA,GAAA,IAAI,CAAC9J,IAAI,CAACiI,MAAM,CAAC,IAAI,CAAChI,MAAM,CAACd,OAAO,CAACsM,KAAK,CAAC,0CAAEvM,KAAK,IAC7DwE,IAAI,CAAC+G,KAAK,CACRnB,UAAU,CAAC,IAAI,CAACtJ,IAAI,CAACiI,MAAM,CAAC,IAAI,CAAChI,MAAM,CAACd,OAAO,CAACsM,KAAK,CAAC,CAACvM,KAAK,CAAC,CAC9D,IAAI,CAAC,GACN,CAAC;AACP;AAEA;AACA,IAAA,MAAMK,UAAU,GAAGwH,KAAK,GAAGiE,YAAY,GAAGC,SAAS;AAEnD;AACA,IAAA,MAAMzL,YAAY,GAChBD,UAAU,GAAG,CAAC,GAAGmE,IAAI,CAAC+G,KAAK,CAAEM,OAAO,GAAGxL,UAAU,GAAI,GAAG,CAAC,GAAG,CAAC;IAC/D,MAAME,iBAAiB,GACrBF,UAAU,GAAG,CAAC,IAAIyL,YAAY,GAAG,CAAC,GAC9BtH,IAAI,CAAC+G,KAAK,CAAEO,YAAY,GAAGzL,UAAU,GAAI,GAAG,CAAC,GAC7C,CAAC;AACP;AACA,IAAA,MAAMmM,oBAAoB,GACxB,CAAAC,EAAA,GAAA,CAAA3B,EAAA,GAAA,IAAI,CAAC/J,MAAM,CAACd,OAAO,MAAA,IAAA,IAAA6K,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAE4B,aAAa,MAAA,IAAA,IAAAD,EAAA,KAAA,KAAA,CAAA,GAAAA,EAAA,GAAI,GAAG;IAC3C,MAAMvM,sBAAsB,GAAG,CAAA,CAAAyM,EAAA,GAAA,IAAI,CAAC7L,IAAI,CAACiI,MAAM,CAC7CyD,oBAAoB,CACrB,0CAAExM,KAAK,IACJgF,QAAQ,CACN,IAAI,CAAClE,IAAI,CAACiI,MAAM,CAACyD,oBAAoB,CAAC,CAACxM,KAAK,EAC5C,EAAE,CACH,IAAI,CAAC,GACN,CAAC;AAEL;AACA,IAAA,MAAM4M,GAAG,GAAGxC,UAAU,CAAC,CAAC,IAAI,CAACjI,qBAAqB,GAAG,IAAI,EAAEgG,OAAO,CAAC,CAAC,CAAC,CAAC;IAEtE,IAAI,CAAA,CAAA0E,EAAA,GAAA,CAAAC,EAAA,GAAA,IAAI,CAAC/L,MAAM,MAAE,IAAA,IAAA+L,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAAV,IAAI,MAAE,IAAA,IAAAS,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAAE,UAAU,KAAI,IAAI,CAAC7K,aAAa,KAAK,IAAI,EAAE;AAChE,MAAA,IAAI,CAACkG,YAAY,CACf,IAAI,CAACrH,MAAM,CAACqL,IAAI,CAACW,UAAU,EAC3B,CAAC,EACD,CAAAC,EAAA,GAAA,IAAI,CAACjM,MAAM,CAACqL,IAAI,MAAA,IAAA,IAAAY,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEC,mBAAmB,CACtC,CAACtD,IAAI,CAAEuD,OAAO,IAAI;AACjB,QAAA,IAAI,CAAChL,aAAa,GAAGgL,OAAO,CAAClD,MAAM;AACrC,OAAC,CAAC;AACJ;AAEA,IAAA,IAAI,CAAAmD,EAAA,GAAA,CAAAC,EAAA,GAAA,IAAI,CAACrM,MAAM,0CAAEd,OAAO,MAAA,IAAA,IAAAkN,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEE,aAAa,EAAE;AACvC,MAAA,IAAI,CAACjF,YAAY,CACf,IAAI,CAACrH,MAAM,CAACd,OAAO,CAACoN,aAAa,EACjC,CAAC,EACD,CAAAC,EAAA,GAAA,IAAI,CAACvM,MAAM,CAACd,OAAO,MAAA,IAAA,IAAAqN,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEL,mBAAmB,CACzC,CAACtD,IAAI,CAAE4D,UAAU,IAAI;AACpB,QAAA,IAAI,CAACC,gBAAgB,GAAGD,UAAU,CAACvD,MAAM;AAC3C,OAAC,CAAC;AACJ;AAEA;AACA,IAAA,MAAMyD,gBAAgB,GACpBvF,MAAM,CAAC,IAAI,CAAC/F,qBAAqB,CAAC,GAAG+F,MAAM,CAAC,IAAI,CAAChG,aAAa,CAAC;AAEjE,IAAA,MAAMwL,sBAAsB,GAC1BD,gBAAgB,GAAG,CAAC,GACf,IAAI,CAACtL,qBAAqB,GAAGsL,gBAAgB,GAAI,GAAG,GACrD,CAAC;AAEP,IAAA,OAAO5O,CAAI;AACiB,8BAAA,EAAAsC,SAAS,GAAG,MAAM,GAAG,OAAO,CAAA;;;;;;;;;;;;;;;;;UAiBlD,IAAI,CAACH,UAAU,KAAK,MAAM,GACxBnC,CAAI;gBACA,CAAC,IAAI,CAACuC,gBAAgB,GACpBvC,CAAI;;;;;;;;AAQI,wBAAA,EAAAuM,UAAU,IAAI,CAAC,GACbvM,CAAI;;yEAEyCuM,UAAU,IACnD,CAAC,GACG,cAAc,GACd,eAAe,CAAA;;kCAEjBK,UAAU,IAAIL,UAAU,IAAI,CAAC,GAC3BvM,CAAI;;;+CAGS,EAAA,MACP,IAAI,CAAC8O,SAAS,CACZ,IAAI,CAAC5M,MAAM,CAAC6K,cAAc,CAC3B;;0CAEDD,UAAU;;AAEf,oCAAA,CAAA,GACD,EAAE;kCACJ,IAAI,CAACvI,QAAQ,CAACkD,GAAG,CAAEC,MAAM,IAAI;AAC7B,MAAA,MAAMqH,QAAQ,GAAGrH,MAAM,CAAC0F,EAAE,CAAC;AAC3B,MAAA,MAAM4B,QAAQ,GAAGtH,MAAM,CAACuH,SAAS;MACjC,MAAMC,QAAQ,GAAG,IAAI,CAACjN,IAAI,CAACiI,MAAM,CAAC6E,QAAQ,CAAC;AAC3C,MAAA,MAAMrF,IAAI,GACRwF,QAAQ,IACRA,QAAQ,CAAC9E,UAAU,CAACC,mBAAmB,GACnC6E,QAAQ,CAAC9E,UAAU,CAACC,mBAAmB,GACvC,EAAE;MACR,MAAMlJ,KAAK,GAAG+N,QAAQ,GAClB,CAAAxF,IAAI,KAAJ,IAAA,IAAAA,IAAI,KAAJ,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,IAAI,CAAEY,WAAW,EAAE,MAAK,KAAK,IAC7B5C,MAAM,CAAC4F,eAAe,GACpB3H,IAAI,CAAC+G,KAAK,CACRnB,UAAU,CAAC2D,QAAQ,CAAC/N,KAAK,CAAC,GAAG,IAAI,CAClC,GACDwE,IAAI,CAAC+G,KAAK,CAACnB,UAAU,CAAC2D,QAAQ,CAAC/N,KAAK,CAAC,CAAC,GACxC,KAAK;MACT,MAAMgO,UAAU,GACdhO,KAAK,KAAK,KAAK,IAAI6N,QAAQ,GAAG,CAAC,GAC3BrJ,IAAI,CAAC+G,KAAK,CAAEvL,KAAK,GAAG6N,QAAQ,GAAI,GAAG,CAAC,GACpC,KAAK;AACX,MAAA,OAAOhP,CAAI;;;AAGG,8CAAA,EAAA,MAAK;QACb,IAAI0H,MAAM,CAACO,aAAa,EAAE;AACtB,UAAA,IAAI,CAACrE,eAAe,GAAG,IAAI,CAAC3B,IAAI,CAACiI,MAAM,CAAC6E,QAAQ,CAAC,CAAC3E,UAAU,CAACgF,aAAa;AAC1E,UAAA,IAAI,CAACtL,eAAe,GAAG,MAAM5C,MAAM,CAACC,KAAK,CAAC;AAC1C,UAAA,IAAI,CAACwC,cAAc,GAAG+D,MAAM,CAACO,aAAa;UAC1C,IAAI,CAAC1F,gBAAgB,GAAG,IAAI;AAC9B,SAAC,MAAM;AACL;AACA,UAAA,IAAI,CAACuM,SAAS,CAACC,QAAQ,CAAC;AAC1B;OACH,CAAA;;;+CAGQ5N,KAAK,CAAA;AACmE,qHAAAgO,EAAAA,UAAU,cAAcA,UAAU,CAAA;;sCAEjHjO,EAAAA,MAAM,CAACC,KAAK,CAAC;;kCAElB,CAAA;AACH,KAAC,CAAC;;AAEL,4BAAA,CAAA,GACD,EAAE;;;;;4BAKFyL,UAAU,IAAIL,UAAU,GAAG,CAAC,GAC1BvM,CAAI;;;;;;;sCAOI8M,UAAU;;;;;AAKN,wCAAA5M,EAAAA,cAAc,EAAE;;;AAGV,8CAAA,EAAA0M,UAAU,CAACxC,UAAU,CAC1BiF,cAAc,CAAA;;;;2CAIdzC,UAAU,CAACxC,UAAU,CAACkF,QAAQ;;;;AAI/B,wCAAAlP,EAAAA,WAAW,EAAE;;;AAGP,8CAAAwM,EAAAA,UAAU,CAACxC,UAAU,CAC1BhK,WAAW,GAAGwM,UAAU,CAACxC,UAAU,CACnCmF,gBAAgB;;;;;AAK5B,8BAAA,CAAA,GACD,EAAE;4BACJ3C,UAAU,IAAIL,UAAU,IAAI,CAAC,GAC3BvM,CAAI;;;;;AAKI,oCAAAE,EAAAA,cAAc,EAAE;;;AAGV,0CAAA,EAAA0M,UAAU,CAACxC,UAAU,CAC1BiF,cAAc,CAAA;;;;;;4CAMTzC,UAAU,CAACxC,UAAU,CAACkF,QAAQ;;;AAGpC,oCAAAlP,EAAAA,WAAW,EAAE;;;AAGP,0CAAAwM,EAAAA,UAAU,CAACxC,UAAU,CAC1BhK,WAAW,GAAGwM,UAAU,CAACxC,UAAU,CACnCmF,gBAAgB;;;AAGxB,8BAAA,CAAA,GACD,EAAE;;;;;6IAK6GhD,UAAU,IAC3H,CAAC,GACG,cAAc,GACd,GAAG,CAAA;AACG,oCAAA,EAAA,MAAK;;AACftB,MAAAA,OAAO,CAACuE,GAAG,CAAC,QAAQ,CAAC;MACjB,IAAI,CAAC5L,eAAe,GAAG,UAAU;AACjC,MAAA,IAAI,CAACE,eAAe,GAAG,MAAMnC,QAAQ,EAAE;AACvC,MAAA,IAAI,EAAC,CAAA0E,EAAA,GAAA,CAAApC,EAAA,GAAA,IAAI,CAAC/B,MAAM,MAAE,IAAA,IAAA+B,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAAtC,QAAQ,MAAE,IAAA,IAAA0E,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAA4B,aAAa,CAAA,EAAE,OAAO;MAClD,IAAI,CAACtE,cAAc,GAAG,IAAI,CAACzB,MAAM,CAACP,QAAQ,CAACsG,aAAa;MACxD,IAAI,CAAC1F,gBAAgB,GAAG,IAAI;KAC/B,CAAA;;AAEC,4BAAAZ,EAAAA,QAAQ,EAAE;;;;;;;4BAOZ,IAAI,CAACO,MAAM,CAACd,OAAO,GACjB,CAAC,MAAK;AAEJ,MAAA,OAAOpB,CAAI;;;;6CAIEiN,YAAY,CAAA;wHAC+DA,YAAY,GAChG,CAAC,GACG,yCAAyC,GACzC,EAAE,CAAA;AACQ,gDAAA,EAAA,MAAK;;AACb,QAAA,IAAI,CAAA5G,EAAA,GAAA,CAAApC,EAAA,GAAA,IAAI,CAAC/B,MAAM,0CAAEd,OAAO,MAAA,IAAA,IAAAiF,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAE4B,aAAa,EAAE;UACvC,IAAI,CAACrE,eAAe,GAAG,SAAS;UAChC,IAAI,CAACE,eAAe,GAAG,MAAM1C,OAAO,CAAC6L,YAAY,EAAE5L,sBAAsB,CAAC;UAC1E,IAAI,CAACsC,cAAc,GAAG,IAAI,CAACzB,MAAM,CAACd,OAAO,CAAC6G,aAAa;UACvD,IAAI,CAAC1F,gBAAgB,GAAG,IAAI;AAC9B,SAAC,MAAM;AACL;AACA,UAAA,IAAI,CAACuM,SAAS,CAAC,CAAArB,EAAA,GAAA,CAAArH,EAAA,GAAA,IAAI,CAAClE,MAAM,MAAE,IAAA,IAAAkE,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAAhF,OAAO,MAAE,IAAA,IAAAqM,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAAC,KAAK,CAAC;AAC7C;OACH,CAAA;;AAED,oCAAA,EAAAtM,OAAO,CACP6L,YAAY,EACZ5L,sBAAsB,CACvB;;gCAEJ,CAAA;KACF,GAAG,GACJ,EAAE;;;;qCAIKG,UAAU,CAAA;;;AAGjB,4BAAA,EAAAD,IAAI,CAACC,UAAU,EAAEC,YAAY,EAAEC,iBAAiB,CAAC;;4BAEnD,IAAI,CAACQ,MAAM,CAACqL,IAAI,GACd,CAAC,MAAK;;AACJ,MAAA,MAAMyB,QAAQ,GAAG,CAAA3I,EAAA,GAAA,CAAApC,EAAA,GAAA,IAAI,CAAC/B,MAAM,MAAE,IAAA,IAAA+B,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAAsJ,IAAI,MAAE,IAAA,IAAAlH,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAA4I,SAAS;MAC7C,MAAME,UAAU,GAAGxJ,IAAI,CAAC+G,KAAK,CAC1BQ,SAAS,GAAG8B,QAAQ,GAAI,GAAG,CAC7B;AACD,MAAA,OAAOhP,CAAI;;;;6CAIEkN,SAAS,CAAA;AAC+D,mHAAAiC,EAAAA,UAAU,cAAcA,UAAU,CAAA;AAC3G,0CAAA,EAAA,MAAK;;AACb,QAAA,IAAI,IAAI,CAACjN,MAAM,CAACqL,IAAI,CAACtF,aAAa,EAAE;AACpCgD,UAAAA,OAAO,CAACuE,GAAG,CAAC,OAAO,CAAC;UAClB,IAAI,CAAC5L,eAAe,GAAG,MAAM;AAC7B,UAAA,IAAI,CAACE,eAAe,GAAG,MAAMxC,SAAS,CAAC4L,SAAS,CAAC;UACjD,IAAI,CAACvJ,cAAc,GAAG,IAAI,CAACzB,MAAM,CAACqL,IAAI,CAACtF,aAAa;UACpD,IAAI,CAAC1F,gBAAgB,GAAG,IAAI;AAC9B,SAAC,MAAM;AACL;AACA,UAAA,IAAI,CAACuM,SAAS,CAAC,CAAAzI,EAAA,GAAA,CAAApC,EAAA,GAAA,IAAI,CAAC/B,MAAM,MAAE,IAAA,IAAA+B,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAAsJ,IAAI,MAAE,IAAA,IAAAlH,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAAmH,WAAW,CAAC;AAChD;OACH,CAAA;;oCAEKlM,EAAAA,SAAS,CAAC4L,SAAS,CAAC;;gCAEzB,CAAA;KACF,GAAG,GACJ,EAAE;;;;;;;;;;;;;;;;;;;AAmBF,4BAAAa,EAAAA,GAAG,GAAG,CAAC,GACL/N,CAAI,CAAS+N,MAAAA,EAAAA,GAAG,CAAY,UAAA,CAAA,GAC5B/N,CAAI,CAAA;AACA,kCAAAD,EAAAA,MAAM,EAAE;AACL,sCAAA,CAAA;;;;;;;;;;;8BAWT,IAAI,CAACuD,qBAAqB,GAAG,CAAC,GAC5BtD,CAAI;AACK,uCAAA,EAAA,IAAI,CAACsD,qBAAqB,CAAA;AAClC,gCAAA,CAAA,GACDtD,CAAI,CAAA;AACA,kCAAAD,EAAAA,MAAM,EAAE;AACL,sCAAA,CAAA;;;;;;;;;;;;AAYT,4BAAA,EAAA8O,sBAAsB,GAAG,CAAC,GACxB7O,CAAI;;AAEE,oCAAA,EAAA6O,sBAAsB,CAACvF,OAAO,CAAC,CAAC,CAAC,CAAA;;AAEtC,gCAAA,CAAA,GACDtJ,CAAI,CAAA;AACA,kCAAAD,EAAAA,MAAM,EAAE;AACL,sCAAA,CAAA;;;;;;;AAOpB,kBAAA,CAAA,GACDC,CAAI;;;;;;;4BAOM,IAAI,CAAC8D,eAAe,EAAE;;AAEW,2DAAA,EAAA,IAAI,CAACF,eAAe,CAAA;;AAE/C,gCAAA,EAAA,MAAK;MACT,IAAI,CAACrB,gBAAgB,GAAG,KAAK;MAC7B,IAAI,CAACS,kBAAkB,GAAG,IAAI;KAE/B,CAAA;;;;AAIH,wBAAA,EAAA,IAAI,CAACgF,oBAAoB,CAAC,IAAI,CAACrE,cAAc,CAAC;;;AAGrD,kBAAA,CAAA;AACN,YAAA,CAAA,GACD,EAAE;UACJ,IAAI,CAACxB,UAAU,KAAK,OAAO,GACzBnC,CAAI;;;AAIA,cAAA,EAAA,IAAI,CAACqC,WAAW,GACZrC,CAAI;;;;AAIiB,uCAAA,EAAA,IAAI,CAAC4C,SAAS,CAAA;;;;;;;;AAQjB,oCAAA,EAAA,IAAI,CAACA,SAAS,CAAA;AACd,oCAAA,EAAA,IAAI,CAAC6M,cAAc,CAAA;AAClB,qCAAA,EAAA,IAAI,CAACC,eAAe,CAAA;;;;AAI1B,+BAAA,EAAA,IAAI,CAAC9M,SAAS,CAAA;;;;;;AAM1B,oBAAA,CAAA,GACD5C,CAAI;;;;;;AAOV,oBAAA,CAAA;;;;AAIY,wBAAA,EAAA,MAAK;MACb,IAAI,CAACqC,WAAW,GAAG,IAAI;AACvB;AACA,MAAA,IAAI,CAACsN,gBAAgB,CAAC,IAAI,CAACjH,UAAU,CAAC;KACvC,CAAA;;;;;;AAMW,0BAAA,EAAA,MAAK;MACb,IAAI,CAACrG,WAAW,GAAG,KAAK;MACxB,IAAI,CAACuN,mBAAmB,CAAC,IAAI,CAACpH,SAAS,EAAE,YAAY,CAAC;KACvD,CAAA;;;;;;AAMN,YAAA,CAAA,GACD,EAAE;UACJ,IAAI,CAACrG,UAAU,KAAK,MAAM,GACxBnC,CAAI;;AAEE,gBAAA,EAAA,IAAI,CAACuH,eAAe,EAAE,CAACE,GAAG,CAAEG,IAAI,IAAKA,IAAI,CAAC;;AAE/C,YAAA,CAAA,GACD,EAAE;QACJ,EAAA,IAAI,CAACzF,UAAU,KAAK,SAAS,GAC3BnC,CAAI,CAAkC,gCAAA,CAAA,GACtC,EAAE;;;;;;6BAMiB,EAAA,IAAI,CAACmC,UAAU,KAAK,MAAM,GACzC,cAAc,GACd,EAAE,CAAA;AACI,oBAAA,EAAA,MAAK;MACb,IAAI,CAACA,UAAU,GAAG,MAAM;KACzB,CAAA;;;;6BAIkB,EAAA,IAAI,CAACA,UAAU,KAAK,OAAO,GAC1C,cAAc,GACd,EAAE,CAAA;AACI,oBAAA,EAAA,MAAK;MACb,IAAI,CAACA,UAAU,GAAG,OAAO;AACzB,MAAA,IAAI,CAACwN,gBAAgB,CAAC,IAAI,CAACjH,UAAU,CAAC;KACvC,CAAA;;;;6BAIkB,EAAA,IAAI,CAACvG,UAAU,KAAK,SAAS,GAC5C,cAAc,GACd,EAAE,CAAA;AACI,oBAAA,EAAA,MAAK;MACb,IAAI,CAACA,UAAU,GAAG,SAAS;MAC3B,IAAI,CAAC0N,wBAAwB,EAAE;AAC/B;KACD,CAAA;;;;6BAIkB,EAAA,IAAI,CAAC1N,UAAU,KAAK,MAAM,GACzC,cAAc,GACd,EAAE,CAAA;AACI,oBAAA,EAAA,MAAK;MACb,IAAI,CAACA,UAAU,GAAG,MAAM;KACzB,CAAA;;;;IAIR,CAAA;AACH;AAEA;AAEQ2N,EAAAA,UAAUA,GAAA;AAChB,IAAA,IAAI,CAAChG,SAAS,GAAG,IAAIrE,IAAI,EAAE;AAC3B,IAAA,IAAI,CAACsK,OAAO,GAAG,IAAItK,IAAI,EAAE;AACzB,IAAA,IAAI,CAACqE,SAAS,CAACC,OAAO,CAAC,IAAI,CAACgG,OAAO,CAAC/F,OAAO,EAAE,GAAG,CAAC,CAAC;IAClD,IAAI,CAACF,SAAS,CAACG,QAAQ,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;AACjC,IAAA,IAAI,CAAC8F,OAAO,CAAC9F,QAAQ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC;AACxC;AAEA+F,EAAAA,YAAYA,GAAA;;AACV,IAAA,IAAI,CAACzM,cAAc,GAAG,IAAI,CAACrB,MAAM,CAACuH,IAAI,GAAG,IAAI,CAACvH,MAAM,CAACuH,IAAI,GAAG,CAAC;IAC7D,IAAI,CAACqG,UAAU,EAAE;AAEjB;IACA,MAAMG,QAAQ,GAAG,IAAI,CAAChO,IAAI,CAACC,MAAM,CAAC+N,QAAQ;IAC1C,MAAMC,SAAS,GAAG,IAAI,CAACjO,IAAI,CAACC,MAAM,CAACgO,SAAS;AAC5C,IAAA,IAAID,QAAQ,KAAKE,SAAS,IAAID,SAAS,KAAKC,SAAS,EAAE;MACrD,MAAMzK,GAAG,GAAG,IAAID,IAAI,EAAE,CAAC2K,OAAO,EAAE;MAChC,OAAO;QAAEC,GAAG,EAAE3K,GAAG,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI;QAAE4K,GAAG,EAAE5K,GAAG,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG;AAAI,OAAE,CAAC;AAC1E;AACA;AACA,IAAA,MAAM6K,KAAK,GAAGC,OAAO,CAACC,QAAQ,CAAC,IAAIhL,IAAI,EAAE,EAAEwK,QAAQ,EAAEC,SAAS,CAAC;IAE/D,IAAI,CAACQ,QAAQ,GAAGH,KAAK,CAACI,OAAO,CAACP,OAAO,EAAE,CAAC;IACxC,IAAI,CAACQ,QAAQ,GAAGL,KAAK,CAACM,MAAM,CAACT,OAAO,EAAE,CAAC;IAEvC,IAAI,CAACU,0BAA0B,EAAE;AAEjC,IAAA,IAAI,CAACxO,SAAS,GAAG,IAAI,CAACJ,MAAM,CAAC6O,UAAU,GAAG,IAAI,CAAC7O,MAAM,CAAC6O,UAAU,GAAG,KAAK;IACxE,IAAI,CAACC,mBAAmB,EAAE;IAC1B,MAAMC,MAAM,GAAG,CAAAhN,EAAA,GAAA,IAAI,CAACC,UAAU,MAAA,IAAA,IAAAD,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEE,aAAa,CAC3C,qBAAqB,CACF;AACrB,IAAA,IAAI8M,MAAM,EAAE;MACVC,qBAAqB,CAAC,MAAM,IAAI,CAACC,oBAAoB,CAACF,MAAM,CAAC,CAAC;AAC9D,MAAA,IAAI,CAACE,oBAAoB,CAACF,MAAM,CAAC;AACjC,MAAA,MAAMG,cAAc,GAAG,IAAIC,cAAc,CAAC,MAAK;AAC7C,QAAA,IAAI,CAACF,oBAAoB,CAACF,MAAM,CAAC;QACjC,IAAI,CAACK,aAAa,EAAE;AACtB,OAAC,CAAC;AACFF,MAAAA,cAAc,CAACG,OAAO,CAACN,MAAM,CAACO,aAAc,CAAC;AAC/C;IAEA,IAAI,CAACC,eAAe,EAAE;AACxB;EAEUC,OAAOA,CAACC,YAA8B,EAAA;;AAC9C,IAAA,KAAK,CAACD,OAAO,CAACC,YAAY,CAAC;AAE3B,IAAA,IAAI,CAAC,IAAI,CAAC1P,IAAI,EAAE;AAEhB;IACA,IAAI2P,eAAe,GAAa,EAAE;AAElC;AACA,IAAA,IAAI,CAAAvL,EAAA,GAAA,CAAApC,EAAA,GAAA,IAAI,CAAC/B,MAAM,0CAAEd,OAAO,MAAA,IAAA,IAAAiF,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEqH,KAAK,EAAE;MAC7BkE,eAAe,CAACtJ,IAAI,CAAC,IAAI,CAACpG,MAAM,CAACd,OAAO,CAACsM,KAAK,CAAC;AACnD;AAEA;AACA,IAAA,IAAI,CAAAD,EAAA,GAAA,CAAArH,EAAA,GAAA,IAAI,CAAClE,MAAM,0CAAEqL,IAAI,MAAA,IAAA,IAAAE,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAED,WAAW,EAAE;MAChCoE,eAAe,CAACtJ,IAAI,CAAC,IAAI,CAACpG,MAAM,CAACqL,IAAI,CAACC,WAAW,CAAC;AACtD;AAEA;IACA,IAAI,MAAA,IAAI,CAACtL,MAAM,MAAE,IAAA,IAAA8J,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAAzH,QAAQ,EAAE;MACvB,IAAI,CAACrC,MAAM,CAACqC,QAAQ,CAACwD,OAAO,CAAE8J,YAAiB,IAAI;QAC/C,IAAIA,YAAY,CAACzE,EAAE,EAAE;AACjBwE,UAAAA,eAAe,CAACtJ,IAAI,CAACuJ,YAAY,CAACzE,EAAE,CAAC;AACzC;QACA,IAAIyE,YAAY,CAACC,YAAY,EAAE;AAC3BF,UAAAA,eAAe,CAACtJ,IAAI,CAACuJ,YAAY,CAACC,YAAY,CAAC;AACnD;AACA,QAAA,IAAID,YAAY,CAAC5J,aAAa,IAAIzD,KAAK,CAACC,OAAO,CAACoN,YAAY,CAAC5J,aAAa,CAAC,EAAE;AACzE2J,UAAAA,eAAe,CAACtJ,IAAI,CAAC,GAAGuJ,YAAY,CAAC5J,aAAa,CAAC;AACvD;AACJ,OAAC,CAAC;AACN;AAEA;IACA,IAAI8J,UAAU,GAAG,KAAK;AAEtBH,IAAAA,eAAe,CAAC7J,OAAO,CAACL,MAAM,IAAG;;AAC7B,MAAA,IAAIiK,YAAY,CAACK,GAAG,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC/P,IAAI,CAACiI,MAAM,CAACxC,MAAM,CAAC,MAAK,CAAAzD,EAAA,GAAA0N,YAAY,CAACM,GAAG,CAAC,MAAM,CAAC,MAAE,IAAA,IAAAhO,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAAiG,MAAM,CAACxC,MAAM,CAAC,CAAA,EAAE;AACnGqK,QAAAA,UAAU,GAAG,IAAI;AACjB9G,QAAAA,OAAO,CAACuE,GAAG,CAAC,CAAA,SAAA,EAAY9H,MAAM,CAA2B,yBAAA,CAAA,EAAE,CAAArB,EAAA,GAAA,IAAI,CAACpE,IAAI,CAACiI,MAAM,CAACxC,MAAM,CAAC,MAAE,IAAA,IAAArB,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAAlF,KAAK,CAAC;AAC/F;AACJ,KAAC,CAAC;AAEF;AACA,IAAA,IAAI4Q,UAAU,EAAE;MACZ,IAAI,CAACzK,eAAe,EAAE;AAC1B;AACJ;AAEEA,EAAAA,eAAeA,GAAA;IACb,MAAMkF,QAAQ,GAAG,IAAI,CAACtI,UAAU,CAACC,aAAa,CAC5C,YAAY,CACI;IAClB,IAAI,CAACqI,QAAQ,EAAE;AACb,MAAA;AACF;AAEA;IACA,OAAOA,QAAQ,CAAC0F,UAAU,EAAE;AAC1B1F,MAAAA,QAAQ,CAAC2F,WAAW,CAAC3F,QAAQ,CAAC0F,UAAU,CAAC;AAC3C;AAEA,IAAA,MAAME,uBAAuB,GAAG5N,KAAK,CAAC6N,IAAI,CACxC,IAAI,CAACnO,UAAU,CAACyI,gBAAgB,CAAC,kBAAkB,CAAC,CAClC;AACpB,IAAA,MAAM2F,0BAA0B,GAAG9N,KAAK,CAAC6N,IAAI,CAC3C,IAAI,CAACnO,UAAU,CAACyI,gBAAgB,CAAC,qBAAqB,CAAC,CACrC;IAEpB,MAAM4F,OAAO,GAAG,IAAI,CAACrO,UAAU,CAACC,aAAa,CAC3C,mBAAmB,CACH;IAClB,IAAI,CAACoO,OAAO,EAAE;AACZ,MAAA;AACF;AAEA,IAAA,MAAMC,YAAY,GAAGhG,QAAQ,CAACpF,qBAAqB,EAAE;AACrD,IAAA,MAAMqL,QAAQ,GAAGF,OAAO,CAACnL,qBAAqB,EAAE;IAChD,MAAMsL,KAAK,GAAGD,QAAQ,CAACE,CAAC,GAAGH,YAAY,CAACG,CAAC;IACzC,MAAMC,KAAK,GAAGH,QAAQ,CAAC3S,CAAC,GAAG0S,YAAY,CAAC1S,CAAC;AACzC,IAAA,MAAM+S,SAAS,GAAGJ,QAAQ,CAACpL,KAAK;AAChC,IAAA,MAAMyL,UAAU,GAAGL,QAAQ,CAACM,MAAM;AAElC,IAAA,MAAMC,WAAW,GAAGN,KAAK,GAAGG,SAAS,GAAG,CAAC;AAEzC,IAAA,MAAMI,SAAS,GAAGA,CAChBC,oBAAqC,EACrCC,QAAiB,KACf;AACF,MAAA,IAAID,oBAAoB,CAACzM,MAAM,KAAK,CAAC,EAAE;MAEvC,MAAM2M,OAAO,GAAG,EAAE;MAClB,MAAMC,OAAO,GAAG,EAAE;AAElB,MAAA,MAAMC,kBAAkB,GAAGJ,oBAAoB,CAACzL,GAAG,CAAE8L,OAAO,IAAI;AAC9D,QAAA,MAAMC,IAAI,GAAGD,OAAO,CAACnM,qBAAqB,EAAE;QAC5C,OAAO;UACLmM,OAAO;AACPE,UAAAA,OAAO,EAAED,IAAI,CAACb,CAAC,GAAGH,YAAY,CAACG,CAAC,GAAGa,IAAI,CAACnM,KAAK,GAAG,CAAC;AACjDmM,UAAAA;SACD;AACH,OAAC,CAAC;MAEF,MAAME,wBAAwB,GAAGJ,kBAAkB,CAACnK,IAAI,CACrDwK,IAAI,IAAKhO,IAAI,CAACiO,GAAG,CAACD,IAAI,CAACF,OAAO,GAAGT,WAAW,CAAC,GAAG,CAAC,CACnD;AAED,MAAA,MAAMa,YAAY,GAAGP,kBAAkB,CACpCnL,MAAM,CAAEwL,IAAI,IAAKA,IAAI,CAACF,OAAO,GAAGT,WAAW,CAAC,CAC5Cc,IAAI,CAAC,CAACtU,CAAC,EAAEuU,CAAC,KAAKA,CAAC,CAACN,OAAO,GAAGjU,CAAC,CAACiU,OAAO,CAAC;AACxC,MAAA,MAAMO,aAAa,GAAGV,kBAAkB,CACrCnL,MAAM,CAAEwL,IAAI,IAAKA,IAAI,CAACF,OAAO,GAAGT,WAAW,CAAC,CAC5Cc,IAAI,CAAC,CAACtU,CAAC,EAAEuU,CAAC,KAAKvU,CAAC,CAACiU,OAAO,GAAGM,CAAC,CAACN,OAAO,CAAC;AAExC,MAAA,MAAMQ,eAAe,GACnBjB,WAAW,GAAI,CAACE,oBAAoB,CAACzM,MAAM,GAAG,CAAC,IAAI2M,OAAO,GAAI,CAAC;AACjE,MAAA,MAAMc,WAAW,GAAG1P,KAAK,CAAC6N,IAAI,CAC5B;QAAE5L,MAAM,EAAEyM,oBAAoB,CAACzM;OAAQ,EACvC,CAAC0N,CAAC,EAAE/U,CAAC,KAAK6U,eAAe,GAAG7U,CAAC,GAAGgU,OAAO,CACxC;AAEDE,MAAAA,kBAAkB,CAACvL,OAAO,CAAC,CAAC4L,IAAI,EAAES,KAAK,KAAI;QACzC,MAAM;UAAEb,OAAO;UAAEC,IAAI;AAAEC,UAAAA;AAAO,SAAE,GAAGE,IAAI;QACvC,MAAMU,QAAQ,GAAGb,IAAI,CAACb,CAAC,GAAGH,YAAY,CAACG,CAAC;QACxC,MAAM2B,QAAQ,GAAGd,IAAI,CAAC1T,CAAC,GAAG0S,YAAY,CAAC1S,CAAC;AACxC,QAAqB0T,IAAI,CAACnM;AAC1B,QAAA,MAAMkN,aAAa,GAAGf,IAAI,CAACT,MAAM;QAEjC,MAAMyB,gBAAgB,GAAGf,OAAO;AAEhC,QAAA,MAAMgB,MAAM,GAAGZ,YAAY,CAACa,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACpB,OAAO,KAAKA,OAAO,CAAC;AACpE,QAAA,MAAMqB,OAAO,GAAGZ,aAAa,CAACU,IAAI,CAC/BG,KAAK,IAAKA,KAAK,CAACtB,OAAO,KAAKA,OAAO,CACrC;AAED,QAAA,MAAMuB,aAAa,GAAGL,MAAM,GACxBZ,YAAY,CAACkB,SAAS,CAAEJ,IAAI,IAAKA,IAAI,CAACpB,OAAO,KAAKA,OAAO,CAAC,GAC1DS,aAAa,CAACe,SAAS,CAAEF,KAAK,IAAKA,KAAK,CAACtB,OAAO,KAAKA,OAAO,CAAC;QAEjE,IAAIyB,WAAW,GAAG,EAAE;QACpB,IAAIF,aAAa,GAAG,CAAC,EAAE;UACrBE,WAAW,IAAIF,aAAa,GAAGzB,OAAO;AACxC;QAEA,MAAM4B,WAAW,GAAG9B,QAAQ,GAAGmB,QAAQ,GAAGA,QAAQ,GAAGC,aAAa;AAClE,QAAA,MAAMW,SAAS,GAAG/B,QAAQ,GACtBmB,QAAQ,GAAGU,WAAW,GACtBV,QAAQ,GAAGC,aAAa,GAAGS,WAAW;AAG1C,QAAA,IACGP,MAAM,IAAId,IAAI,KAAKE,YAAY,CAAC,CAAC,CAAC,IAClCe,OAAO,IAAIjB,IAAI,KAAKK,aAAa,CAAC,CAAC,CAAE,EACtC;AAGF,QAAA,IACEN,wBAAwB,IACxBA,wBAAwB,CAACH,OAAO,KAAKA,OAAO,EAC5C;AAIF,QAAmBW,WAAW,CAACE,KAAK;AAKpC,QAAA,IAAIzU,CAAC;AAEL;QACA,MAAMwV,gBAAgB,GAAGA,MAAK;AAC5B,UAAA,MAAMC,YAAY,GAAG5I,QAAQ,CAACrI,aAAa,CAAC,MAAM,CAAC;UACnD,IAAIiR,YAAY,EAAE,OAAO;UAEzB,MAAMC,IAAI,GAAGxN,QAAQ,CAACyN,eAAe,CACnC,4BAA4B,EAC5B,MAAM,CACP;UACD,MAAMnN,MAAM,GAAGN,QAAQ,CAACyN,eAAe,CACrC,4BAA4B,EAC5B,QAAQ,CACT;AACDnN,UAAAA,MAAM,CAACoN,YAAY,CAAC,IAAI,EAAE,WAAW,CAAC;AACtCpN,UAAAA,MAAM,CAACoN,YAAY,CAAC,GAAG,EAAE,MAAM,CAAC;AAChCpN,UAAAA,MAAM,CAACoN,YAAY,CAAC,GAAG,EAAE,MAAM,CAAC;AAChCpN,UAAAA,MAAM,CAACoN,YAAY,CAAC,OAAO,EAAE,MAAM,CAAC;AACpCpN,UAAAA,MAAM,CAACoN,YAAY,CAAC,QAAQ,EAAE,MAAM,CAAC;UAErC,MAAMC,cAAc,GAAG3N,QAAQ,CAACyN,eAAe,CAC7C,4BAA4B,EAC5B,gBAAgB,CACjB;AACDE,UAAAA,cAAc,CAACD,YAAY,CAAC,IAAI,EAAE,eAAe,CAAC;UAClDC,cAAc,CAACD,YAAY,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;AACnDpN,UAAAA,MAAM,CAACsN,WAAW,CAACD,cAAc,CAAC;AAElCH,UAAAA,IAAI,CAACI,WAAW,CAACtN,MAAM,CAAC;AACxBqE,UAAAA,QAAQ,CAACiJ,WAAW,CAACJ,IAAI,CAAC;SAC3B;AAEDF,QAAAA,gBAAgB,EAAE;AAElB,QAAA,IAAI5B,OAAO,CAACvN,EAAE,KAAK,mBAAmB,EAAE;UACtC,MAAM0P,QAAQ,GAAG,IAAI,CAACxR,UAAU,CAACC,aAAa,CAC5C,wBAAwB,CACR;UAClB,IAAI,CAACuR,QAAQ,EAAE;AACbzK,YAAAA,OAAO,CAACW,KAAK,CAAC,kCAAkC,CAAC;AACjD,YAAA;AACF;AAEA,UAAA,MAAM+J,YAAY,GAAGD,QAAQ,CAACtO,qBAAqB,EAAE;UACrD,MAAMwO,SAAS,GAAGD,YAAY,CAAChD,CAAC,GAAGH,YAAY,CAACG,CAAC;UACjD,MAAMkD,SAAS,GAAGF,YAAY,CAAC7V,CAAC,GAAG0S,YAAY,CAAC1S,CAAC;AACjD,UAAA,MAAMgW,cAAc,GAAGH,YAAY,CAAC5C,MAAM;AAE1C;UACA,MAAMgD,UAAU,GAAG1B,QAAQ;AAC3B,UAAA,MAAM2B,gBAAgB,GAAG1B,QAAQ,GAAGC,aAAa,GAAG,CAAC;AAErD,UAAA,MAAM0B,YAAY,GAAGL,SAAS,GAAGD,YAAY,CAACtO,KAAK;AACnD,UAAA,MAAM6O,eAAe,GAAGL,SAAS,GAAGC,cAAc,GAAG,CAAC;AAEtD;UACA,MAAMK,UAAU,GAAGtO,QAAQ,CAACyN,eAAe,CACzC,4BAA4B,EAC5B,MAAM,CACP;AACDa,UAAAA,UAAU,CAACZ,YAAY,CAAC,IAAI,EAAEQ,UAAU,CAAClQ,QAAQ,EAAE,CAAC,CAAC;AACrDsQ,UAAAA,UAAU,CAACZ,YAAY,CAAC,IAAI,EAAES,gBAAgB,CAACnQ,QAAQ,EAAE,CAAC,CAAC;AAC3DsQ,UAAAA,UAAU,CAACZ,YAAY,CAAC,IAAI,EAAEU,YAAY,CAACpQ,QAAQ,EAAE,CAAC,CAAC;AACvDsQ,UAAAA,UAAU,CAACZ,YAAY,CAAC,IAAI,EAAEW,eAAe,CAACrQ,QAAQ,EAAE,CAAC,CAAC;UAC1DsQ,UAAU,CAACZ,YAAY,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;UAC1CY,UAAU,CAACZ,YAAY,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;UAC7CY,UAAU,CAACZ,YAAY,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;UACnDY,UAAU,CAACZ,YAAY,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;AACnD/I,UAAAA,QAAQ,CAACiJ,WAAW,CAACU,UAAU,CAAC;AAEhC;AACA,UAAA,MAAMC,UAAU,GAAG7K,UAAU,CAACgI,OAAO,CAAC8C,YAAY,CAAC,OAAO,CAAC,IAAI,GAAG,CAAC;UACnE,IAAID,UAAU,GAAG,CAAC,EAAE;AAClB;YACA,MAAME,QAAQ,GAAGzO,QAAQ,CAACyN,eAAe,CACvC,4BAA4B,EAC5B,MAAM,CACP;AACDgB,YAAAA,QAAQ,CAACf,YAAY,CAAC,IAAI,EAAEQ,UAAU,CAAClQ,QAAQ,EAAE,CAAC,CAAC;AACnDyQ,YAAAA,QAAQ,CAACf,YAAY,CAAC,IAAI,EAAES,gBAAgB,CAACnQ,QAAQ,EAAE,CAAC,CAAC;AACzDyQ,YAAAA,QAAQ,CAACf,YAAY,CAAC,IAAI,EAAEU,YAAY,CAACpQ,QAAQ,EAAE,CAAC,CAAC;AACrDyQ,YAAAA,QAAQ,CAACf,YAAY,CAAC,IAAI,EAAEW,eAAe,CAACrQ,QAAQ,EAAE,CAAC,CAAC;YAExDyQ,QAAQ,CAACf,YAAY,CAAC,QAAQ,EAAE,wBAAwB,CAAC,CAAC;YAC1De,QAAQ,CAACf,YAAY,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;YAC3Ce,QAAQ,CAACf,YAAY,CAAC,kBAAkB,EAAE,OAAO,CAAC,CAAC;YACnDe,QAAQ,CAACf,YAAY,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;AAEjD;YACA,MAAMgB,OAAO,GAAG1O,QAAQ,CAACyN,eAAe,CACtC,4BAA4B,EAC5B,SAAS,CACV;AACDiB,YAAAA,OAAO,CAAChB,YAAY,CAAC,eAAe,EAAE,mBAAmB,CAAC;YAC1DgB,OAAO,CAAChB,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;AACnCgB,YAAAA,OAAO,CAAChB,YAAY,CAAC,IAAI,EAAE,GAAG,CAAC;AAC/BgB,YAAAA,OAAO,CAAChB,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC;AACjCgB,YAAAA,OAAO,CAAChB,YAAY,CAAC,aAAa,EAAE,YAAY,CAAC;AACjDe,YAAAA,QAAQ,CAACb,WAAW,CAACc,OAAO,CAAC;AAE7B/J,YAAAA,QAAQ,CAACiJ,WAAW,CAACa,QAAQ,CAAC;AAChC;AACF,SAAC,MAAM;AACL;AACA,UAAA,MAAME,UAAU,GAAGtC,WAAW,CAACE,KAAK,CAAC;UACrC,MAAMqC,UAAU,GAAGtD,QAAQ,GAAGP,KAAK,GAAGE,UAAU,GAAGF,KAAK;AAExDjT,UAAAA,CAAC,GACC,CAAA,EAAA,EAAK6U,gBAAgB,CAAA,CAAA,EAAIS,WAAW,CAAG,CAAA,CAAA;AAAG;UAC1C,CAAKT,EAAAA,EAAAA,gBAAgB,CAAIU,CAAAA,EAAAA,SAAS,CAAG,CAAA,CAAA;AAAG;UACxC,CAAKsB,EAAAA,EAAAA,UAAU,CAAItB,CAAAA,EAAAA,SAAS,CAAG,CAAA,CAAA;AAAG;AAClC,UAAA,CAAA,EAAA,EAAKsB,UAAU,CAAA,CAAA,EAAIC,UAAU,CAAA,CAAE,CAAC;AAElC;UACA,MAAMN,UAAU,GAAGtO,QAAQ,CAACyN,eAAe,CACzC,4BAA4B,EAC5B,MAAM,CACP;AACDa,UAAAA,UAAU,CAACZ,YAAY,CAAC,GAAG,EAAE5V,CAAC,CAAC;UAC/BwW,UAAU,CAACZ,YAAY,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;AAC1CY,UAAAA,UAAU,CAACZ,YAAY,CAAC,cAAc,EAAE,GAAG,CAAC;AAC5CY,UAAAA,UAAU,CAACZ,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC;UACvCY,UAAU,CAACZ,YAAY,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;UACnDY,UAAU,CAACZ,YAAY,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;AACnD/I,UAAAA,QAAQ,CAACiJ,WAAW,CAACU,UAAU,CAAC;AAClC;AAEA;QACA,MAAMG,QAAQ,GAAGzO,QAAQ,CAACyN,eAAe,CACvC,4BAA4B,EAC5B,MAAM,CACP;AACDgB,QAAAA,QAAQ,CAACf,YAAY,CAAC,GAAG,EAAE5V,CAAC,CAAC;AAE7B;AACA;AAEA;AACA,QAAA,IAAI4T,OAAO,CAACvN,EAAE,KAAK,YAAY,EAAE;UAC/BsQ,QAAQ,CAACf,YAAY,CAAC,QAAQ,EAAE,wBAAwB,CAAC,CAAC;AAC5D,SAAC,MAAM;UACLe,QAAQ,CAACf,YAAY,CAAC,QAAQ,EAAE,sBAAsB,CAAC,CAAC;AAC1D;AAEAe,QAAAA,QAAQ,CAACf,YAAY,CAAC,cAAc,EAAE,GAAG,CAAC;AAC1Ce,QAAAA,QAAQ,CAACf,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC;QACrCe,QAAQ,CAACf,YAAY,CAAC,kBAAkB,EAAE,OAAO,CAAC,CAAC;QACnDe,QAAQ,CAACf,YAAY,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;AAEjD;AACA,QAAA,MAAMa,UAAU,GAAG7K,UAAU,CAACgI,OAAO,CAAC8C,YAAY,CAAC,OAAO,CAAC,IAAI,GAAG,CAAC;AACnEpL,QAAAA,OAAO,CAACuE,GAAG,CAAC,YAAY,EAAC4G,UAAU,CAAC;AAGpC;AACA,QAAA,IAAI7C,OAAO,CAACvN,EAAE,KAAK,SAAS,EAAE;AAC5B;UACA,IAAIoQ,UAAU,GAAG,CAAC,EAAE;AAClB;YACA,MAAMG,OAAO,GAAG1O,QAAQ,CAACyN,eAAe,CACtC,4BAA4B,EAC5B,SAAS,CACV;AACDiB,YAAAA,OAAO,CAAChB,YAAY,CAAC,eAAe,EAAE,mBAAmB,CAAC;YAC1DgB,OAAO,CAAChB,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;AACnCgB,YAAAA,OAAO,CAAChB,YAAY,CAAC,IAAI,EAAE,GAAG,CAAC;AAC/BgB,YAAAA,OAAO,CAAChB,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC;AACjCgB,YAAAA,OAAO,CAAChB,YAAY,CAAC,aAAa,EAAE,YAAY,CAAC;AACjDe,YAAAA,QAAQ,CAACb,WAAW,CAACc,OAAO,CAAC;AAC7B/J,YAAAA,QAAQ,CAACiJ,WAAW,CAACa,QAAQ,CAAC;AAChC,WAAC,MAAM,IAAIF,UAAU,GAAG,CAAC,EAAE;AACzB;YACA,MAAMG,OAAO,GAAG1O,QAAQ,CAACyN,eAAe,CACtC,4BAA4B,EAC5B,SAAS,CACV;AACDiB,YAAAA,OAAO,CAAChB,YAAY,CAAC,eAAe,EAAE,mBAAmB,CAAC;YAC1DgB,OAAO,CAAChB,YAAY,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;AAClCgB,YAAAA,OAAO,CAAChB,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC;AAChCgB,YAAAA,OAAO,CAAChB,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC;AACjCgB,YAAAA,OAAO,CAAChB,YAAY,CAAC,aAAa,EAAE,YAAY,CAAC;AACjDe,YAAAA,QAAQ,CAACb,WAAW,CAACc,OAAO,CAAC;AAC7B/J,YAAAA,QAAQ,CAACiJ,WAAW,CAACa,QAAQ,CAAC;AAChC,WAAC,MAAM;AACL;AACArL,YAAAA,OAAO,CAACuE,GAAG,CACT,CAAA,gEAAA,CAAkE,CACnE;AACH;AACF,SAAC,MAAM,IAAI+D,OAAO,CAACvN,EAAE,KAAK,YAAY,IAAIuN,OAAO,CAACvN,EAAE,KAAK,YAAY,EAAE;AACrE;UACA,MAAMuQ,OAAO,GAAG1O,QAAQ,CAACyN,eAAe,CACtC,4BAA4B,EAC5B,SAAS,CACV;AACDiB,UAAAA,OAAO,CAAChB,YAAY,CAAC,eAAe,EAAE,mBAAmB,CAAC;UAC1DgB,OAAO,CAAChB,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;AACnCgB,UAAAA,OAAO,CAAChB,YAAY,CAAC,IAAI,EAAE,GAAG,CAAC;AAC/BgB,UAAAA,OAAO,CAAChB,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC;AACjCgB,UAAAA,OAAO,CAAChB,YAAY,CAAC,aAAa,EAAE,YAAY,CAAC;AACjDe,UAAAA,QAAQ,CAACb,WAAW,CAACc,OAAO,CAAC;AAC7B/J,UAAAA,QAAQ,CAACiJ,WAAW,CAACa,QAAQ,CAAC;AAChC,SAAC,MAAM,IAAIF,UAAU,GAAG,CAAC,EAAE;AACzB;UACA,MAAMG,OAAO,GAAG1O,QAAQ,CAACyN,eAAe,CACtC,4BAA4B,EAC5B,SAAS,CACV;AACDiB,UAAAA,OAAO,CAAChB,YAAY,CAAC,eAAe,EAAE,mBAAmB,CAAC;UAC1DgB,OAAO,CAAChB,YAAY,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;AAClCgB,UAAAA,OAAO,CAAChB,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC;AAChCgB,UAAAA,OAAO,CAAChB,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC;AACjCgB,UAAAA,OAAO,CAAChB,YAAY,CAAC,aAAa,EAAE,YAAY,CAAC;AACjDe,UAAAA,QAAQ,CAACb,WAAW,CAACc,OAAO,CAAC;AAC7B/J,UAAAA,QAAQ,CAACiJ,WAAW,CAACa,QAAQ,CAAC;AAChC;AACF,OAAC,CAAC;KACH;AAEDrD,IAAAA,SAAS,CAACb,uBAAuB,EAAE,KAAK,CAAC;AACzCa,IAAAA,SAAS,CAACX,0BAA0B,EAAE,IAAI,CAAC;AAC7C;AAEQtB,EAAAA,mBAAmBA,GAAA;;IACzB,MAAM0F,YAAY,GAAG,CAAAzS,EAAA,GAAA,IAAI,CAAChC,IAAI,CAAC0U,MAAM,MAAE,IAAA,IAAA1S,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAA2S,QAAQ,CAAC;IAChD,MAAMC,eAAe,GAAG,oBAAoB;IAC5C,MAAMC,gBAAgB,GAAG,0BAA0B;IACnD,MAAMC,gBAAgB,GAAG,qBAAqB;IAC9C,MAAMC,iBAAiB,GAAG,0BAA0B;AAEpD,IAAA,MAAMC,eAAe,GAAG;;;;oBAIRJ,eAAe,CAAA;sBACbC,gBAAgB,CAAA;;;;;;;;;;CAUrC;AAEG,IAAA,MAAMI,gBAAgB,GAAG;;;;oBAITF,iBAAiB,CAAA;sBACfD,gBAAgB,CAAA;;;;;;;;;;;IAWjC,CAAA;AAED,IAAA,MAAMI,UAAU,GAAGtP,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;AAClDqP,IAAAA,UAAU,CAACC,SAAS,GAAGV,YAAY,GAAGO,eAAe,GAAGC,gBAAgB;IACxE,CAAA7Q,EAAA,GAAA,IAAI,CAACnC,UAAU,MAAA,IAAA,IAAAmC,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEoP,WAAW,CAAC0B,UAAU,CAAC;AAC1C;EAEQhG,oBAAoBA,CAACF,MAAwB,EAAA;;AACnD,IAAA,IAAIoG,WAAW;IACf,IAAI,IAAI,CAAC/U,SAAS,EAAE;AAClB+U,MAAAA,WAAW,GAAG,GAAG;AACnB,KAAC,MAAM;AACLA,MAAAA,WAAW,GAAG,CAAC;AACjB;IACA,MAAMC,KAAK,GAAG,CAAArT,EAAA,GAAA,IAAI,CAACC,UAAU,MAAA,IAAA,IAAAD,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEE,aAAa,CAC1C,oBAAoB,CACN;AAChB,IAAA,IAAI,CAACmT,KAAK,IAAI,CAACrG,MAAM,EAAE;AAEvB,IAAA,MAAMsG,WAAW,GAAGtG,MAAM,CAAC5E,WAAW,GAAG,CAAC;AAE1C,IAAA,MAAMmL,UAAU,GAAG,EAAE,CAAC;IACtB,MAAMnH,GAAG,GAAGlK,QAAQ,CAAC8K,MAAM,CAACZ,GAAG,EAAE,EAAE,CAAC;IACpC,MAAMC,GAAG,GAAGnK,QAAQ,CAAC8K,MAAM,CAACX,GAAG,EAAE,EAAE,CAAC;AACpC,IAAA,MAAMnB,UAAU,GACb,CAAC,CAAC8B,MAAM,CAACwG,KAAK,GAAGpH,GAAG,KAAKC,GAAG,GAAGD,GAAG,CAAC,GAAI,GAAG,GAAGgH,WAAW;AAE3D;AACA,IAAA,MAAMK,aAAa,GAChBvI,UAAU,GAAG,GAAG,IAAKoI,WAAW,GAAGC,UAAU,CAAC,GAAGA,UAAU,GAAG,CAAC;AAElE;AACAF,IAAAA,KAAK,CAACK,KAAK,CAAChD,IAAI,GAAG,CAAA,EAAG+C,aAAa,CAAI,EAAA,CAAA;AACzC;AAEQE,EAAAA,SAASA,GAAA;;AACf;IACA,MAAM3G,MAAM,GAAG,CAAAhN,EAAA,GAAA,IAAI,CAACC,UAAU,MAAA,IAAA,IAAAD,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEE,aAAa,CAC3C,qBAAqB,CACF;IACrB,IAAI,CAAC8M,MAAM,EAAE;AACX;AACA,MAAA;AACF;AAEA;IACA,IAAI4G,aAAa,GAAG,CAAAxR,EAAA,GAAA,IAAI,CAACnC,UAAU,MAAA,IAAA,IAAAmC,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAElC,aAAa,CAChD,eAAe,CACD;AAChB,IAAA,IAAI0T,aAAa,EAAE;MACjBA,aAAa,CAACC,MAAM,EAAE;AACxB;AAEA;AACAD,IAAAA,aAAa,GAAGhQ,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAE7C+P,aAAa,CAACE,SAAS,GAAG,cAAc;IACxC,CAAA3R,EAAA,GAAA6K,MAAM,CAACO,aAAa,MAAA,IAAA,IAAApL,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEqP,WAAW,CAACoC,aAAa,CAAC;AAEhD;AACA,IAAA,MAAMxH,GAAG,GAAGlK,QAAQ,CAAC8K,MAAM,CAACZ,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC;AAC1C,IAAA,MAAMC,GAAG,GAAGnK,QAAQ,CAAC8K,MAAM,CAACX,GAAG,EAAE,EAAE,CAAC,IAAI,EAAE,CAAC;AAC3C,IAAA,MAAM0H,IAAI,GAAG,CAAC,CAAC;AAEf;AACA,IAAA,MAAMC,SAAS,GAAGpQ,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;IAChDmQ,SAAS,CAACF,SAAS,GAAG,aAAa;AACnCE,IAAAA,SAAS,CAACC,WAAW,GAAG7H,GAAG,CAACxK,QAAQ,EAAE;AACtCoS,IAAAA,SAAS,CAACN,KAAK,CAACQ,QAAQ,GAAG,UAAU;AACrCF,IAAAA,SAAS,CAACN,KAAK,CAAChD,IAAI,GAAG,IAAI,CAAC;AAC5BkD,IAAAA,aAAa,CAACpC,WAAW,CAACwC,SAAS,CAAC;AAEpC;AACA,IAAA,KAAK,IAAI7Y,CAAC,GAAG4Y,IAAI,EAAE5Y,CAAC,IAAIkR,GAAG,EAAElR,CAAC,IAAI4Y,IAAI,EAAE;AACtC,MAAA,MAAMI,IAAI,GAAGvQ,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;MAC3CsQ,IAAI,CAACL,SAAS,GAAG,aAAa;AAC9BK,MAAAA,IAAI,CAACF,WAAW,GAAG9Y,CAAC,CAACyG,QAAQ,EAAE;AAC/BuS,MAAAA,IAAI,CAACT,KAAK,CAACQ,QAAQ,GAAG,UAAU;AAChCC,MAAAA,IAAI,CAACT,KAAK,CAAChD,IAAI,GAAG,CAAA,EAAI,CAACvV,CAAC,GAAGiR,GAAG,KAAKC,GAAG,GAAGD,GAAG,CAAC,GAAI,GAAG,CAAA,CAAA,CAAG,CAAC;AACxDwH,MAAAA,aAAa,CAACpC,WAAW,CAAC2C,IAAI,CAAC;AACjC;AACF;EAEQ3I,cAAcA,CAAC4I,KAAY,EAAA;AACjC,IAAA,MAAMpH,MAAM,GAAGoH,KAAK,CAACC,MAA0B;IAC/C,IAAI,CAAC1V,SAAS,GAAGuD,QAAQ,CAAC8K,MAAM,CAACwG,KAAK,EAAE,EAAE,CAAC;AAC3C;AACA,IAAA,IAAI,CAACtG,oBAAoB,CAACF,MAAM,CAAC;IAEjC,IAAI,IAAI,CAACpO,qBAAqB,EAAE;AAC9B0V,MAAAA,YAAY,CAAC,IAAI,CAAC1V,qBAAqB,CAAC;AAC1C;AACF;EAEQ6M,eAAeA,CAAC2I,KAAY,EAAA;;AAClC,IAAA,MAAMpH,MAAM,GAAGoH,KAAK,CAACC,MAA0B;IAC/C,IAAI,CAAC1V,SAAS,GAAGuD,QAAQ,CAAC8K,MAAM,CAACwG,KAAK,EAAE,EAAE,CAAC;AAC3C;IACA,IAAI,MAAA,IAAI,CAACvV,MAAM,MAAE,IAAA,IAAA+B,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAA+B,EAAE,EAAE;MACnB,MAAMC,SAAS,GAAG,CAAgB,aAAA,EAAA,IAAI,CAAC/D,MAAM,CAAC8D,EAAE,CAAE,CAAA;MAClDT,YAAY,CAACQ,OAAO,CAACE,SAAS,EAAEgL,MAAM,CAACwG,KAAK,CAAC;AAC/C,KAAC,MAAM;AACLxM,MAAAA,OAAO,CAACC,IAAI,CAAC,kDAAkD,CAAC;AAClE;AAEA;AACA,IAAA,IAAI,CAACrI,qBAAqB,GAAGgE,MAAM,CAAC2R,UAAU,CAAC,MAAK;MAClD,IAAI,CAAC/G,eAAe,EAAE;KACvB,EAAE,GAAG,CAAC;AACT;EAEQ,MAAMA,eAAeA,GAAA;;AAC3B,IAAA,MAAMlN,QAAQ,GAAG,IAAI,CAACrC,MAAM,CAACqC,QAAQ,CAACkD,GAAG,CACtCkM,IAAmE,IAClEA,IAAI,CACP;AAED,IAAA,MAAM7J,SAAS,GAAG,IAAIrE,IAAI,EAAE;AAC5BqE,IAAAA,SAAS,CAACG,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AAC/B,IAAA,MAAM8F,OAAO,GAAG,IAAItK,IAAI,EAAE;AAC1BsK,IAAAA,OAAO,CAAC9F,QAAQ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;IAElC,MAAMvB,UAAU,GAAyD,EAAE;IAE3E,IAAI;AACF,MAAA,KAAK,MAAMhB,MAAM,IAAInD,QAAQ,EAAE;QAC7B,MAAM;AAAE6I,UAAAA,EAAE,EAAE2B,QAAQ;AAAE0J,UAAAA;AAAkB,SAAE,GAAG/Q,MAAM;QAEnD,MAAMgR,QAAQ,GAAG,MAAM,IAAI,CAACzW,IAAI,CAAC0W,OAAO,CACtC,KAAK,EACL,CAAkB7O,eAAAA,EAAAA,SAAS,CAACc,WAAW,EAAE,CAAA,kBAAA,EAAqBmE,QAAQ,CAAA,UAAA,EAAagB,OAAO,CAACnF,WAAW,EAAE,CAAA,CAAE,CAC3G;AAED,QAAA,MAAMgO,WAAW,GAAGF,QAAQ,CAAC,CAAC,CAAC,IAAI,EAAE;AACrC,QAAA,MAAMG,SAAS,GAAGD,WAAW,CAC1BnR,GAAG,CAAEqR,KAAU,IAAI;AAClB,UAAA,MAAMC,QAAQ,GAAGxN,UAAU,CAACuN,KAAK,CAAC3X,KAAK,CAAC;AACxC,UAAA,MAAMsW,KAAK,GACTgB,kBAAkB,CAACnO,WAAW,EAAE,KAAK,MAAM,GACvCyO,QAAQ,GAAG,IAAI,GACfA,QAAQ;UACd,OAAO;YACLpG,CAAC,EAAE,IAAIlN,IAAI,CAACqT,KAAK,CAACE,YAAY,CAAC,CAAC5I,OAAO,EAAE;AACzCtQ,YAAAA,CAAC,EAAE2X;WACJ;AACH,SAAC,CAAC,CACDtP,MAAM,CACJc,KAA+B,IAC9BA,KAAK,CAACnJ,CAAC,KAAK,IAAI,IAAI,CAACmZ,KAAK,CAAChQ,KAAK,CAACnJ,CAAC,CAAC,CACtC;AAEH,QAAA,MAAMoZ,YAAY,GAChB,CAAA7S,EAAA,GAAA,CAAApC,EAAA,GAAA,IAAI,CAAChC,IAAI,CAACiI,MAAM,CAAC6E,QAAQ,CAAC,MAAA,IAAA,IAAA9K,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEmG,UAAU,MAAA,IAAA,IAAA/D,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAE+I,aAAa;QACvD1G,UAAU,CAACJ,IAAI,CAAC;UACdc,IAAI,EAAE8P,YAAY,IAAInK,QAAQ;AAC9BnG,UAAAA,IAAI,EAAEiQ;AACP,SAAA,CAAC;AACJ;MAEA,IAAI,CAACnQ,UAAU,GAAGA,UAAU;MAC5B,IAAI,CAACiH,gBAAgB,CAAC,IAAI,CAACjH,UAAU,CAAC,CAAC;KACxC,CAAC,OAAOkD,KAAK,EAAE;AACdX,MAAAA,OAAO,CAACW,KAAK,CAAC,8CAA8C,EAAEA,KAAK,CAAC;AACtE;AACF;AAEQuN,EAAAA,kBAAkBA,GAAA;AACxB;IACA,MAAM9I,GAAG,GAAG,IAAI5K,IAAI,CAAC,IAAI,CAACiL,QAAQ,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC0I,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACzE,MAAM9I,GAAG,GAAG,IAAI7K,IAAI,CAAC,IAAI,CAACmL,QAAQ,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAACwI,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAEzE,OAAO;MAAE/I,GAAG;AAAEC,MAAAA;KAAK;AACrB;EAEQ,MAAMX,gBAAgBA,CAC5BhH,MAA4D,EAAA;;AAE5D,IAAA,MAAM0Q,UAAU,GAAG,MAAM,IAAI,CAACC,cAAc,EAAE;AAC9C,IAAA,MAAMC,SAAS,GAAG,IAAI,CAACJ,kBAAkB,EAAE;IAC3C,MAAMK,UAAU,GAAG,IAAI,CAAC5W,SAAS,GAAG,EAAE,GAAG,IAAI;IAC7C,MAAM6W,aAAa,GAAG9Q,MAAM,CAAC+Q,OAAO,CAAEC,KAAK,IACzCA,KAAK,CAAC/Q,IAAI,CAACnB,GAAG,CAAEwB,KAAK,IAAKA,KAAK,CAAC0J,CAAC,CAAC,CACnC;IACD,MAAMiH,YAAY,GAAGjU,IAAI,CAAC0K,GAAG,CAAC,GAAGoJ,aAAa,CAAC;IAC/C,MAAMI,YAAY,GAAGlU,IAAI,CAAC2K,GAAG,CAAC,GAAGmJ,aAAa,CAAC;AAE/C,IAAA,MAAMK,aAAa,GAAGnR,MAAM,CAAClB,GAAG,CAAEkS,KAAK,KAAM;MAC3CvQ,IAAI,EAAEuQ,KAAK,CAACvQ,IAAI;AAChBR,MAAAA,IAAI,EAAE,IAAI,CAACmR,eAAe,CACxBJ,KAAK,CAAC/Q,IAAI,EACV4Q,UAAU,EACVI,YAAY,EACZC,YAAY,CACb,CAAC1R,MAAM,CACLc,KAAK,IAAKA,KAAK,CAACnJ,CAAC,KAAK,IAAI,IAAImJ,KAAK,CAACnJ,CAAC,KAAKqQ,SAAS,IAAI,CAAC8I,KAAK,CAAChQ,KAAK,CAACnJ,CAAC,CAAC;AAE1E,KAAA,CAAC,CAAC;IAEH,MAAMmR,MAAM,GAAG,CAAAhN,EAAA,GAAA,IAAI,CAACC,UAAU,MAAA,IAAA,IAAAD,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEE,aAAa,CAC3C,qBAAqB,CACF;AACrB,IAAA,IAAI8M,MAAM,EAAE;AACV,MAAA,IAAI,CAACE,oBAAoB,CAACF,MAAM,CAAC,CAAC;AACpC;IAEA,IAAI,CAAA5K,EAAA,GAAA,IAAI,CAACnE,MAAM,CAAC8X,cAAc,MAAA,IAAA,IAAA3T,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAE4T,OAAO,EAAE;AACvC,MAAA,MAAMC,cAAc,GAClB,IAAI,CAACjY,IAAI,CAACiI,MAAM,CAAC,IAAI,CAAChI,MAAM,CAAC8X,cAAc,CAACC,OAAO,CAAC;AAEtD,MAAA,IAAIC,cAAc,IAAIA,cAAc,CAAC9P,UAAU,CAAC+P,gBAAgB,EAAE;AAChE,QAAA,MAAMA,gBAAgB,GAAGD,cAAc,CAAC9P,UAAU,CAAC+P,gBAAgB;QAEnEL,aAAa,CAACxR,IAAI,CAChB;AACEc,UAAAA,IAAI,EAAE,aAAa;AACnBR,UAAAA,IAAI,EAAEuR,gBAAgB,CACnBhS,MAAM,CAAEwL,IAAS,IAAI;AACpB,YAAA,MAAMyG,QAAQ,GAAGzG,IAAI,CAAC0G,WAAW;AACjC,YAAA,OACE,OAAOD,QAAQ,KAAK,QAAQ,IAC5B,CAACnB,KAAK,CAACmB,QAAQ,CAAC,IAChBA,QAAQ,KAAK,CAAC;AAElB,WAAC,CAAC,CACD3S,GAAG,CAAEkM,IAAS,KAAM;YACnBhB,CAAC,EAAE,IAAIlN,IAAI,CAACkO,IAAI,CAAC2G,YAAY,CAAC,CAAClK,OAAO,EAAE;YACxCtQ,CAAC,EAAE6T,IAAI,CAAC0G;AACT,WAAA,CAAC,CAAC;AACLnV,UAAAA,IAAI,EAAE,MAAM;AACZqV,UAAAA,KAAK,EAAE;SACD,EACR;AACEnR,UAAAA,IAAI,EAAE,wBAAwB;AAC9BR,UAAAA,IAAI,EAAEuR,gBAAgB,CACnBhS,MAAM,CAAEwL,IAAS,IAAI;AACpB,YAAA,MAAMtD,GAAG,GAAGsD,IAAI,CAAC6G,aAAa;AAC9B,YAAA,MAAMlK,GAAG,GAAGqD,IAAI,CAAC8G,aAAa;AAC9B,YAAA,OACE,OAAOpK,GAAG,KAAK,QAAQ,IACvB,OAAOC,GAAG,KAAK,QAAQ,IACvB,CAAC2I,KAAK,CAAC5I,GAAG,CAAC,IACX,CAAC4I,KAAK,CAAC3I,GAAG,CAAC,KACVD,GAAG,KAAK,CAAC,IAAIC,GAAG,KAAK,CAAC,CAAC;AAE5B,WAAC,CAAC,CACD7I,GAAG,CAAEkM,IAAS,KAAM;YACnBhB,CAAC,EAAE,IAAIlN,IAAI,CAACkO,IAAI,CAAC2G,YAAY,CAAC,CAAClK,OAAO,EAAE;YACxCtQ,CAAC,EAAE,CAAC6T,IAAI,CAAC6G,aAAa,EAAE7G,IAAI,CAAC8G,aAAa;AAC3C,WAAA,CAAC,CAAC;AACLvV,UAAAA,IAAI,EAAE,WAAW;AACjBqV,UAAAA,KAAK,EAAE;AACD,SAAA,CACT;AACH;AACF;IAEA,MAAMG,UAAU,GAAGZ,aAAa,CAC7B3R,MAAM,CACJwR,KAAK,IACJ,CAAC,CAAC,aAAa,EAAE,wBAAwB,CAAC,CAACgB,QAAQ,CAAChB,KAAK,CAACvQ,IAAI,CAAC,CAClE;AAAC,KACDL,MAAM,CACL,CAAC6R,GAAG,EAAEjB,KAAK,KAAI;MACbA,KAAK,CAAC/Q,IAAI,CAACb,OAAO,CAAC,CAACkB,KAAK,EAAEmL,KAAK,KAAI;;AAClC,QAAA,IAAI,CAACwG,GAAG,CAACxG,KAAK,CAAC,EAAE;UACfwG,GAAG,CAACxG,KAAK,CAAC,GAAG;YAAEzB,CAAC,EAAE1J,KAAK,CAAC0J,CAAC;AAAE7S,YAAAA,CAAC,EAAE;WAAG;AACnC;QACA8a,GAAG,CAACxG,KAAK,CAAC,CAACtU,CAAC,IAAI,CAAAmE,EAAA,GAAAgF,KAAK,CAACnJ,CAAC,MAAI,IAAA,IAAAmE,EAAA,KAAA,KAAA,CAAA,GAAAA,EAAA,GAAA,CAAC;AAC9B,OAAC,CAAC;AACF,MAAA,OAAO2W,GAAG;KACX,EACD,EAAgC,CACjC;IAEHd,aAAa,CAACxR,IAAI,CAAC;AACjBc,MAAAA,IAAI,EAAE,cAAc;AACpBR,MAAAA,IAAI,EAAE8R,UAAU;AAChBxV,MAAAA,IAAI,EAAE,MAAM;AACZqV,MAAAA,KAAK,EAAE;AACD,KAAA,CAAC;IAET,MAAMM,cAAc,GAAG,CAAAzU,EAAA,GAAA,IAAI,CAAClC,UAAU,MAAA,IAAA,IAAAkC,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAE0U,cAAc,CAAC,OAAO,CAAC;AAC/D,IAAA,IAAID,cAAc,EAAE;MAClB,IAAI,IAAI,CAACE,KAAK,EAAE;AACd,QAAA,IAAI,CAACA,KAAK,CAACC,OAAO,EAAE;AACtB;AAEA,MAAA,MAAM1U,OAAO,GAAG;AACd2U,QAAAA,IAAI,EAAE;AACJ/V,UAAAA,IAAI,EAAE,UAAU;AAChBgW,UAAAA,QAAQ,EAAE;AACR;AACAhW,YAAAA,IAAI,EAAE,UAAU;AAChB;AACA;AACAiW,YAAAA,aAAa,EAAE,KAAK;AACpBC,YAAAA,WAAW,EAAE,GAAG;AAChBC,YAAAA,SAAS,EAAE,GAAG;AACdC,YAAAA,KAAK,EAAE,CAAC,CAAC,EAAE,GAAG;AACd;AACD;SACF;AACDP,QAAAA,KAAK,EAAE;AACL7V,UAAAA,IAAI,EAAE,WAAW;UACjB6N,MAAM,EAAE,IAAI,CAACjQ,WAAW;AACxByY,UAAAA,IAAI,EAAE;AAAEC,YAAAA,OAAO,EAAE,IAAI;AAAEtW,YAAAA,IAAI,EAAE;WAAK;AAClCuW,UAAAA,OAAO,EAAE;AAAEC,YAAAA,IAAI,EAAE;AAAM;SACxB;AACD/S,QAAAA,MAAM,EAAEmR,aAAa;AACrB6B,QAAAA,UAAU,EAAE;AACVH,UAAAA,OAAO,EAAE;SACV;AACDI,QAAAA,KAAK,EAAE;AACL1W,UAAAA,IAAI,EAAE,UAAU;UAChBmL,GAAG,EAAEkJ,SAAS,CAAClJ,GAAG;UAClBC,GAAG,EAAEiJ,SAAS,CAACjJ,GAAG;AAClBuL,UAAAA,OAAO,EAAE;YACPL,OAAO,EAAE,KAAK;WACf;AACDM,UAAAA,MAAM,EAAE;YACNC,SAAS,EAAGtE,KAAa,IAAI;AAC3B,cAAA,MAAMuE,IAAI,GAAG,IAAIvW,IAAI,CAACgS,KAAK,CAAC;AAC5B,cAAA,OAAO,GAAGuE,IAAI,CAACC,QAAQ,EAAE,CAACpW,QAAQ,EAAE,CAACqW,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAK,GAAA,CAAA;AAC5D;AACD;SACF;AACDC,QAAAA,KAAK,EAAE;AACLL,UAAAA,MAAM,EAAE;YACNC,SAAS,EAAGtE,KAAgC,IAAI;cAC9C,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAAIwB,KAAK,CAACxB,KAAK,CAAC,EAAE;AAC7C,gBAAA,OAAO,EAAE;AACX;AACA,cAAA,OAAOA,KAAK,CAACnO,OAAO,CAAC,CAAC,CAAC;AACzB;AACD;SACF;AACDuS,QAAAA,OAAO,EAAE;AACPO,UAAAA,MAAM,EAAE,IAAI;AACZC,UAAAA,SAAS,EAAE,KAAK;AAChBC,UAAAA,KAAK,EAAE,MAAM;UACbC,MAAM,EAAE,UAAU;YAAE5T,MAAM;YAAE6T,WAAW;YAAEC,cAAc;AAAEC,YAAAA;AAAG,WAAA,EAAA;AAC1D,YAAA,MAAMC,SAAS,GAAGD,CAAC,CAACE,OAAO,CAACC,OAAO,CAACL,WAAW,CAAC,CAACC,cAAc,CAAC;AAChE,YAAA,MAAMT,IAAI,GAAG,IAAIvW,IAAI,CAACkX,SAAS,CAAC;AAChC,YAAA,MAAMG,aAAa,GAAGd,IAAI,CAACe,cAAc,CAAC,OAAO,EAAE;AACjDxc,cAAAA,GAAG,EAAE,SAAS;AACdyc,cAAAA,KAAK,EAAE,OAAO;AACdC,cAAAA,IAAI,EAAE,SAAS;AACfC,cAAAA,IAAI,EAAE,SAAS;AACfC,cAAAA,MAAM,EAAE;AACT,aAAA,CAAC;AAEF,YAAA,IAAIC,WAAW,GAAG,CAAgBN,aAAAA,EAAAA,aAAa,CAAiB,eAAA,CAAA;AAChEnU,YAAAA,MAAM,CAACZ,OAAO,CAAC,CAAC0P,KAAK,EAAE4F,GAAG,KAAI;AAC5B,cAAA,MAAMC,SAAS,GAAG7F,KAAK,CAACgF,cAAc,CAAC;cACvC,IAAIa,SAAS,KAAKnN,SAAS,IAAI,CAAC8I,KAAK,CAACqE,SAAS,CAAC,EAAE;gBAChD,MAAMC,UAAU,GAAGb,CAAC,CAACE,OAAO,CAACY,WAAW,CAACH,GAAG,CAAC;gBAC7CD,WAAW,IAAI,CAAQG,KAAAA,EAAAA,UAAU,CAAKD,EAAAA,EAAAA,SAAS,CAAChU,OAAO,CAAC,CAAC,CAAC,CAAW,SAAA,CAAA;AACvE;AACF,aAAC,CAAC;AAEF,YAAA,OAAO8T,WAAW;AACpB;SACD;AACD7P,QAAAA,IAAI,EAAE;AACJmO,UAAAA,IAAI,EAAE,IAAI;AACV+B,UAAAA,WAAW,EAAE,sBAAsB;AAAE;UACrCC,eAAe,EAAE,CAAC;SACnB;AACDC,QAAAA,MAAM,EAAE;AACNtW,UAAAA,KAAK,EAAE,CAAC;AACR;AACAuW,UAAAA,KAAK,EAAE;SACR;AACDC,QAAAA,MAAM,EAAE;AACNnC,UAAAA,IAAI,EAAE,IAAI;AACVa,UAAAA,MAAM,EAAE,IAAI;AACZR,UAAAA,SAAS,EAAE,UAAUwB,UAAU,EAAEO,IAAI,EAAA;AACnC;AACA,YAAA,MAAMC,WAAW,GAAGD,IAAI,CAACpB,CAAC,CAACE,OAAO,CAACoB,MAAM,CAACF,IAAI,CAACtB,WAAW,CAAC;YAE3D,OAAO;2EACwDuB,WAAW,CAAA;kBACpER,UAAU;;YAEf,CAAA;AACH;AACD;OACF;MAED,IAAI,CAACxC,KAAK,GAAG,IAAI1B,UAAU,CAACwB,cAAc,EAAEvU,OAAO,CAAC;MACpD,IAAI,CAACyU,KAAK,CAACzO,MAAM,EAAE,CAACxB,IAAI,CAAC,MAAK;QAC5B,IAAI,CAAC5I,MAAM,CAACqC,QAAQ,CAACwD,OAAO,CAAEL,MAAsB,IAAI;;UACtD,MAAMwR,YAAY,GAChB,CAAA,CAAA7S,EAAA,GAAA,MAAA,IAAI,CAACpE,IAAI,CAACiI,MAAM,CAACxC,MAAM,CAAC0F,EAAE,CAAC,MAAA,IAAA,IAAAnJ,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEmG,UAAU,MAAA,IAAA,IAAA/D,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAE+I,aAAa,KAAI1H,MAAM,CAAC0F,EAAE;UACrE,IAAI,CAAC2N,KAAK,CAACkD,UAAU,CAAC/E,YAAY,CAAC,CAAC;AACtC,SAAC,CAAC;AACJ,OAAC,CAAC;AACJ;IACA,IAAI,CAACtB,SAAS,EAAE;AAClB;EAEQmC,eAAeA,CACrBnR,IAAgC,EAChC4Q,UAAkB,EAClB1P,SAAiB,EACjBiG,OAAe,EAAA;IAEf,MAAMmO,WAAW,GAA+B,EAAE;IAClD,IAAIC,eAAe,GAAGrU,SAAS;IAE/B,OAAOqU,eAAe,IAAIpO,OAAO,EAAE;MACjC,IAAIqO,YAAY,GAAoC,IAAI;MACxD,IAAIC,WAAW,GAAGC,QAAQ;AAE1B1V,MAAAA,IAAI,CAACb,OAAO,CAAEkB,KAAK,IAAI;QACrB,MAAMsV,QAAQ,GAAG5Y,IAAI,CAACiO,GAAG,CAAC3K,KAAK,CAAC0J,CAAC,GAAGwL,eAAe,CAAC;QACpD,IAAII,QAAQ,GAAGF,WAAW,EAAE;AAC1BA,UAAAA,WAAW,GAAGE,QAAQ;AACtBH,UAAAA,YAAY,GAAGnV,KAAK;AACtB;AACF,OAAC,CAAC;AAEF,MAAA,IAAImV,YAAY,EAAE;QAChBF,WAAW,CAAC5V,IAAI,CAAC;AAAEqK,UAAAA,CAAC,EAAEwL,eAAe;UAAEre,CAAC,EAAEse,YAAY,CAACte;AAAC,SAAE,CAAC;AAC7D,OAAC,MAAM;QACLoe,WAAW,CAAC5V,IAAI,CAAC;AAAEqK,UAAAA,CAAC,EAAEwL,eAAe;AAAEre,UAAAA,CAAC,EAAE;AAAI,SAAE,CAAC;AACnD;AAEAqe,MAAAA,eAAe,IAAI3E,UAAU;AAC/B;AAEA,IAAA,OAAO0E,WAAW;AACpB;AAEA;AACApN,EAAAA,0BAA0BA,GAAA;AACxB,IAAA,MAAM0N,YAAY,GAAG,IAAI,CAACtc,MAAM,CAACqC,QAAQ,CAACkD,GAAG,CAC1CqR,KAAK,IAAKA,KAAK,CAAChH,YAAY,CAC9B;AACD,IAAA,MAAMpM,GAAG,GAAG,IAAID,IAAI,EAAE;AACtB,IAAA,MAAMqE,SAAS,GAAG,IAAIrE,IAAI,EAAE;AAC5BqE,IAAAA,SAAS,CAACC,OAAO,CAACrE,GAAG,CAACsE,OAAO,EAAE,GAAG,IAAI,CAACzG,cAAc,CAAC;IACtDuG,SAAS,CAACG,QAAQ,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;IAE5B,MAAMwU,YAAY,GAAGA,MAAK;AACxB,MAAA,IAAID,YAAY,CAAC/X,MAAM,KAAK,CAAC,EAAE;AAC7BwE,QAAAA,OAAO,CAACuE,GAAG,CAAC,+BAA+B,CAAC;AAC5C,QAAA,OAAO7F,OAAO,CAACC,OAAO,CAAC,EAAE,CAAC;AAC5B;AACA,MAAA,OAAO,IAAI,CAAC3H,IAAI,CAACuI,MAAM,CAAC;AACtBtF,QAAAA,IAAI,EAAE,mCAAmC;AACzCuF,QAAAA,aAAa,EAAE+T,YAAY;AAC3B9T,QAAAA,MAAM,EAAE,KAAK;AACbC,QAAAA,UAAU,EAAEb,SAAS,CAACc,WAAW,EAAE;QACnCC,KAAK,EAAE,CAAC,KAAK;AACd,OAAA,CAAC;KACH;IAED,MAAM6T,iBAAiB,GAAGA,MAAK;AAC7B,MAAA,IAAI,CAAC,IAAI,CAACxc,MAAM,CAACyc,cAAc,EAAE;AAC/B,QAAA,OAAOhV,OAAO,CAACC,OAAO,CAAC,IAAI,CAAC;AAC9B;AACA,MAAA,OAAO,IAAI,CAAC3H,IAAI,CAACuI,MAAM,CAAC;AACtBtF,QAAAA,IAAI,EAAE,mCAAmC;AACzCuF,QAAAA,aAAa,EAAE,CAAC,IAAI,CAACvI,MAAM,CAACyc,cAAc,CAAC;AAC3CjU,QAAAA,MAAM,EAAE,KAAK;AACbC,QAAAA,UAAU,EAAEb,SAAS,CAACc,WAAW,EAAE;QACnCC,KAAK,EAAE,CAAC,KAAK;AACd,OAAA,CAAC;KACH;IAED,OAAOlB,OAAO,CAACiV,GAAG,CAAC,CAACH,YAAY,EAAE,EAAEC,iBAAiB,EAAE,CAAC,CAAC,CACtD5T,IAAI,CAAC,CAAC,CAACC,gBAAgB,EAAE8T,oBAAoB,CAAC,KAAI;;AACjD,MAAA,MAAMC,aAAa,GAAGN,YAAY,CAAC/W,GAAG,CAAEsX,QAAQ,IAAI;;AAClD,QAAA,MAAMC,YAAY,GAAGjU,gBAAgB,CAACgU,QAAQ,CAAC,IAAI,EAAE;AAErD,QAAA,IAAIC,YAAY,CAACvY,MAAM,GAAG,CAAC,EAAE;AAC3BwE,UAAAA,OAAO,CAACC,IAAI,CACV,CAA0B6T,uBAAAA,EAAAA,QAAQ,6CAA6C,CAChF;UACD,OAAO;AACL3V,YAAAA,IAAI,EAAE2V,QAAQ;AACdnW,YAAAA,IAAI,EAAE;WACP;AACH;AAEA,QAAA,IAAIqW,WAAW,GAAGD,YAAY,CAAC,CAAC,CAAC,CAACvW,GAAG;QACrC,OAAO;UACLW,IAAI,EACF,CAAA,CAAA/C,EAAA,GAAA,CAAApC,EAAA,GAAA,IAAI,CAAChC,IAAI,CAACiI,MAAM,CAAC6U,QAAQ,CAAC,MAAA,IAAA,IAAA9a,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEmG,UAAU,MAAE,IAAA,IAAA/D,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAA+I,aAAa,KAAI2P,QAAQ;UACnEnW,IAAI,EAAEoW,YAAY,CAAClW,KAAK,CAAC,CAAC,CAAC,CAACrB,GAAG,CAAEqR,KAAK,IAAI;AACxC,YAAA,MAAMoG,UAAU,GAAGpG,KAAK,CAACrQ,GAAG,GAAGwW,WAAW;YAC1CA,WAAW,GAAGnG,KAAK,CAACrQ,GAAG;YACvB,OAAO;cACLkK,CAAC,EAAE,IAAIlN,IAAI,CAACqT,KAAK,CAACtN,KAAK,CAAC,CAAC4E,OAAO,EAAE;AAClCtQ,cAAAA,CAAC,EAAEof;aACJ;WACF;SACF;AACH,OAAC,CAAC;MAEF,IAAIvW,MAAM,GAAGmW,aAAa;AAC1B,MAAA,IAAIN,YAAY,CAAC/X,MAAM,GAAG,CAAC,EAAE;AAC3B,QAAA,IAAI0Y,WAAW,GAAG;AAChB/V,UAAAA,IAAI,EAAE,QAAQ;AACdR,UAAAA,IAAI,EAAE;SACP;AAED,QAAA,IAAI,IAAI,CAAC1G,MAAM,CAACyc,cAAc,IAAIE,oBAAoB,EAAE;UACtD,MAAMO,SAAS,GACbP,oBAAoB,CAAC,IAAI,CAAC3c,MAAM,CAACyc,cAAc,CAAC,IAAI,EAAE;AAExD,UAAA,IAAIS,SAAS,CAAC3Y,MAAM,GAAG,CAAC,EAAE;YACxBwE,OAAO,CAACC,IAAI,CACV,CAA0B,uBAAA,EAAA,IAAI,CAAChJ,MAAM,CAACyc,cAAc,CAAA,2CAAA,CAA6C,CAClG;AACH,WAAC,MAAM;AACL,YAAA,IAAIM,WAAW,GAAGG,SAAS,CAAC,CAAC,CAAC,CAAC3W,GAAG;AAClC0W,YAAAA,WAAW,GAAG;cACZ/V,IAAI,EACF,CAAA,CAAA/C,EAAA,GAAA,CAAApC,EAAA,GAAA,IAAI,CAAChC,IAAI,CAACiI,MAAM,CAAC,IAAI,CAAChI,MAAM,CAACyc,cAAc,CAAC,MAAA,IAAA,IAAA1a,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEmG,UAAU,MAAA,IAAA,IAAA/D,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CACpD+I,aAAa,KAAI,IAAI,CAAClN,MAAM,CAACyc,cAAc;cACjD/V,IAAI,EAAEwW,SAAS,CAACtW,KAAK,CAAC,CAAC,CAAC,CAACrB,GAAG,CAAEqR,KAAK,IAAI;AACrC,gBAAA,MAAMoG,UAAU,GAAGpG,KAAK,CAACrQ,GAAG,GAAGwW,WAAW;gBAC1CA,WAAW,GAAGnG,KAAK,CAACrQ,GAAG;gBACvB,OAAO;kBACLkK,CAAC,EAAE,IAAIlN,IAAI,CAACqT,KAAK,CAACtN,KAAK,CAAC,CAAC4E,OAAO,EAAE;AAClCtQ,kBAAAA,CAAC,EAAEof;iBACJ;eACF;aACF;AACH;AACF,SAAC,MAAM;AACL,UAAA,MAAMG,SAAS,GACbP,aAAa,CAACrY,MAAM,GAAG,CAAC,GAAGqY,aAAa,CAAC,CAAC,CAAC,CAAClW,IAAI,CAACnC,MAAM,GAAG,CAAC;UAC7D,KAAK,IAAIrH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGigB,SAAS,EAAEjgB,CAAC,EAAE,EAAE;YAClC,IAAIqJ,GAAG,GAAG,CAAC;AACXqW,YAAAA,aAAa,CAAC/W,OAAO,CAAEY,MAAM,IAAI;;cAC/BF,GAAG,IAAI,CAAA,CAAAxE,EAAA,GAAA0E,MAAM,CAACC,IAAI,CAACxJ,CAAC,CAAC,MAAA,IAAA,IAAA6E,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEnE,CAAC,KAAI,CAAC;AAC/B,aAAC,CAAC;AACFqf,YAAAA,WAAW,CAACvW,IAAI,CAACN,IAAI,CAAC;AACpBqK,cAAAA,CAAC,EAAE,CAAA,CAAAvM,EAAA,GAAA0Y,aAAa,CAAC,CAAC,CAAC,CAAClW,IAAI,CAACxJ,CAAC,CAAC,MAAE,IAAA,IAAAgH,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAAuM,CAAC,KAAI,CAAC;AACnC7S,cAAAA,CAAC,EAAE2I;AACJ,aAAA,CAAC;AACJ;AACF;AACAE,QAAAA,MAAM,CAACL,IAAI,CAAC6W,WAAW,CAAC;AAC1B;MAEA,IAAI,CAAC3W,SAAS,GAAG;AACfuS,QAAAA,KAAK,EAAE;AAAE7V,UAAAA,IAAI,EAAE;SAAO;AACtByD,QAAAA,MAAM,EAAEA;OACT;AACD,MAAA,IAAI,CAAC2W,aAAa,CAAC,IAAI,CAAC9W,SAAS,CAAC;MAClC,IAAI,CAAC8I,aAAa,EAAE;AACtB,KAAC,CAAC,CACD3F,KAAK,CAAEC,KAAK,IAAI;AACfX,MAAAA,OAAO,CAACW,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;AACvD,KAAC,CAAC;AACN;EAEA0T,aAAaA,CAACC,QAAa,EAAA;AACzB;AACA,IAAA,MAAMC,WAAW,GAAGD,QAAQ,CAAC5W,MAAM,CAACQ,IAAI,CACrCwQ,KAAK,IAAKA,KAAK,CAACvQ,IAAI,KAAK,QAAQ,CACnC;IAED,IAAI,CAACoW,WAAW,EAAE;AAChB,MAAA,MAAM,IAAI9a,KAAK,CAAC,6BAA6B,CAAC;AAChD;AAEA;IACA,MAAM+a,WAAW,GAAGD,WAAW,CAAC5W,IAAI,CAACE,KAAK,CAAC,CAAC,CAAC,CAAC;AAE9C;AACA,IAAA,MAAM4W,KAAK,GAAGD,WAAW,CAAC1W,MAAM,CAAC,CAAC6R,GAAG,EAAE+E,KAAK,KAAK/E,GAAG,GAAG+E,KAAK,CAAC7f,CAAC,EAAE,CAAC,CAAC;IAClE,IAAI,CAACwD,qBAAqB,GAAGoc,KAAK,CAACpW,OAAO,CAAC,CAAC,CAAC;AAC7C,IAAA,OAAOoW,KAAK;AACd;AAEQ,EAAA,MAAM9P,mBAAmBA,CAACgQ,YAAY,EAAEC,WAAW,EAAA;;IACzD,MAAMhF,cAAc,GAAG,OAAM,MAAA,IAAI,CAAC3W,UAAU,MAAA,IAAA,IAAAD,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAE6W,cAAc,CAAC+E,WAAW,CAAC,CAAA;AACzE,IAAA,IAAIhF,cAAc,EAAE;MAClB,IAAI,IAAI,CAACiF,SAAS,EAAE;AAClB,QAAA,IAAI,CAACA,SAAS,CAAC9E,OAAO,EAAE;AAC1B;AACF;AAEA,IAAA,MAAM1U,OAAO,GAAG;AACdyU,MAAAA,KAAK,EAAE;AACL7V,QAAAA,IAAI,EAAE,KAAK;QACX6N,MAAM,EAAE,IAAI,CAACjQ,WAAW;AACxBid,QAAAA,MAAM,EAAE;UACNC,OAAO,EAAEA,MAAK;YACZ,IAAI,CAACC,cAAc,EAAE;AACrB,YAAA,IAAI,CAACC,mBAAmB,CAACN,YAAY,CAACjX,MAAM,CAAC;WAC9C;UACDwX,SAAS,EAAEA,MAAK;AACd3H,YAAAA,UAAU,CAAC,MAAK;cACd,IAAI,CAACyH,cAAc,EAAE;aACtB,EAAE,GAAG,CAAC;AACT;AACD;OACF;AACDrE,MAAAA,KAAK,EAAE;AACL1W,QAAAA,IAAI,EAAE,UAAU;AAChB4W,QAAAA,MAAM,EAAE;AACNsE,UAAAA,MAAM,EAAE;AACT;OACF;AACDjE,MAAAA,KAAK,EAAE;AACLL,QAAAA,MAAM,EAAE;AACNC,UAAAA,SAAS,EAAE,UAAUsE,GAAG,EAAA;AACtB,YAAA,OAAO1a,IAAI,CAAC+G,KAAK,CAAC2T,GAAG,CAAC;AACxB;AACD;OACF;AACD1E,MAAAA,UAAU,EAAE;AACVH,QAAAA,OAAO,EAAE;OACV;AACDqC,MAAAA,MAAM,EAAE;AACNnC,QAAAA,IAAI,EAAE,IAAI;AACVa,QAAAA,MAAM,EAAE,IAAI;AACZR,QAAAA,SAAS,EAAE,UAAUwB,UAAU,EAAEO,IAAI,EAAA;AACnC,UAAA,MAAMC,WAAW,GAAGD,IAAI,CAACpB,CAAC,CAACE,OAAO,CAACoB,MAAM,CAACF,IAAI,CAACtB,WAAW,CAAC;UAC3D,OAAO;AACgE,+EAAAuB,EAAAA,WAAW,8BAA8BA,WAAW,CAAA;0BAC3GR,UAAU;;gBAEnB,CAAA;AACT;OACD;AACD1B,MAAAA,OAAO,EAAE;AACPL,QAAAA,OAAO,EAAE,IAAI;AACbc,QAAAA,KAAK,EAAE;OACR;MACD3T,MAAM,EAAEiX,YAAY,CAACjX,MAAM,CAAClB,GAAG,CAAEkB,MAAM,IAClC/D,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,CAAA,EAAA,EAAA8D,MAAM,CACT,EAAA;AAAA2X,QAAAA,OAAO,EAAE3X,MAAM,CAACS,IAAI,KAAK;AAAQ,OAAA,CACjC;KACH;AAED,IAAA,IAAI,CAAC0W,SAAS,GAAG,IAAIzG,UAAU,CAC7B,CAAAhT,EAAA,GAAA,IAAI,CAACnC,UAAU,0CAAEC,aAAa,CAAC,IAAI0b,WAAW,CAAA,CAAE,CAAC,EACjDvZ,OAAO,CACR;AACD,IAAA,IAAI,CAACwZ,SAAS,CAACxT,MAAM,EAAE;AACzB;AAEQ2T,EAAAA,cAAcA,GAAA;AACpB,IAAA,IAAI,CAAC,IAAI,CAACH,SAAS,EAAE;AAErB,IAAA,MAAMS,aAAa,GAAG,IAAI,CAACT,SAAS,CAACpD,CAAC,CAACxa,MAAM,CAACyG,MAAM,CAAC,CAAC,CAAC,CAACC,IAAI;AAC5D,IAAA,IAAI2X,aAAa,CAAC9Z,MAAM,GAAG,CAAC,EAAE;AAC5B,MAAA,MAAM+Z,SAAS,GAAGD,aAAa,CAAC9Z,MAAM,GAAG,CAAC;MAC1C,MAAMga,UAAU,GAAG9a,IAAI,CAAC2K,GAAG,CAAC,CAAC,EAAEkQ,SAAS,GAAG,CAAC,CAAC;AAC7C,MAAA,MAAME,SAAS,GAAGH,aAAa,CAACE,UAAU,CAAC,CAAC9N,CAAC;AAC7C,MAAA,MAAMgO,OAAO,GAAGJ,aAAa,CAACC,SAAS,CAAC,CAAC7N,CAAC;AAE1C,MAAA,IAAI,CAACmN,SAAS,CAACc,aAAa,CAC1B;AACEhF,QAAAA,KAAK,EAAE;AACLvL,UAAAA,GAAG,EAAEqQ,SAAS;AACdpQ,UAAAA,GAAG,EAAEqQ;AACN;AACF,OAAA,EACD,KAAK,EACL,KAAK,CACN;AACH;AACF;EAEQT,mBAAmBA,CAACvX,MAAM,EAAA;AAChC,IAAA,IAAI,CAAC,IAAI,CAACmX,SAAS,EAAE;AAErBnX,IAAAA,MAAM,CAACZ,OAAO,CAAE8Y,UAAU,IAAI;AAC5B,MAAA,IAAIA,UAAU,CAACzX,IAAI,KAAK,QAAQ,EAAE;QAChC,IAAI,CAAC0W,SAAS,CAAC7B,UAAU,CAAC4C,UAAU,CAACzX,IAAI,CAAC;AAC5C;AACF,KAAC,CAAC;AACJ;AAEA;EAEQ,MAAMkQ,cAAcA,GAAA;IAC1B,IAAIzS,MAAM,CAACwS,UAAU,EAAE;MACrB,OAAOxS,MAAM,CAACwS,UAAU;AAC1B,KAAC,MAAM;MACL,MAAM;AAAEyH,QAAAA,OAAO,EAAEzH;AAAU,OAAE,GAAG,MAAM,OAAO,8BAAY,CAAC;MAC1DxS,MAAM,CAACwS,UAAU,GAAGA,UAAU;AAC9B,MAAA,OAAOA,UAAU;AACnB;AACF;AAEA;AAEQ0H,EAAAA,iBAAiBA,GAAA;AACvB,IAAA,OAAO,IAAIpX,OAAO,CAAQC,OAAO,IAAI;AACnC,MAAA,MAAMoX,QAAQ,GAAGC,WAAW,CAAC,MAAK;AAChC,QAAA,IAAI,OAAO5H,UAAU,KAAK,WAAW,EAAE;UACrC6H,aAAa,CAACF,QAAQ,CAAC;UACvBpX,OAAO,EAAE,CAAC;AACZ;AACF,OAAC,EAAE,GAAG,CAAC,CAAC;AACV,KAAC,CAAC;AACJ;EAEQuX,eAAeA,CAAC1X,IAAY,EAAA;IAClC,MAAM2X,YAAY,GAAG,IAAI3b,IAAI,CAAC,IAAI,CAACqE,SAAS,CAAC;IAC7C,MAAMuX,UAAU,GAAG,IAAI5b,IAAI,CAAC,IAAI,CAACsK,OAAO,CAAC;IACzCqR,YAAY,CAACrX,OAAO,CAACqX,YAAY,CAACpX,OAAO,EAAE,GAAGP,IAAI,CAAC;IACnD4X,UAAU,CAACtX,OAAO,CAACsX,UAAU,CAACrX,OAAO,EAAE,GAAGP,IAAI,CAAC;AAE/C;AACA,IAAA,MAAM6X,KAAK,GAAG,IAAI7b,IAAI,EAAE;IACxB6b,KAAK,CAACrX,QAAQ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC;IAC/B,IAAIoX,UAAU,GAAGC,KAAK,EAAE;AACtB,MAAA,OAAO;AACT;IAEA,IAAI,CAACxX,SAAS,GAAGsX,YAAY;IAC7B,IAAI,CAACrR,OAAO,GAAGsR,UAAU;AACzB,IAAA,IAAI,CAACxR,wBAAwB,EAAE,CAAC;AAClC;AAEQA,EAAAA,wBAAwBA,GAAA;IAC9B,MAAM0R,cAAc,GAAG,IAAI,CAACrf,MAAM,CAACqC,QAAQ,CACxC4D,MAAM,CAAE2Q,KAAK,IAAKA,KAAK,CAAChH,YAAY,CAAC,CACrCrK,GAAG,CAAEqR,KAAK,IAAKA,KAAK,CAAChH,YAAY,CAAC;IAErC,MAAM2M,YAAY,GAAGA,MAAK;AACxB,MAAA,IAAI8C,cAAc,CAAC9a,MAAM,KAAK,CAAC,EAAE;AAC/B,QAAA,OAAOkD,OAAO,CAACC,OAAO,CAAC,EAAE,CAAC;AAC5B;AACA,MAAA,OAAO,IAAI,CAAC3H,IAAI,CAACuI,MAAM,CAAC;AACtBtF,QAAAA,IAAI,EAAE,mCAAmC;AACzCuF,QAAAA,aAAa,EAAE8W,cAAc;AAC7B7W,QAAAA,MAAM,EAAE,MAAM;AACdC,QAAAA,UAAU,EAAE,IAAI,CAACb,SAAS,CAACc,WAAW,EAAE;AACxC4W,QAAAA,QAAQ,EAAE,IAAI,CAACzR,OAAO,CAACnF,WAAW,EAAE;QACpCC,KAAK,EAAE,CAAC,KAAK;AACd,OAAA,CAAC;KACH;IAED,MAAM6T,iBAAiB,GAAGA,MAAK;AAC7B,MAAA,OAAO,IAAI,CAACzc,IAAI,CAACuI,MAAM,CAAC;AACtBtF,QAAAA,IAAI,EAAE,mCAAmC;AACzCuF,QAAAA,aAAa,EAAE,CAAC,IAAI,CAACvI,MAAM,CAACuf,cAAc,CAAC;AAC3C/W,QAAAA,MAAM,EAAE,MAAM;AACdC,QAAAA,UAAU,EAAE,IAAI,CAACb,SAAS,CAACc,WAAW,EAAE;AACxC4W,QAAAA,QAAQ,EAAE,IAAI,CAACzR,OAAO,CAACnF,WAAW,EAAE;QACpCC,KAAK,EAAE,CAAC,KAAK;AACd,OAAA,CAAC;KACH;IAED,MAAM6W,eAAe,GAAGA,CAAC3W,gBAAgB,EAAE4W,QAAQ,GAAG,KAAK,KAAI;AAC7D;MACA,MAAMjR,QAAQ,GAAG,IAAIjL,IAAI,CAAC,IAAI,CAACiL,QAAQ,CAAC;MACxC,MAAME,QAAQ,GAAG,IAAInL,IAAI,CAAC,IAAI,CAACmL,QAAQ,CAAC;MAExC,MAAMgR,YAAY,GAAG,IAAInc,IAAI,CAC3BiL,QAAQ,CAACN,OAAO,EAAE,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CACxC,CAACyR,kBAAkB,CAAC,OAAO,EAAE;AAC5B3E,QAAAA,IAAI,EAAE,SAAS;AACfC,QAAAA,MAAM,EAAE,SAAS;AACjB2E,QAAAA,MAAM,EAAE;AACT,OAAA,CAAC;MAEF,MAAMC,YAAY,GAAG,IAAItc,IAAI,CAC3BmL,QAAQ,CAACR,OAAO,EAAE,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CACxC,CAACyR,kBAAkB,CAAC,OAAO,EAAE;AAC5B3E,QAAAA,IAAI,EAAE,SAAS;AACfC,QAAAA,MAAM,EAAE,SAAS;AACjB2E,QAAAA,MAAM,EAAE;AACT,OAAA,CAAC;AAEF,MAAA,IAAIE,UAAU,GAAG,EAAE,CAAC;MAEpBpd,MAAM,CAACqd,IAAI,CAAClX,gBAAgB,CAAC,CAAChD,OAAO,CAAEma,MAAM,IAAI;AAC/C,QAAA,IAAItZ,IAAI,GAAGmC,gBAAgB,CAACmX,MAAM,CAAC;AAEnC,QAAA,IAAItZ,IAAI,CAACnC,MAAM,GAAG,CAAC,EAAE;AACnBwE,UAAAA,OAAO,CAACC,IAAI,CAAC,CAA0BgX,uBAAAA,EAAAA,MAAM,EAAE,CAAC;AAChD,UAAA;AACF;AAEAtZ,QAAAA,IAAI,CAACb,OAAO,CAAC,CAAC+Q,KAAK,EAAE1E,KAAK,KAAI;AAC5B,UAAA,IAAIA,KAAK,KAAK,CAAC,EAAE,OAAO;UAExB,IAAI+N,aAAa,GAAGvZ,IAAI,CAACwL,KAAK,GAAG,CAAC,CAAC,CAAC;AACpC,UAAA,IAAI8K,UAAU,GAAG7V,MAAM,CAAC,CAACyP,KAAK,CAACrQ,GAAG,GAAG0Z,aAAa,CAAC1Z,GAAG,EAAEa,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;UAEpE,IAAI8Y,SAAS,GAAG,IAAI3c,IAAI,CAACqT,KAAK,CAACtN,KAAK,CAAC;UACrC,IAAI6W,OAAO,GACTD,SAAS,CAACnG,QAAQ,EAAE,CAACpW,QAAQ,EAAE,CAACqW,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,KAAK,CAAC;AAC3D,UAAA,IAAIoG,UAAU,GAAGF,SAAS,CAACxX,WAAW,EAAE,CAAC2X,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAEvD;AACA,UAAA,IAAIF,OAAO,GAAGT,YAAY,IAAIS,OAAO,GAAGN,YAAY,EAAE;AACpD,YAAA;AACF;AAEA,UAAA,IAAI,CAACC,UAAU,CAACK,OAAO,CAAC,EAAE;AACxBL,YAAAA,UAAU,CAACK,OAAO,CAAC,GAAG,EAAE;AAC1B;UAEA,IAAI,CAACL,UAAU,CAACK,OAAO,CAAC,CAACC,UAAU,CAAC,EAAE;AACpCN,YAAAA,UAAU,CAACK,OAAO,CAAC,CAACC,UAAU,CAAC,GAAG,CAAC;AACrC;AAEA;AACA,UAAA,IAAIX,QAAQ,EAAE;AACZK,YAAAA,UAAU,CAACK,OAAO,CAAC,CAACC,UAAU,CAAC,IAAIpD,UAAU;AAC/C,WAAC,MAAM;AACL8C,YAAAA,UAAU,CAACK,OAAO,CAAC,CAACC,UAAU,CAAC,GAAGpD,UAAU;AAC9C;AACF,SAAC,CAAC;AACJ,OAAC,CAAC;AAEF;MACA,IAAIJ,aAAa,GAAGla,MAAM,CAACqd,IAAI,CAACD,UAAU,CAAC,CACxClO,IAAI,CAAC,CAACtU,CAAC,EAAEuU,CAAC,KAAK5N,QAAQ,CAAC4N,CAAC,CAAC,GAAG5N,QAAQ,CAAC3G,CAAC,CAAC,CAAC;OACzCiI,GAAG,CAAEyV,IAAI,KAAM;AACd9T,QAAAA,IAAI,EAAE8T,IAAI;AACVtU,QAAAA,IAAI,EAAEhE,MAAM,CAACqd,IAAI,CAACD,UAAU,CAAC9E,IAAI,CAAC,CAAC,CAACzV,GAAG,CAAEuU,IAAI,KAAM;AACjDrJ,UAAAA,CAAC,EAAEqJ,IAAI;AACPlc,UAAAA,CAAC,EAAEuJ,MAAM,CAAC2Y,UAAU,CAAC9E,IAAI,CAAC,CAAClB,IAAI,CAAC,CAAC1S,OAAO,CAAC,CAAC,CAAC;AAC5C,SAAA,CAAC;AACH,OAAA,CAAC,CAAC;MAEL,MAAM9F,wBAAwB,GAC5Bsb,aAAa,CAACrY,MAAM,GAAG,CAAC,IACxBqY,aAAa,CAACA,aAAa,CAACrY,MAAM,GAAG,CAAC,CAAC,CAACmC,IAAI,CAACnC,MAAM,IAAI,CAAC;MAE1D,IAAI,CAAC+b,UAAU,GAAG1D,aAAa;AAE/B,MAAA,IAAI,CAAC2D,uBAAuB,CAAC3D,aAAa,CAAC;AAC3C,MAAA,IAAI,CAAC/a,6BAA6B,CAACP,wBAAwB,CAAC;AAC5D,MAAA,OAAOsb,aAAa;KACrB;AAED,IAAA,IAAI,IAAI,CAAC5c,MAAM,CAACuf,cAAc,EAAE;AAC9B/C,MAAAA,iBAAiB,EAAE,CAChB5T,IAAI,CAAE4N,QAAQ,IAAKgJ,eAAe,CAAChJ,QAAQ,EAAE,KAAK,CAAC,CAAC;OACpD/M,KAAK,CAAEC,KAAK,IAAI;AACfX,QAAAA,OAAO,CAACW,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;AACvD,OAAC,CAAC;AACN,KAAC,MAAM;AACL6S,MAAAA,YAAY,EAAE,CACX3T,IAAI,CAAE4N,QAAQ,IAAKgJ,eAAe,CAAChJ,QAAQ,EAAE,IAAI,CAAC,CAAC;OACnD/M,KAAK,CAAEC,KAAK,IAAI;AACfX,QAAAA,OAAO,CAACW,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;AACvD,OAAC,CAAC;AACN;AACF;EAEA,MAAM6W,uBAAuBA,CAAC3D,aAAa,EAAA;;IACzC,MAAM4D,aAAa,GACjB,IAAI,CAACne,QAAQ,CAACwE,MAAM,CAAC,CAACN,GAAG,EAAEf,MAAM,KAAKe,GAAG,IAAIf,MAAM,CAACuH,SAAS,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,GACvE,IAAI;AACN,IAAA,MAAM+I,IAAI,GAAGzM,UAAU,CAAC,CAACmX,aAAa,GAAG,CAAC,EAAEpZ,OAAO,CAAC,CAAC,CAAC,CAAC;AACvD,IAAA,MAAMqZ,kBAAkB,GAAGne,KAAK,CAAC6N,IAAI,CAAC;AAAE5L,MAAAA,MAAM,EAAE;KAAG,EAAE,CAAC0N,CAAC,EAAE/U,CAAC,KACxDmM,UAAU,CAAC,CAAC,CAACnM,CAAC,GAAG,CAAC,IAAI4Y,IAAI,EAAE1O,OAAO,CAAC,CAAC,CAAC,CAAC,CACxC;AACD,IAAA,MAAM,IAAI,CAACyX,iBAAiB,EAAE;AAE9B;AAEA,IAAA,IAAIjC,aAAa,CAACrY,MAAM,KAAK,CAAC,EAAE;AAC9BwE,MAAAA,OAAO,CAACC,IAAI,CACV,8DAA8D,CAC/D;AACD,MAAA;AACF;AAEA;IACA4T,aAAa,GAAGA,aAAa,CAACrX,GAAG,CAAEkB,MAAM,IACpC/D,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,CAAA,EAAA,EAAA8D,MAAM;MACTC,IAAI,EAAED,MAAM,CAACC,IAAI,CAACnB,GAAG,CAAEmb,SAAS,IAAKhe,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,CAAA,EAAA,EAChC+d,SAAS,CACZ,EAAA;AAAAvS,QAAAA,GAAG,EAAE,CAAC;QACNC,GAAG,EAAEqS,kBAAkB,CAAC,CAAC;QACzB;AAAC,KAAA,CACH,CAAC;AAEH,IAAA,MAAMrc,OAAO,GAAG;AACdyU,MAAAA,KAAK,EAAE;AACL7V,QAAAA,IAAI,EAAE,SAAS;AACf6N,QAAAA,MAAM,EAAE,GAAG;AACXwI,QAAAA,IAAI,EAAE;AACJC,UAAAA,OAAO,EAAE,IAAI;AAAE;AACfqH,UAAAA,cAAc,EAAE;AACjB;OACF;AACDla,MAAAA,MAAM,EAAEmW,aAAa;AAAE;AACvBgE,MAAAA,WAAW,EAAE;AACXC,QAAAA,OAAO,EAAE;AACPC,UAAAA,cAAc,EAAE,GAAG;AACnBC,UAAAA,oBAAoB,EAAE,IAAI;AAC1BC,UAAAA,MAAM,EAAE,CAAC;AACTC,UAAAA,UAAU,EAAE;AACVC,YAAAA,MAAM,EAAE,CACN;AACE/Q,cAAAA,IAAI,EAAE,CAAC;AACPgR,cAAAA,EAAE,EAAEV,kBAAkB,CAAC,CAAC,CAAC;AACzBpI,cAAAA,KAAK,EAAE,SAAS;AAChBnR,cAAAA,IAAI,EAAE,CAAA,IAAA,EAAOuZ,kBAAkB,CAAC,CAAC,CAAC,CAAA;aACnC;AAAE;AACH,YAAA;AACEtQ,cAAAA,IAAI,EAAEsQ,kBAAkB,CAAC,CAAC,CAAC;AAC3BU,cAAAA,EAAE,EAAEV,kBAAkB,CAAC,CAAC,CAAC;AACzBpI,cAAAA,KAAK,EAAE;aACR;AAAE;AACH,YAAA;AACElI,cAAAA,IAAI,EAAEsQ,kBAAkB,CAAC,CAAC,CAAC;AAC3BU,cAAAA,EAAE,EAAEV,kBAAkB,CAAC,CAAC,CAAC;AACzBpI,cAAAA,KAAK,EAAE;aACR;AAAE;AACH,YAAA;AACElI,cAAAA,IAAI,EAAEsQ,kBAAkB,CAAC,CAAC,CAAC;AAC3BU,cAAAA,EAAE,EAAEV,kBAAkB,CAAC,CAAC,CAAC;AACzBpI,cAAAA,KAAK,EAAE;aACR;AAAE;AACH,YAAA;AACElI,cAAAA,IAAI,EAAEsQ,kBAAkB,CAAC,CAAC,CAAC;AAC3BU,cAAAA,EAAE,EAAEV,kBAAkB,CAAC,CAAC,CAAC;AACzBpI,cAAAA,KAAK,EAAE;aACR;AAAE;AACH,YAAA;AACElI,cAAAA,IAAI,EAAEsQ,kBAAkB,CAAC,CAAC,CAAC;AAC3BU,cAAAA,EAAE,EAAEV,kBAAkB,CAAC,CAAC,CAAC;AACzBpI,cAAAA,KAAK,EAAE;AACR,aAAA;AAAE;AAEN;AACF;OACF;AACDoB,MAAAA,UAAU,EAAE;AACVH,QAAAA,OAAO,EAAE;OACV;AACDqC,MAAAA,MAAM,EAAE;AACN9B,QAAAA,SAAS,EAAE,UAAUwB,UAAU,EAAEO,IAAI,EAAA;AACnC;AACA,UAAA,MAAMwF,SAAS,GAAG,CAChB,6CAA6C,EAC7C,6CAA6C,EAC7C,6CAA6C,EAC7C,6CAA6C,EAC7C,6CAA6C,EAC7C,6CAA6C,CAC9C;AAED;UACA,MAAMC,UAAU,GAAGD,SAAS,CAACxF,IAAI,CAACtB,WAAW,CAAC,IAAI,MAAM,CAAC;UAEzD,OAAO,CAAA;;uBAEM+G,UAAU,CAAA;;;;;;;;;;cAUnBhG,UAAU;iBACN,CAAA;AACV;OACD;AACD3B,MAAAA,KAAK,EAAE;AACLE,QAAAA,MAAM,EAAE;AACNnE,UAAAA,KAAK,EAAE;AACLqG,YAAAA,MAAM,EAAE;AACT;AACF;OACF;AACD7B,MAAAA,KAAK,EAAE;AACLL,QAAAA,MAAM,EAAE;AACNnE,UAAAA,KAAK,EAAE;AACLqG,YAAAA,MAAM,EAAE;AACT;AACF;OACF;AAEDnC,MAAAA,OAAO,EAAE;AACPL,QAAAA,OAAO,EAAE,IAAI;AACbc,QAAAA,KAAK,EAAE;OACR;AACDkH,MAAAA,KAAK,EAAE;AACLC,QAAAA,IAAI,EAAE,wBAAwB;AAC9BC,QAAAA,KAAK,EAAE,QAAQ;AACf/L,QAAAA,KAAK,EAAE;AACL4C,UAAAA,KAAK,EAAE;AACR;AACF;KACF;IAED,MAAMoJ,YAAY,GAAG,CAAA1f,EAAA,GAAA,IAAI,CAACC,UAAU,MAAA,IAAA,IAAAD,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEE,aAAa,CAAC,gBAAgB,CAAC;IACrE,IAAI,CAACwf,YAAY,EAAE;AACjB1Y,MAAAA,OAAO,CAACW,KAAK,CAAC,sCAAsC,CAAC;AACrD,MAAA;AACF;IAEA,IAAI,IAAI,CAACxI,QAAQ,EAAE;AACjB,MAAA,IAAI,CAACA,QAAQ,CAAC4X,OAAO,EAAE;AACzB;IAEA,IAAI,CAAC5X,QAAQ,GAAG,IAAIiW,UAAU,CAACsK,YAAY,EAAErd,OAAO,CAAC;AACrD;IACA,IAAI,CAAClD,QAAQ,CAACkJ,MAAM,EAAE,CAACxB,IAAI,CAAC,MAAK;;AAC/B;MACA,MAAMyV,aAAa,GAAGzB,aAAa,CAACpF,OAAO,CAAE/Q,MAAM,IAAKA,MAAM,CAACC,IAAI,CAAC;AAEpE;AACA,MAAA,IAAI,CAAC2X,aAAa,CAAC9Z,MAAM,EAAE;AACzBwE,QAAAA,OAAO,CAACC,IAAI,CAAC,yCAAyC,CAAC;AACvD,QAAA;AACF;AAEA;AACAqV,MAAAA,aAAa,CAACzM,IAAI,CAAC,CAACtU,CAAC,EAAEuU,CAAC,KAAKvU,CAAC,CAACmT,CAAC,GAAGoB,CAAC,CAACpB,CAAC,CAAC;AAEvC;AACA,MAAA,IAAI4N,aAAa,CAAC9Z,MAAM,GAAG,CAAC,EAAE;AAC5B,QAAA,MAAM+Z,SAAS,GAAGD,aAAa,CAAC9Z,MAAM,GAAG,CAAC;QAC1C,MAAMga,UAAU,GAAG9a,IAAI,CAAC2K,GAAG,CAAC,CAAC,EAAEkQ,SAAS,GAAG,CAAC,CAAC;AAC7C,QAAkB,IAAI/a,IAAI,CAAC8a,aAAa,CAACE,UAAU,CAAC,CAAC9N,CAAC,CAAC,CAACvC,OAAO;AAC/D,QAAgB,IAAI3K,IAAI,CAAC8a,aAAa,CAACC,SAAS,CAAC,CAAC7N,CAAC,CAAC,CAACvC,OAAO;AAE5D;AACA0O,QAAAA,aAAa,CAAC/W,OAAO,CAAEY,MAAM,IAAI;AAC/BA,UAAAA,MAAM,CAACC,IAAI,CAACb,OAAO,CAAEkB,KAAK,IAAI;YAC5BA,KAAK,CAAC0J,CAAC,GAAG,IAAIlN,IAAI,CAACwD,KAAK,CAAC0J,CAAC,CAAC,CAAC;AAC9B,WAAC,CAAC;AACJ,SAAC,CAAC;AAEF;AACAmM,QAAAA,aAAa,CAAC/W,OAAO,CAAEY,MAAM,IAAI;AAC/BA,UAAAA,MAAM,CAACC,IAAI,CAACkL,IAAI,CAAC,CAACtU,CAAC,EAAEuU,CAAC,KAAKvU,CAAC,CAACmT,CAAC,GAAGoB,CAAC,CAACpB,CAAC,CAAC;AACvC,SAAC,CAAC;AAEF;QACA,MAAMiR,QAAQ,GACZ9E,aAAa,CAAC,CAAC,CAAC,CAAClW,IAAI,CAACkW,aAAa,CAAC,CAAC,CAAC,CAAClW,IAAI,CAACnC,MAAM,GAAG,CAAC,CAAC,CAACkM,CAAC;AAC3D,QAAA,MAAMkR,SAAS,GAAG,IAAIpe,IAAI,CAACme,QAAQ,CAAC;AACpCC,QAAAA,SAAS,CAAC9Z,OAAO,CAAC8Z,SAAS,CAAC7Z,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;AAE3C;AACA,QAAA,MAAM8Z,YAAY,GAAGhF,aAAa,CAACrX,GAAG,CAAEkB,MAAM,KAAM;UAClDS,IAAI,EAAET,MAAM,CAACS,IAAI;AACjBR,UAAAA,IAAI,EAAED,MAAM,CAACC,IAAI,CAACT,MAAM,CAAEc,KAAK,IAAKA,KAAK,CAAC0J,CAAC,IAAIkR,SAAS;AACzD,SAAA,CAAC,CAAC;AAEH;AACAC,QAAAA,YAAY,CAAC/b,OAAO,CAAEY,MAAM,IAAI;AAC9BA,UAAAA,MAAM,CAACC,IAAI,CAACb,OAAO,CAAEkB,KAAK,IAAI;YAC5BA,KAAK,CAAC0J,CAAC,GAAG1J,KAAK,CAAC0J,CAAC,CAACoR,kBAAkB,CAAC,OAAO,EAAE;AAC5CxjB,cAAAA,GAAG,EAAE,SAAS;AACdyc,cAAAA,KAAK,EAAE;AACR,aAAA,CAAC;AACJ,WAAC,CAAC;AACJ,SAAC,CAAC;AAEF;AACA,QAAA,IAAI,CAAC5Z,QAAQ,CAAC4gB,YAAY,CAACF,YAAY,CAAC;AAC1C;MAEA,MAAMjJ,cAAc,GAAG,CAAA5W,EAAA,GAAA,IAAI,CAACC,UAAU,MAAA,IAAA,IAAAD,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAEE,aAAa,CAAC,gBAAgB,CAAC;AACvE;MAEA,IAAI,EAAC,CAAAkC,EAAA,GAAA,IAAI,CAACnC,UAAU,MAAE,IAAA,IAAAmC,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAAlC,aAAa,CAAC,yBAAyB,CAAC,CAAA,EAAE;AAC9D;AACA0W,QAAAA,cAAc,CAACoJ,kBAAkB,CAC/B,UAAU,EACV;;;;;;;;AAQD,QAAA,CAAA,CACA;AAED;AACA,QAAA,CAAAxW,EAAA,GAAA,CAAArH,EAAA,GAAA,IAAI,CAAClC,UAAU,0CACXC,aAAa,CAAC,mBAAmB,CAAC,0CAClC2C,gBAAgB,CAAC,OAAO,EAAE,MAAK;AAC/B,UAAA,IAAI,CAACqa,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB;AACF,SAAC,CAAC;AACJ,QAAA,CAAApV,EAAA,GAAA,CAAAC,EAAA,GAAA,IAAI,CAAC9H,UAAU,0CACXC,aAAa,CAAC,gBAAgB,CAAC,0CAC/B2C,gBAAgB,CAAC,OAAO,EAAE,MAAK;AAC/B;UACA,IAAI,CAACgJ,UAAU,EAAE;AACjB,UAAA,IAAI,CAAC2S,uBAAuB,CAAC3D,aAAa,CAAC;AAC7C,SAAC,CAAC;AACJ,QAAA,CAAA7S,EAAA,GAAA,IAAI,CAAC/H,UAAU,MAAA,IAAA,IAAA+H,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CACX9H,aAAa,CAAC,mBAAmB,CAClC,CAAA2C,gBAAgB,CAAC,OAAO,EAAE,MAAM,IAAI,CAACqa,eAAe,CAAC,CAAC,CAAC,CAAC;AAC7D;AACF,KAAC,CAAC;AACJ;EAWQrS,SAASA,CAACoV,UAAU,EAAA;AAC1B,IAAA,MAAMC,UAAU,GAAG,IAAIC,KAAK,CAAC,gBAAgB,EAAE;AAC7CC,MAAAA,OAAO,EAAE,IAAI;AACbC,MAAAA,UAAU,EAAE,KAAK;AACjBC,MAAAA,QAAQ,EAAE;AACX,KAAA,CAAC;AAEF;IACCJ,UAAkB,CAACK,MAAM,GAAG;AAAEzV,MAAAA,QAAQ,EAAEmV;KAAY;IAErD,IAAI,CAACO,aAAa,CACftgB,aAAa,CAAC,gBAAgB,CAAC,CAC/BugB,aAAa,CAACP,UAAU,CAAC;AAC9B;CAID;AAtnFwCQ,UAAA,CAAA,CAAtCC,CAAQ,CAAC;AAAEC,EAAAA,SAAS,EAAE;CAAO,CAAC,CAAmB,EAAAhjB,gBAAA,CAAAijB,SAAA,EAAA,MAAA,EAAA,KAAA,CAAA,CAAA;AAC/BH,UAAA,CAAA,CAAlBC,CAAQ,EAAE,CAAqB,EAAA/iB,gBAAA,CAAAijB,SAAA,EAAA,QAAA,EAAA,KAAA,CAAA,CAAA;AACIH,UAAA,CAAA,CAAnCC,CAAQ,CAAC;AAAE1f,EAAAA,IAAI,EAAEmE;CAAQ,CAAC,CAAgC,EAAAxH,gBAAA,CAAAijB,SAAA,EAAA,WAAA,EAAA,KAAA,CAAA,CAAA;AAHvDjjB,gBAAgB,GAAAC,kBAAA,GAAA6iB,UAAA,CAAA,CADrBI,CAAa,CAAC,mBAAmB,CAAC,CAC7B,EAAAljB,gBAAgB,CAunFrB","x_google_ignoreList":[0,1,2,3,4,5,6,7]}